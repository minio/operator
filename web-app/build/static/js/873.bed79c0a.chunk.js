"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[873],{45902:function(e,n,t){var a=t(1413),s=(t(72791),t(36314)),r=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,i=e.value,o=void 0===i?"-":i,c=e.orientation,l=void 0===c?"column":c,u=e.stkProps,d=void 0===u?{}:u,x=e.lblProps,m=void 0===x?{}:x,p=e.valProps,h=void 0===p?{}:p;return(0,r.jsxs)(s.Z,(0,a.Z)((0,a.Z)({direction:{xs:"column",sm:l}},d),{},{children:[(0,r.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:600}},m),{},{children:t})),(0,r.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:500}},h),{},{children:o}))]}))}},5450:function(e,n,t){var a=t(29439),s=t(72791),r=t(57482),i=t(79836),o=t(53382),c=t(53994),l=t(56890),u=t(35855),d=t(64554),x=t(56125),m=t(20890),p=t(85172),h=t(95678),j=t(39281),f=t(35527),v=t(80184),Z=function(e){var n=e.event,t=s.useState(!1),r=(0,a.Z)(t,2),i=r[0],o=r[1];return(0,v.jsxs)(s.Fragment,{children:[(0,v.jsxs)(u.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,v.jsx)(c.Z,{component:"th",scope:"row",onClick:function(){return o(!i)},children:n.event_type}),(0,v.jsx)(c.Z,{onClick:function(){return o(!i)},children:n.reason}),(0,v.jsx)(c.Z,{onClick:function(){return o(!i)},children:n.seen}),(0,v.jsx)(c.Z,{onClick:function(){return o(!i)},children:n.message.length>=30?"".concat(n.message.slice(0,30),"..."):n.message}),(0,v.jsx)(c.Z,{onClick:function(){return o(!i)},children:i?(0,v.jsx)(h.Z,{}):(0,v.jsx)(p.Z,{})})]}),(0,v.jsx)(u.Z,{children:(0,v.jsx)(c.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,v.jsx)(x.Z,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,v.jsx)(d.Z,{sx:{margin:1},children:(0,v.jsx)(m.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:n.message})})})})})]})};n.Z=function(e){var n=e.events;return e.loading?(0,v.jsx)(r.Z,{}):(0,v.jsx)(j.Z,{component:f.Z,children:(0,v.jsxs)(i.Z,{"aria-label":"collapsible table",children:[(0,v.jsx)(l.Z,{children:(0,v.jsxs)(u.Z,{children:[(0,v.jsx)(c.Z,{children:"Type"}),(0,v.jsx)(c.Z,{children:"Reason"}),(0,v.jsx)(c.Z,{children:"Age"}),(0,v.jsx)(c.Z,{children:"Message"}),(0,v.jsx)(c.Z,{})]})}),(0,v.jsx)(o.Z,{children:n.map((function(e){return(0,v.jsx)(Z,{event:e},"".concat(e.event_type,"-").concat(e.seen))}))})]})})}},14873:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var a=t(29439),s=t(1413),r=t(72791),i=t(57689),o=t(11087),c=t(11135),l=t(25787),u=t(23814),d=t(61889),x=t(25228),m=t(43896),p=t(78687),h=t(5171),j=t(27391),f=t(35527),v=t(63466),Z=t(81207),b=t(75952),g=t(41320),y=t(87995),k=t(80184),S=(0,l.Z)((function(e){return(0,c.Z)((0,s.Z)((0,s.Z)({logList:{background:"#fff",minHeight:400,height:"calc(100vh - 304px)",overflow:"auto",fontSize:13,padding:"25px 45px 0",border:"1px solid #EAEDEE",borderRadius:4}},u.qg),{},{actionsTray:(0,s.Z)((0,s.Z)({},u.OR.actionsTray),{},{padding:"15px 0 0"}),logerror_tab:{color:"#A52A2A",paddingLeft:25},ansidefault:{color:"#000",lineHeight:"16px"},highlight:{"& span":{backgroundColor:"#082F5238"}}},u.Bz))}))((function(e){var n=e.classes,t=e.tenant,i=e.namespace,o=e.podName,c=e.propLoading,l=(0,g.TL)(),u=(0,p.v9)((function(e){return e.tenants.loadingTenant})),x=(0,r.useState)(""),m=(0,a.Z)(x,2),S=m[0],C=m[1],N=(0,r.useState)([]),w=(0,a.Z)(N,2),P=w[0],L=w[1],T=(0,r.useState)(!0),E=(0,a.Z)(T,2),F=E[0],I=E[1],R=new h.t1({minWidth:5,fixedHeight:!1});(0,r.useEffect)((function(){c&&I(!0)}),[c]),(0,r.useEffect)((function(){u&&I(!0)}),[u]);var A=function(e,t){if(!e)return null;var a=(e=e.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),s=""!==S&&e.toLowerCase().includes(S.toLowerCase());return a.startsWith("   ")?(0,k.jsx)("div",{className:"".concat(s?n.highlight:""),children:(0,k.jsx)("span",{className:n.tab,children:a})},t):(0,k.jsx)("div",{className:"".concat(s?n.highlight:""),children:(0,k.jsx)("span",{className:n.ansidefault,children:a})},t)};function B(e){var n=e.columnIndex,t=e.key,a=e.parent,r=e.index,i=e.style;return(0,k.jsx)(h.Z8,{cache:R,columnIndex:n,parent:a,rowIndex:r,children:(0,k.jsx)("div",{style:(0,s.Z)({},i),children:A(P[r],r)})},t)}return(0,r.useEffect)((function(){F&&Z.Z.invoke("GET","/api/v1/namespaces/".concat(i,"/tenants/").concat(t,"/pods/").concat(o)).then((function(e){L(e.split("\n")),I(!1)})).catch((function(e){l((0,y.Ih)(e)),I(!1)}))}),[F,o,i,t,l]),(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(d.ZP,{item:!0,xs:12,className:n.actionsTray,children:(0,k.jsx)(j.Z,{placeholder:"Highlight Line",className:n.searchField,id:"search-resource",label:"",onChange:function(e){C(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,k.jsx)(v.Z,{position:"start",children:(0,k.jsx)(b.W1M,{})})},variant:"standard"})}),(0,k.jsx)(d.ZP,{item:!0,xs:12,children:(0,k.jsx)("br",{})}),(0,k.jsx)(d.ZP,{item:!0,xs:12,children:(0,k.jsx)(f.Z,{children:(0,k.jsx)("div",{className:n.logList,children:P.length>=1&&(0,k.jsx)(h.qj,{children:function(e){var n=e.width,t=e.height;return(0,k.jsx)(h.aV,{rowHeight:function(e){return R.rowHeight(e)},overscanRowCount:15,rowCount:P.length,rowRenderer:B,width:n,height:t})}})})})})]})})),C=t(45248),N=t(5450),w=function(e){var n=e.tenant,t=e.namespace,s=e.podName,i=e.propLoading,o=(0,g.TL)(),c=(0,p.v9)((function(e){return e.tenants.loadingTenant})),l=(0,r.useState)([]),u=(0,a.Z)(l,2),x=u[0],m=u[1],h=(0,r.useState)(!0),j=(0,a.Z)(h,2),f=j[0],v=j[1];return(0,r.useEffect)((function(){i&&v(!0)}),[i]),(0,r.useEffect)((function(){c&&v(!0)}),[c]),(0,r.useEffect)((function(){f&&Z.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(s,"/events")).then((function(e){for(var n=0;n<e.length;n++){var t=Date.now()/1e3|0;e[n].seen=(0,C.v1)((t-e[n].last_seen).toString())}m(e),v(!1)})).catch((function(e){o((0,y.Ih)(e)),v(!1)}))}),[f,s,t,n,o]),(0,k.jsx)(r.Fragment,{children:(0,k.jsx)(d.ZP,{item:!0,xs:12,children:(0,k.jsx)(N.Z,{events:x,loading:f})})})},P=t(64554),L=t(81918),T=t(79836),E=t(53382),F=t(53994),I=t(56890),R=t(35855),A=t(39281),B=t(45902),D={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},M=function(e){var n=e.title;return(0,k.jsx)(P.Z,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,k.jsx)("h3",{children:n})})},V=function(e){var n=e.describeInfo;return(0,k.jsx)(r.Fragment,{children:(0,k.jsxs)("div",{id:"pod-describe-summary-content",children:[(0,k.jsx)(M,{title:"Summary"}),(0,k.jsxs)(P.Z,{sx:(0,s.Z)({},D),children:[(0,k.jsx)(B.Z,{label:"Name",value:n.name}),(0,k.jsx)(B.Z,{label:"Namespace",value:n.namespace}),(0,k.jsx)(B.Z,{label:"Node",value:n.nodeName}),(0,k.jsx)(B.Z,{label:"Start time",value:n.startTime}),(0,k.jsx)(B.Z,{label:"Status",value:n.phase}),(0,k.jsx)(B.Z,{label:"QoS Class",value:n.qosClass}),(0,k.jsx)(B.Z,{label:"IP",value:n.podIP})]})]})})},G=function(e){var n=e.annotations;return(0,k.jsx)(r.Fragment,{children:(0,k.jsxs)("div",{id:"pod-describe-annotations-content",children:[(0,k.jsx)(M,{title:"Annotations"}),(0,k.jsx)(P.Z,{children:n.map((function(e,n){return(0,k.jsx)(L.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)}))})]})})},H=function(e){var n=e.labels;return(0,k.jsx)(r.Fragment,{children:(0,k.jsxs)("div",{id:"pod-describe-labels-content",children:[(0,k.jsx)(M,{title:"Labels"}),(0,k.jsx)(P.Z,{children:n.map((function(e,n){return(0,k.jsx)(L.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)}))})]})})},O=function(e){var n=e.conditions;return(0,k.jsx)("div",{id:"pod-describe-conditions-content",children:(0,k.jsx)(z,{title:"Conditions",columns:["type","status"],columnsLabels:["Type","Status"],items:n})})},_=function(e){var n=e.tolerations;return(0,k.jsx)("div",{id:"pod-describe-tolerations-content",children:(0,k.jsx)(z,{title:"Tolerations",columns:["effect","key","operator","tolerationSeconds"],columnsLabels:["Effect","Key","Operator","Seconds of toleration"],items:n})})},W=function(e){var n=e.volumes;return(0,k.jsx)(r.Fragment,{children:(0,k.jsx)("div",{id:"pod-describe-volumes-content",children:n.map((function(e,n){return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(M,{title:"Volume ".concat(e.name)}),(0,k.jsxs)(P.Z,{sx:(0,s.Z)({},D),children:[e.pvc&&(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(B.Z,{label:"Type",value:"Persistant Volume Claim"}),(0,k.jsx)(B.Z,{label:"Claim Name",value:e.pvc.claimName})]}),e.projected&&(0,k.jsx)(B.Z,{label:"Type",value:"Projected"})]})]},n)}))})})},z=function(e){var n=e.title,t=e.items,a=e.columns,s=e.columnsLabels;return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(M,{title:n}),(0,k.jsx)(P.Z,{children:(0,k.jsx)(A.Z,{component:f.Z,children:(0,k.jsxs)(T.Z,{"aria-label":"collapsible table",children:[(0,k.jsx)(I.Z,{children:(0,k.jsx)(R.Z,{children:s.map((function(e,n){return(0,k.jsx)(F.Z,{children:e},n)}))})}),(0,k.jsx)(E.Z,{children:t.map((function(e,n){return(0,k.jsx)(R.Z,{children:a.map((function(n,t){return(0,k.jsx)(F.Z,{children:e[n]},t)}))},n)}))})]})})})]})},q=function(e){var n=e.containers;return(0,k.jsx)(r.Fragment,{children:(0,k.jsx)("div",{id:"pod-describe-containers-content",children:n.map((function(e,n){var t,a;return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(M,{title:"Container ".concat(e.name)}),(0,k.jsxs)(P.Z,{style:{wordBreak:"break-all"},sx:(0,s.Z)({},D),children:[(0,k.jsx)(B.Z,{label:"Image",value:e.image}),(0,k.jsx)(B.Z,{label:"Ready",value:"".concat(e.ready)}),(0,k.jsx)(B.Z,{label:"Ports",value:e.ports.join(", ")}),(0,k.jsx)(B.Z,{label:"Host Ports",value:e.hostPorts.join(", ")}),(0,k.jsx)(B.Z,{label:"Arguments",value:e.args.join(", ")}),(0,k.jsx)(B.Z,{label:"Started",value:null===(t=e.state)||void 0===t?void 0:t.started}),(0,k.jsx)(B.Z,{label:"State",value:null===(a=e.state)||void 0===a?void 0:a.state})]}),(0,k.jsxs)(P.Z,{style:{wordBreak:"break-all"},sx:(0,s.Z)({},D),children:[(0,k.jsx)(B.Z,{label:"Image ID",value:e.imageID}),(0,k.jsx)(B.Z,{label:"Container ID",value:e.containerID})]}),(0,k.jsx)(z,{title:"Mounts",columns:["name","mountPath"],columnsLabels:["Name","Mount Path"],items:e.mounts}),(0,k.jsx)(z,{title:"Environment Variables",columns:["key","value"],columnsLabels:["Key","Value"],items:e.environmentVariables})]},n)}))})})},U=function(e){var n=e.tenant,t=e.namespace,s=e.podName,i=e.propLoading,o=(0,g.TL)(),c=(0,p.v9)((function(e){return e.tenants.loadingTenant})),l=(0,r.useState)(),u=(0,a.Z)(l,2),h=u[0],j=u[1],f=(0,r.useState)(!0),v=(0,a.Z)(f,2),b=v[0],S=v[1],C=(0,r.useState)(0),N=(0,a.Z)(C,2),w=N[0],P=N[1];(0,r.useEffect)((function(){i&&S(!0)}),[i]),(0,r.useEffect)((function(){c&&S(!0)}),[c]),(0,r.useEffect)((function(){b&&Z.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(s,"/describe")).then((function(e){var n=L(e);j(n),S(!1)})).catch((function(e){o((0,y.Ih)(e)),S(!1)}))}),[b,s,t,n,o]);var L=function(e){return e.containers=e.containers.map((function(e){return e.environmentVariables=e.environmentVariables.filter((function(e){return null!==e})),e})),e};return(0,k.jsx)(r.Fragment,{children:h&&(0,k.jsxs)(d.ZP,{item:!0,xs:12,children:[(0,k.jsxs)(x.Z,{value:w,onChange:function(e,n){P(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(m.Z,{id:"pod-describe-summary",label:"Summary"}),(0,k.jsx)(m.Z,{id:"pod-describe-annotations",label:"Annotations"}),(0,k.jsx)(m.Z,{id:"pod-describe-labels",label:" Labels"}),(0,k.jsx)(m.Z,{id:"pod-describe-conditions",label:"Conditions"}),(0,k.jsx)(m.Z,{id:"pod-describe-tolerations",label:"Tolerations"}),(0,k.jsx)(m.Z,{id:"pod-describe-volumes",label:"Volumes"}),(0,k.jsx)(m.Z,{id:"pod-describe-containers",label:"Containers"})]}),function(e,n){switch(e){case 0:return(0,k.jsx)(V,{describeInfo:n});case 1:return(0,k.jsx)(G,{annotations:n.annotations});case 2:return(0,k.jsx)(H,{labels:n.labels});case 3:return(0,k.jsx)(O,{conditions:n.conditions});case 4:return(0,k.jsx)(_,{tolerations:n.tolerations});case 5:return(0,k.jsx)(W,{volumes:n.volumes});case 6:return(0,k.jsx)(q,{containers:n.containers})}}(w,h)]})})},$=(0,l.Z)((function(e){return(0,c.Z)((0,s.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},u.Bz))}))((function(e){var n=e.classes,t=(0,i.UO)(),c=t.tenantNamespace,l=t.tenantName,u=t.podName,p=(0,r.useState)(0),h=(0,a.Z)(p,2),j=h[0],f=h[1],v=(0,r.useState)(!0),Z=(0,a.Z)(v,2),b=Z[0],g=Z[1];function y(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return(0,r.useEffect)((function(){b&&g(!1)}),[b]),(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(d.ZP,{item:!0,xs:12,children:(0,k.jsxs)("h1",{className:n.sectionTitle,children:[(0,k.jsx)(o.rU,{to:"/namespaces/".concat(c||"","/tenants/").concat(l||"","/pods"),className:n.breadcrumLink,children:"Pods"})," ","> ",u]})}),(0,k.jsxs)(d.ZP,{container:!0,children:[(0,k.jsx)(d.ZP,{item:!0,xs:9,children:(0,k.jsxs)(x.Z,{value:j,onChange:function(e,n){f(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(m.Z,(0,s.Z)({label:"Events"},y(0))),(0,k.jsx)(m.Z,(0,s.Z)({label:"Describe"},y(1))),(0,k.jsx)(m.Z,(0,s.Z)({label:"Logs"},y(2)))]})}),0===j&&(0,k.jsx)(w,{tenant:l||"",namespace:c||"",podName:u||"",propLoading:b}),1===j&&(0,k.jsx)(U,{tenant:l||"",namespace:c||"",podName:u||"",propLoading:b}),2===j&&(0,k.jsx)(S,{tenant:l||"",namespace:c||"",podName:u||"",propLoading:b})]})]})}))},36314:function(e,n,t){t.d(n,{Z:function(){return w}});var a=t(4942),s=t(63366),r=t(87462),i=t(72791),o=t(28182),c=t(82466),l=t(94419),u=t(21217),d=t(93457),x=t(86083),m=t(78519),p=t(85080),h=t(51184),j=t(45682),f=t(80184),v=["component","direction","spacing","divider","children","className","useFlexGap"],Z=(0,p.Z)(),b=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return n.root}});function g(e){return(0,x.Z)({props:e,name:"MuiStack",defaultTheme:Z})}function y(e,n){var t=i.Children.toArray(e).filter(Boolean);return t.reduce((function(e,a,s){return e.push(a),s<t.length-1&&e.push(i.cloneElement(n,{key:"separator-".concat(s)})),e}),[])}var k=function(e){var n=e.ownerState,t=e.theme,s=(0,r.Z)({display:"flex",flexDirection:"column"},(0,h.k9)({theme:t},(0,h.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var i=(0,j.hB)(t),o=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),l=(0,h.P$)({values:n.direction,base:o}),u=(0,h.P$)({values:n.spacing,base:o});"object"===typeof l&&Object.keys(l).forEach((function(e,n,t){if(!l[e]){var a=n>0?l[t[n-1]]:"column";l[e]=a}}));s=(0,c.Z)(s,(0,h.k9)({theme:t},u,(function(e,t){return n.useFlexGap?{gap:(0,j.NA)(i,e)}:{"& > :not(style) + :not(style)":(0,a.Z)({margin:0},"margin".concat((s=t?l[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[s])),(0,j.NA)(i,e))};var s})))}return s=(0,h.dt)(t.breakpoints,s)};var S=t(66934),C=t(31402),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.createStyledComponent,t=void 0===n?b:n,a=e.useThemeProps,c=void 0===a?g:a,d=e.componentName,x=void 0===d?"MuiStack":d,p=t(k),h=i.forwardRef((function(e,n){var t=c(e),a=(0,m.Z)(t),i=a.component,d=void 0===i?"div":i,h=a.direction,j=void 0===h?"column":h,Z=a.spacing,b=void 0===Z?0:Z,g=a.divider,k=a.children,S=a.className,C=a.useFlexGap,N=void 0!==C&&C,w=(0,s.Z)(a,v),P={direction:j,spacing:b,useFlexGap:N},L=(0,l.Z)({root:["root"]},(function(e){return(0,u.Z)(x,e)}),{});return(0,f.jsx)(p,(0,r.Z)({as:d,ownerState:P,ref:n,className:(0,o.Z)(L.root,S)},w,{children:g?y(k,g):k}))}));return h}({createStyledComponent:(0,S.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return n.root}}),useThemeProps:function(e){return(0,C.Z)({props:e,name:"MuiStack"})}}),w=N}}]);
//# sourceMappingURL=873.bed79c0a.chunk.js.map
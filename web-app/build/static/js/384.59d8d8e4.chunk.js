"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[384],{9114:(e,t,n)=>{n.d(t,{Z:()=>a});n(2791);var s=n(9945),o=n(184);const a=e=>{let{placeholder:t="",onChange:n,overrideClass:a,value:l,id:i="search-resource",label:r="",sx:c}=e;return(0,o.jsx)(s.Wzg,{placeholder:t,className:a||"",id:i,label:r,onChange:e=>{n(e.target.value)},value:l,startIcon:(0,o.jsx)(s.W1M,{}),sx:c})}},5450:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(2791),o=n(9945),a=n(184);const l=e=>{const{event:t}=e,[n,l]=s.useState(!1);return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsxs)(o.SCH,{sx:{cursor:"pointer"},children:[(0,a.jsx)(o.bil,{scope:"row",onClick:()=>l(!n),sx:{borderBottom:0},children:t.event_type}),(0,a.jsx)(o.pj1,{onClick:()=>l(!n),sx:{borderBottom:0},children:t.reason}),(0,a.jsx)(o.pj1,{onClick:()=>l(!n),sx:{borderBottom:0},children:t.seen}),(0,a.jsx)(o.pj1,{onClick:()=>l(!n),sx:{borderBottom:0},children:t.message.length>=30?"".concat(t.message.slice(0,30),"..."):t.message}),(0,a.jsx)(o.pj1,{onClick:()=>l(!n),sx:{borderBottom:0},children:n?(0,a.jsx)(o.ZyT,{}):(0,a.jsx)(o.ASC,{})})]}),(0,a.jsx)(o.SCH,{children:(0,a.jsx)(o.pj1,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:n&&(0,a.jsx)(o.xuv,{useBackground:!0,sx:{padding:10,marginBottom:10},children:t.message})})})]})},i=e=>{let{events:t,loading:n}=e;return n?(0,a.jsx)(o.kod,{}):(0,a.jsx)(o.xuv,{withBorders:!0,customBorderPadding:"0px",children:(0,a.jsxs)(o.iA_,{"aria-label":"collapsible table",children:[(0,a.jsx)(o.ssF,{children:(0,a.jsxs)(o.SCH,{children:[(0,a.jsx)(o.pj1,{children:"Type"}),(0,a.jsx)(o.pj1,{children:"Reason"}),(0,a.jsx)(o.pj1,{children:"Age"}),(0,a.jsx)(o.pj1,{children:"Message"}),(0,a.jsx)(o.pj1,{})]})}),(0,a.jsx)(o.RMI,{children:t.map((e=>(0,a.jsx)(l,{event:e},"".concat(e.event_type,"-").concat(e.seen))))})]})})}},4873:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var s=n(2791),o=n(9945),a=n(7689),l=n(1087),i=n(9434),r=n(463),c=n(6444),d=n(6181),p=n.n(d),u=n(1320),m=n(7995),h=n(9114),x=n(1207),j=n(184);const g=c.ZP.div((e=>{let{theme:t}=e;return{"&.highlighted":{"& span":{backgroundColor:p()(t,"signalColors.warning","#FFBD62")}},"& .ansidefault":{color:p()(t,"fontColor","#000"),lineHeight:"16px"}}})),b=e=>{let{tenant:t,namespace:n,podName:a,propLoading:l}=e;const c=(0,u.TL)(),d=(0,i.v9)((e=>e.tenants.loadingTenant)),[p,b]=(0,s.useState)(""),[f,v]=(0,s.useState)([]),[y,S]=(0,s.useState)(!0),C=new r.t1({minWidth:5,fixedHeight:!1});(0,s.useEffect)((()=>{l&&S(!0)}),[l]),(0,s.useEffect)((()=>{d&&S(!0)}),[d]);const k=(e,t)=>{if(!e)return null;let n=(e=e.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),s=""!==p&&e.toLowerCase().includes(p.toLowerCase());return n.startsWith("   ")?(0,j.jsx)(g,{className:"".concat(s?"highlighted":""),children:(0,j.jsx)("span",{className:"tab",children:n})},t):(0,j.jsx)(g,{className:"".concat(s?"highlighted":""),children:(0,j.jsx)("span",{className:"ansidefault",children:n})},t)};function w(e){let{columnIndex:t,key:n,parent:s,index:o,style:a}=e;return(0,j.jsx)(r.Z8,{cache:C,columnIndex:t,parent:s,rowIndex:o,children:(0,j.jsx)("div",{style:{...a},children:k(f[o],o)})},n)}return(0,s.useEffect)((()=>{y&&x.Z.invoke("GET","/api/v1/namespaces/".concat(n,"/tenants/").concat(t,"/pods/").concat(a)).then((e=>{v(e.split("\n")),S(!1)})).catch((e=>{c((0,m.Ih)(e)),S(!1)}))}),[y,a,n,t,c]),(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(o.rjZ,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",alignItems:"center",gap:10,"& button":{flexGrow:0,marginLeft:8}},children:(0,j.jsx)(h.Z,{value:p,placeholder:"Highlight Line",onChange:e=>{b(e)}})}),(0,j.jsx)(o.rjZ,{item:!0,xs:12,children:(0,j.jsx)(o.xuv,{sx:{minHeight:400,height:"calc(100vh - 310px)",overflow:"hidden",fontSize:13,padding:"25px 45px 0"},useBackground:!0,withBorders:!0,children:f.length>=1&&(0,j.jsx)(r.qj,{children:e=>{let{width:t,height:n}=e;return(0,j.jsx)(r.aV,{rowHeight:e=>C.rowHeight(e),overscanRowCount:15,rowCount:f.length,rowRenderer:w,width:t,height:n})}})})})]})};var f=n(5248),v=n(5450);const y=e=>{let{tenant:t,namespace:n,podName:a,propLoading:l}=e;const r=(0,u.TL)(),c=(0,i.v9)((e=>e.tenants.loadingTenant)),[d,p]=(0,s.useState)([]),[h,g]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{l&&g(!0)}),[l]),(0,s.useEffect)((()=>{c&&g(!0)}),[c]),(0,s.useEffect)((()=>{h&&x.Z.invoke("GET","/api/v1/namespaces/".concat(n,"/tenants/").concat(t,"/pods/").concat(a,"/events")).then((e=>{for(let t=0;t<e.length;t++){let n=Date.now()/1e3|0;e[t].seen=(0,f.v1)((n-e[t].last_seen).toString())}p(e),g(!1)})).catch((e=>{r((0,m.Ih)(e)),g(!1)}))}),[h,a,n,t,r]),(0,j.jsx)(s.Fragment,{children:(0,j.jsx)(o.rjZ,{item:!0,xs:12,children:(0,j.jsx)(v.Z,{events:d,loading:h})})})},S={display:"grid",gridTemplateColumns:"2fr 1fr",gridAutoFlow:"row",gap:2,padding:"15px",["@media (max-width: ".concat(o.Egj.sm,"px)")]:{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}},C=e=>{let{title:t}=e;return(0,j.jsx)(o.NZf,{separator:!0,sx:{marginBottom:5},children:t})},k=e=>{let{describeInfo:t}=e;return(0,j.jsx)(s.Fragment,{children:(0,j.jsxs)("div",{id:"pod-describe-summary-content",children:[(0,j.jsx)(C,{title:"Summary"}),(0,j.jsxs)(o.xuv,{sx:{...S},children:[(0,j.jsx)(o.kKA,{label:"Name",value:t.name}),(0,j.jsx)(o.kKA,{label:"Namespace",value:t.namespace}),(0,j.jsx)(o.kKA,{label:"Node",value:t.nodeName}),(0,j.jsx)(o.kKA,{label:"Start time",value:t.startTime}),(0,j.jsx)(o.kKA,{label:"Status",value:t.phase}),(0,j.jsx)(o.kKA,{label:"QoS Class",value:t.qosClass}),(0,j.jsx)(o.kKA,{label:"IP",value:t.podIP})]})]})})},w=e=>{let{annotations:t}=e;return(0,j.jsx)(s.Fragment,{children:(0,j.jsxs)("div",{id:"pod-describe-annotations-content",children:[(0,j.jsx)(C,{title:"Annotations"}),(0,j.jsx)(o.xuv,{children:t.map(((e,t)=>(0,j.jsx)(o.Vp9,{id:"".concat(e.key,"-").concat(e.value),sx:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},t)))})]})})},A=e=>{let{labels:t}=e;return(0,j.jsx)(s.Fragment,{children:(0,j.jsxs)("div",{id:"pod-describe-labels-content",children:[(0,j.jsx)(C,{title:"Labels"}),(0,j.jsx)(o.xuv,{children:t.map(((e,t)=>(0,j.jsx)(o.Vp9,{id:"".concat(e.key,"-").concat(e.value),sx:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},t)))})]})})},F=e=>{let{conditions:t}=e;return(0,j.jsx)("div",{id:"pod-describe-conditions-content",children:(0,j.jsx)(E,{title:"Conditions",columns:["type","status"],columnsLabels:["Type","Status"],items:t})})},N=e=>{let{tolerations:t}=e;return(0,j.jsx)("div",{id:"pod-describe-tolerations-content",children:(0,j.jsx)(E,{title:"Tolerations",columns:["effect","key","operator","tolerationSeconds"],columnsLabels:["Effect","Key","Operator","Seconds of toleration"],items:t})})},_=e=>{let{volumes:t}=e;return(0,j.jsx)(s.Fragment,{children:(0,j.jsx)("div",{id:"pod-describe-volumes-content",children:t.map(((e,t)=>(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(C,{title:"Volume ".concat(e.name)}),(0,j.jsxs)(o.xuv,{sx:{...S},children:[e.pvc&&(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(o.kKA,{label:"Type",value:"Persistant Volume Claim"}),(0,j.jsx)(o.kKA,{label:"Claim Name",value:e.pvc.claimName})]}),e.projected&&(0,j.jsx)(o.kKA,{label:"Type",value:"Projected"})]})]},t)))})})},E=e=>{let{title:t,items:n,columns:a,columnsLabels:l}=e;return(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(C,{title:t}),(0,j.jsx)(o.xuv,{children:(0,j.jsxs)(o.iA_,{"aria-label":"collapsible table",children:[(0,j.jsx)(o.ssF,{children:(0,j.jsx)(o.SCH,{children:l.map(((e,t)=>(0,j.jsx)(o.pj1,{children:e},t)))})}),(0,j.jsx)(o.RMI,{children:n.map(((e,t)=>(0,j.jsx)(o.SCH,{children:a.map(((t,n)=>(0,j.jsx)(o.pj1,{children:e[t]},n)))},t)))})]})})]})},P=e=>{let{containers:t}=e;return(0,j.jsx)(s.Fragment,{children:(0,j.jsx)("div",{id:"pod-describe-containers-content",children:t.map(((e,t)=>{var n,a;return(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(C,{title:"Container ".concat(e.name)}),(0,j.jsxs)(o.xuv,{style:{wordBreak:"break-all"},sx:{...S},children:[(0,j.jsx)(o.kKA,{label:"Image",value:e.image}),(0,j.jsx)(o.kKA,{label:"Ready",value:"".concat(e.ready)}),(0,j.jsx)(o.kKA,{label:"Ports",value:e.ports.join(", ")}),(0,j.jsx)(o.kKA,{label:"Host Ports",value:e.hostPorts.join(", ")}),(0,j.jsx)(o.kKA,{label:"Arguments",value:e.args.join(", ")}),(0,j.jsx)(o.kKA,{label:"Started",value:null===(n=e.state)||void 0===n?void 0:n.started}),(0,j.jsx)(o.kKA,{label:"State",value:null===(a=e.state)||void 0===a?void 0:a.state})]}),(0,j.jsxs)(o.xuv,{style:{wordBreak:"break-all"},sx:{...S},children:[(0,j.jsx)(o.kKA,{label:"Image ID",value:e.imageID}),(0,j.jsx)(o.kKA,{label:"Container ID",value:e.containerID})]}),(0,j.jsx)(E,{title:"Mounts",columns:["name","mountPath"],columnsLabels:["Name","Mount Path"],items:e.mounts}),(0,j.jsx)(E,{title:"Environment Variables",columns:["key","value"],columnsLabels:["Key","Value"],items:e.environmentVariables})]},t)}))})})},I=e=>{let{tenant:t,namespace:n,podName:a,propLoading:l}=e;const r=(0,u.TL)(),c=(0,i.v9)((e=>e.tenants.loadingTenant)),[d,p]=(0,s.useState)(),[h,g]=(0,s.useState)(!0),[b,f]=(0,s.useState)("pod-describe-summary");(0,s.useEffect)((()=>{l&&g(!0)}),[l]),(0,s.useEffect)((()=>{c&&g(!0)}),[c]),(0,s.useEffect)((()=>{h&&x.Z.invoke("GET","/api/v1/namespaces/".concat(n,"/tenants/").concat(t,"/pods/").concat(a,"/describe")).then((e=>{const t=v(e);p(t),g(!1)})).catch((e=>{r((0,m.Ih)(e)),g(!1)}))}),[h,a,n,t,r]);const v=e=>(e.containers=e.containers.map((e=>(e.environmentVariables=e.environmentVariables.filter((e=>null!==e)),e))),e);return(0,j.jsx)(s.Fragment,{children:d&&(0,j.jsx)(o.rjZ,{item:!0,xs:12,children:(0,j.jsx)(o.mQc,{currentTabOrPath:b,onTabClick:e=>{f(e)},horizontal:!0,options:[{tabConfig:{id:"pod-describe-summary",label:"Summary"},content:(0,j.jsx)(k,{describeInfo:d})},{tabConfig:{id:"pod-describe-annotations",label:"Annotations"},content:(0,j.jsx)(w,{annotations:d.annotations})},{tabConfig:{id:"pod-describe-labels",label:"Labels"},content:(0,j.jsx)(A,{labels:d.labels})},{tabConfig:{id:"pod-describe-conditions",label:"Conditions"},content:(0,j.jsx)(F,{conditions:d.conditions})},{tabConfig:{id:"pod-describe-tolerations",label:"Tolerations"},content:(0,j.jsx)(N,{tolerations:d.tolerations})},{tabConfig:{id:"pod-describe-volumes",label:"Volumes"},content:(0,j.jsx)(_,{volumes:d.volumes})},{tabConfig:{id:"pod-describe-containers",label:"Containers"},content:(0,j.jsx)(P,{containers:d.containers})}]})})})},T=()=>{const{tenantNamespace:e,tenantName:t,podName:n}=(0,a.UO)(),[i,r]=(0,s.useState)("simple-tab-0"),[c,d]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{c&&d(!1)}),[c]),(0,j.jsxs)(s.Fragment,{children:[(0,j.jsxs)(o.NZf,{separator:!0,sx:{marginBottom:15},children:[(0,j.jsx)(l.rU,{to:"/namespaces/".concat(e||"","/tenants/").concat(t||"","/pods"),children:"Pods"})," ","> ",n]}),(0,j.jsx)(o.mQc,{options:[{tabConfig:{id:"simple-tab-0",label:"Events"},content:(0,j.jsx)(y,{tenant:t||"",namespace:e||"",podName:n||"",propLoading:c})},{tabConfig:{id:"simple-tab-1",label:"Describe"},content:(0,j.jsx)(I,{tenant:t||"",namespace:e||"",podName:n||"",propLoading:c})},{tabConfig:{id:"simple-tab-2",label:"Logs"},content:(0,j.jsx)(b,{tenant:t||"",namespace:e||"",podName:n||"",propLoading:c})}],currentTabOrPath:i,onTabClick:e=>{r(e)},horizontal:!0})]})}},3688:(e,t,n)=>{function s(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function a(e,t){try{var n=this.props,s=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,s)}finally{this.props=n,this.state=s}}function l(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,l=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?l="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(l="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==l||null!==i){var r=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+r+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==l?"\n  "+l:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=s,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var s=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,s)}}return e}n.r(t),n.d(t,{polyfill:()=>l}),s.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0}}]);
//# sourceMappingURL=384.59d8d8e4.chunk.js.map
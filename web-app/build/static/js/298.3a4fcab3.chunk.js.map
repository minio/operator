{"version":3,"file":"static/js/298.3a4fcab3.chunk.js","mappings":"kNAiCA,MA0FA,EA1FkBA,KAChB,MAAMC,GAAWC,EAAAA,EAAAA,OACX,WAAEC,EAAU,gBAAEC,IAAoBC,EAAAA,EAAAA,MAElCC,GAAgBC,EAAAA,EAAAA,KACnBC,GAAoBA,EAAMC,QAAQH,iBAG9BI,EAASC,IAAcC,EAAAA,EAAAA,WAAkB,IACzCC,IAAaD,EAAAA,EAAAA,UAAmB,CAAC,MACjCE,IAAWF,EAAAA,EAAAA,UAAmB,CAAC,MAC/BG,IAAkBH,EAAAA,EAAAA,UAAmB,CAAC,KAwC7C,OAtCAI,EAAAA,EAAAA,YAAU,KACJV,GACFK,GAAW,EACb,GACC,CAACL,KAEJU,EAAAA,EAAAA,YAAU,KACJN,GACFO,EAAAA,EACGC,OACC,MAAM,sBAADC,OACiBf,GAAmB,GAAE,aAAAe,OACzChB,GAAc,GAAE,SAGnBiB,MAAMC,IACL,IAAK,IAAIC,EAAK,EAAGA,EAAKD,EAAIE,WAAWC,OAAQF,IAAM,CACjD,IAAIG,EAAQJ,EAAIE,WAAWD,GAC3BT,EAAUa,KAAKD,EAAME,QACrBb,EAAQY,KAAKD,EAAMG,MACnBb,EAAeW,KAAKD,EAAMI,YAC5B,CACAlB,GAAW,EAAM,IAElBmB,OAAOC,IACN9B,GAAS+B,EAAAA,EAAAA,IAAqBD,GAAK,GAEzC,GACC,CACDrB,EACAN,EACAD,EACAY,EACAD,EACAD,EACAZ,KAIAgC,EAAAA,EAAAA,MAACC,EAAAA,SAAQ,CAAAC,SAAA,EACPC,EAAAA,EAAAA,KAACC,EAAAA,IAAY,CAACC,WAAS,EAACC,GAAI,CAAEC,aAAc,IAAKL,SAAC,kCAGlDC,EAAAA,EAAAA,KAACK,EAAAA,IAAG,CAAAN,UACFF,EAAAA,EAAAA,MAACS,EAAAA,IAAK,CAAC,aAAW,oBAAmBP,SAAA,EACnCC,EAAAA,EAAAA,KAACO,EAAAA,IAAS,CAAAR,UACRF,EAAAA,EAAAA,MAACW,EAAAA,IAAQ,CAAAT,SAAA,EACPC,EAAAA,EAAAA,KAACS,EAAAA,IAAS,CAAAV,SAAC,UACXC,EAAAA,EAAAA,KAACS,EAAAA,IAAS,CAAAV,SAAC,YACXC,EAAAA,EAAAA,KAACS,EAAAA,IAAS,CAAAV,SAAC,qBAGfC,EAAAA,EAAAA,KAACU,EAAAA,IAAS,CAAAX,UACRF,EAAAA,EAAAA,MAACW,EAAAA,IAAQ,CAAAT,SAAA,EACPC,EAAAA,EAAAA,KAACS,EAAAA,IAAS,CAAAV,SACPrB,EAAQiC,KAAKjC,IACZsB,EAAAA,EAAAA,KAAA,KAAAD,SAAIrB,SAGRsB,EAAAA,EAAAA,KAACS,EAAAA,IAAS,CAAAV,SACPtB,EAAUkC,KAAKlC,IACduB,EAAAA,EAAAA,KAAA,KAAAD,SAAItB,SAGRuB,EAAAA,EAAAA,KAACS,EAAAA,IAAS,CAAAV,SACPpB,EAAegC,KAAKhC,IACnBqB,EAAAA,EAAAA,KAAA,KAAAD,SAAIpB,oBAOP,C","sources":["screens/Console/Tenants/TenantDetails/TenantCSR.tsx"],"sourcesContent":["// This file is part of MinIO Operator\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport {\n  SectionTitle,\n  Box,\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n} from \"mds\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { setErrorSnackMessage } from \"../../../../systemSlice\";\nimport { ErrorResponseHandler } from \"../../../../common/types\";\nimport { AppState, useAppDispatch } from \"../../../../store\";\nimport api from \"../../../../common/api\";\n\nconst TenantCSR = () => {\n  const dispatch = useAppDispatch();\n  const { tenantName, tenantNamespace } = useParams();\n\n  const loadingTenant = useSelector(\n    (state: AppState) => state.tenants.loadingTenant,\n  );\n\n  const [loading, setLoading] = useState<boolean>(true);\n  const [csrStatus] = useState<string[]>([\"\"]);\n  const [csrName] = useState<string[]>([\"\"]);\n  const [csrAnnotations] = useState<string[]>([\"\"]);\n\n  useEffect(() => {\n    if (loadingTenant) {\n      setLoading(true);\n    }\n  }, [loadingTenant]);\n\n  useEffect(() => {\n    if (loading) {\n      api\n        .invoke(\n          \"GET\",\n          `/api/v1/namespaces/${tenantNamespace || \"\"}/tenants/${\n            tenantName || \"\"\n          }/csr`,\n        )\n        .then((res) => {\n          for (var _i = 0; _i < res.csrElement.length; _i++) {\n            var entry = res.csrElement[_i];\n            csrStatus.push(entry.status);\n            csrName.push(entry.name);\n            csrAnnotations.push(entry.annotations);\n          }\n          setLoading(false);\n        })\n        .catch((err: ErrorResponseHandler) => {\n          dispatch(setErrorSnackMessage(err));\n        });\n    }\n  }, [\n    loading,\n    tenantNamespace,\n    tenantName,\n    csrAnnotations,\n    csrName,\n    csrStatus,\n    dispatch,\n  ]);\n\n  return (\n    <Fragment>\n      <SectionTitle separator sx={{ marginBottom: 15 }}>\n        Certificate Signing Requests\n      </SectionTitle>\n      <Box>\n        <Table aria-label=\"collapsible table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell>Status</TableCell>\n              <TableCell>Annotation</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow>\n              <TableCell>\n                {csrName.map((csrName) => (\n                  <p>{csrName}</p>\n                ))}\n              </TableCell>\n              <TableCell>\n                {csrStatus.map((csrStatus) => (\n                  <p>{csrStatus}</p>\n                ))}\n              </TableCell>\n              <TableCell>\n                {csrAnnotations.map((csrAnnotations) => (\n                  <p>{csrAnnotations}</p>\n                ))}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </Box>\n    </Fragment>\n  );\n};\n\nexport default TenantCSR;\n"],"names":["TenantCSR","dispatch","useAppDispatch","tenantName","tenantNamespace","useParams","loadingTenant","useSelector","state","tenants","loading","setLoading","useState","csrStatus","csrName","csrAnnotations","useEffect","api","invoke","concat","then","res","_i","csrElement","length","entry","push","status","name","annotations","catch","err","setErrorSnackMessage","_jsxs","Fragment","children","_jsx","SectionTitle","separator","sx","marginBottom","Box","Table","TableHead","TableRow","TableCell","TableBody","map"],"sourceRoot":""}
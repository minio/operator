"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[873],{45902:(e,n,t)=>{t.d(n,{Z:()=>l});t(72791);var s=t(36314),a=t(80184);const l=e=>{let{label:n=null,value:t="-",orientation:l="column",stkProps:o={},lblProps:r={},valProps:i={}}=e;return(0,a.jsxs)(s.Z,{direction:{xs:"column",sm:l},...o,children:[(0,a.jsx)("label",{style:{marginRight:5,fontWeight:600},...r,children:n}),(0,a.jsx)("label",{style:{marginRight:5,fontWeight:500},...i,children:t})]})}},5450:(e,n,t)=>{t.d(n,{Z:()=>g});var s=t(72791),a=t(57482),l=t(79836),o=t(53382),r=t(53994),i=t(56890),c=t(35855),d=t(64554),x=t(56125),u=t(20890),m=t(85172),p=t(95678),h=t(39281),j=t(35527),b=t(80184);const Z=e=>{const{event:n}=e,[t,a]=s.useState(!1);return(0,b.jsxs)(s.Fragment,{children:[(0,b.jsxs)(c.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,b.jsx)(r.Z,{component:"th",scope:"row",onClick:()=>a(!t),children:n.event_type}),(0,b.jsx)(r.Z,{onClick:()=>a(!t),children:n.reason}),(0,b.jsx)(r.Z,{onClick:()=>a(!t),children:n.seen}),(0,b.jsx)(r.Z,{onClick:()=>a(!t),children:n.message.length>=30?"".concat(n.message.slice(0,30),"..."):n.message}),(0,b.jsx)(r.Z,{onClick:()=>a(!t),children:t?(0,b.jsx)(p.Z,{}):(0,b.jsx)(m.Z,{})})]}),(0,b.jsx)(c.Z,{children:(0,b.jsx)(r.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,b.jsx)(x.Z,{in:t,timeout:"auto",unmountOnExit:!0,children:(0,b.jsx)(d.Z,{sx:{margin:1},children:(0,b.jsx)(u.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:n.message})})})})})]})},g=e=>{let{events:n,loading:t}=e;return t?(0,b.jsx)(a.Z,{}):(0,b.jsx)(h.Z,{component:j.Z,children:(0,b.jsxs)(l.Z,{"aria-label":"collapsible table",children:[(0,b.jsx)(i.Z,{children:(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(r.Z,{children:"Type"}),(0,b.jsx)(r.Z,{children:"Reason"}),(0,b.jsx)(r.Z,{children:"Age"}),(0,b.jsx)(r.Z,{children:"Message"}),(0,b.jsx)(r.Z,{})]})}),(0,b.jsx)(o.Z,{children:n.map((e=>(0,b.jsx)(Z,{event:e},"".concat(e.event_type,"-").concat(e.seen))))})]})})}},14873:(e,n,t)=>{t.r(n),t.d(n,{default:()=>q});var s=t(72791),a=t(57689),l=t(11087),o=t(11135),r=t(25787),i=t(23814),c=t(61889),d=t(25228),x=t(43896),u=t(78687),m=t(36355),p=t(27391),h=t(35527),j=t(63466),b=t(81207),Z=t(75952),g=t(41320),v=t(87995),f=t(80184);const y=(0,r.Z)((e=>(0,o.Z)({logList:{background:"#fff",minHeight:400,height:"calc(100vh - 304px)",overflow:"auto",fontSize:13,padding:"25px 45px 0",border:"1px solid #EAEDEE",borderRadius:4},...i.qg,actionsTray:{...i.OR.actionsTray,padding:"15px 0 0"},logerror_tab:{color:"#A52A2A",paddingLeft:25},ansidefault:{color:"#000",lineHeight:"16px"},highlight:{"& span":{backgroundColor:"#082F5238"}},...i.Bz})))((e=>{let{classes:n,tenant:t,namespace:a,podName:l,propLoading:o}=e;const r=(0,g.TL)(),i=(0,u.v9)((e=>e.tenants.loadingTenant)),[d,x]=(0,s.useState)(""),[y,k]=(0,s.useState)([]),[S,C]=(0,s.useState)(!0),N=new m.t1({minWidth:5,fixedHeight:!1});(0,s.useEffect)((()=>{o&&C(!0)}),[o]),(0,s.useEffect)((()=>{i&&C(!0)}),[i]);const w=(e,t)=>{if(!e)return null;let s=(e=e.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),a=""!==d&&e.toLowerCase().includes(d.toLowerCase());return s.startsWith("   ")?(0,f.jsx)("div",{className:"".concat(a?n.highlight:""),children:(0,f.jsx)("span",{className:n.tab,children:s})},t):(0,f.jsx)("div",{className:"".concat(a?n.highlight:""),children:(0,f.jsx)("span",{className:n.ansidefault,children:s})},t)};function P(e){let{columnIndex:n,key:t,parent:s,index:a,style:l}=e;return(0,f.jsx)(m.Z8,{cache:N,columnIndex:n,parent:s,rowIndex:a,children:(0,f.jsx)("div",{style:{...l},children:w(y[a],a)})},t)}return(0,s.useEffect)((()=>{S&&b.Z.invoke("GET","/api/v1/namespaces/".concat(a,"/tenants/").concat(t,"/pods/").concat(l)).then((e=>{k(e.split("\n")),C(!1)})).catch((e=>{r((0,v.Ih)(e)),C(!1)}))}),[S,l,a,t,r]),(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(c.ZP,{item:!0,xs:12,className:n.actionsTray,children:(0,f.jsx)(p.Z,{placeholder:"Highlight Line",className:n.searchField,id:"search-resource",label:"",onChange:e=>{x(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,f.jsx)(j.Z,{position:"start",children:(0,f.jsx)(Z.W1M,{})})},variant:"standard"})}),(0,f.jsx)(c.ZP,{item:!0,xs:12,children:(0,f.jsx)("br",{})}),(0,f.jsx)(c.ZP,{item:!0,xs:12,children:(0,f.jsx)(h.Z,{children:(0,f.jsx)("div",{className:n.logList,children:y.length>=1&&(0,f.jsx)(m.qj,{children:e=>{let{width:n,height:t}=e;return(0,f.jsx)(m.aV,{rowHeight:e=>N.rowHeight(e),overscanRowCount:15,rowCount:y.length,rowRenderer:P,width:n,height:t})}})})})})]})}));var k=t(45248),S=t(5450);const C=e=>{let{tenant:n,namespace:t,podName:a,propLoading:l}=e;const o=(0,g.TL)(),r=(0,u.v9)((e=>e.tenants.loadingTenant)),[i,d]=(0,s.useState)([]),[x,m]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{l&&m(!0)}),[l]),(0,s.useEffect)((()=>{r&&m(!0)}),[r]),(0,s.useEffect)((()=>{x&&b.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(a,"/events")).then((e=>{for(let n=0;n<e.length;n++){let t=Date.now()/1e3|0;e[n].seen=(0,k.v1)((t-e[n].last_seen).toString())}d(e),m(!1)})).catch((e=>{o((0,v.Ih)(e)),m(!1)}))}),[x,a,t,n,o]),(0,f.jsx)(s.Fragment,{children:(0,f.jsx)(c.ZP,{item:!0,xs:12,children:(0,f.jsx)(S.Z,{events:i,loading:x})})})};var N=t(64554),w=t(81918),P=t(79836),L=t(53382),T=t(53994),E=t(56890),F=t(35855),I=t(39281),R=t(45902);const A={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},B=e=>{let{title:n}=e;return(0,f.jsx)(N.Z,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,f.jsx)("h3",{children:n})})},D=e=>{let{describeInfo:n}=e;return(0,f.jsx)(s.Fragment,{children:(0,f.jsxs)("div",{id:"pod-describe-summary-content",children:[(0,f.jsx)(B,{title:"Summary"}),(0,f.jsxs)(N.Z,{sx:{...A},children:[(0,f.jsx)(R.Z,{label:"Name",value:n.name}),(0,f.jsx)(R.Z,{label:"Namespace",value:n.namespace}),(0,f.jsx)(R.Z,{label:"Node",value:n.nodeName}),(0,f.jsx)(R.Z,{label:"Start time",value:n.startTime}),(0,f.jsx)(R.Z,{label:"Status",value:n.phase}),(0,f.jsx)(R.Z,{label:"QoS Class",value:n.qosClass}),(0,f.jsx)(R.Z,{label:"IP",value:n.podIP})]})]})})},M=e=>{let{annotations:n}=e;return(0,f.jsx)(s.Fragment,{children:(0,f.jsxs)("div",{id:"pod-describe-annotations-content",children:[(0,f.jsx)(B,{title:"Annotations"}),(0,f.jsx)(N.Z,{children:n.map(((e,n)=>(0,f.jsx)(w.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)))})]})})},V=e=>{let{labels:n}=e;return(0,f.jsx)(s.Fragment,{children:(0,f.jsxs)("div",{id:"pod-describe-labels-content",children:[(0,f.jsx)(B,{title:"Labels"}),(0,f.jsx)(N.Z,{children:n.map(((e,n)=>(0,f.jsx)(w.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)))})]})})},G=e=>{let{conditions:n}=e;return(0,f.jsx)("div",{id:"pod-describe-conditions-content",children:(0,f.jsx)(_,{title:"Conditions",columns:["type","status"],columnsLabels:["Type","Status"],items:n})})},H=e=>{let{tolerations:n}=e;return(0,f.jsx)("div",{id:"pod-describe-tolerations-content",children:(0,f.jsx)(_,{title:"Tolerations",columns:["effect","key","operator","tolerationSeconds"],columnsLabels:["Effect","Key","Operator","Seconds of toleration"],items:n})})},O=e=>{let{volumes:n}=e;return(0,f.jsx)(s.Fragment,{children:(0,f.jsx)("div",{id:"pod-describe-volumes-content",children:n.map(((e,n)=>(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(B,{title:"Volume ".concat(e.name)}),(0,f.jsxs)(N.Z,{sx:{...A},children:[e.pvc&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(R.Z,{label:"Type",value:"Persistant Volume Claim"}),(0,f.jsx)(R.Z,{label:"Claim Name",value:e.pvc.claimName})]}),e.projected&&(0,f.jsx)(R.Z,{label:"Type",value:"Projected"})]})]},n)))})})},_=e=>{let{title:n,items:t,columns:a,columnsLabels:l}=e;return(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(B,{title:n}),(0,f.jsx)(N.Z,{children:(0,f.jsx)(I.Z,{component:h.Z,children:(0,f.jsxs)(P.Z,{"aria-label":"collapsible table",children:[(0,f.jsx)(E.Z,{children:(0,f.jsx)(F.Z,{children:l.map(((e,n)=>(0,f.jsx)(T.Z,{children:e},n)))})}),(0,f.jsx)(L.Z,{children:t.map(((e,n)=>(0,f.jsx)(F.Z,{children:a.map(((n,t)=>(0,f.jsx)(T.Z,{children:e[n]},t)))},n)))})]})})})]})},W=e=>{let{containers:n}=e;return(0,f.jsx)(s.Fragment,{children:(0,f.jsx)("div",{id:"pod-describe-containers-content",children:n.map(((e,n)=>{var t,a;return(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(B,{title:"Container ".concat(e.name)}),(0,f.jsxs)(N.Z,{style:{wordBreak:"break-all"},sx:{...A},children:[(0,f.jsx)(R.Z,{label:"Image",value:e.image}),(0,f.jsx)(R.Z,{label:"Ready",value:"".concat(e.ready)}),(0,f.jsx)(R.Z,{label:"Ports",value:e.ports.join(", ")}),(0,f.jsx)(R.Z,{label:"Host Ports",value:e.hostPorts.join(", ")}),(0,f.jsx)(R.Z,{label:"Arguments",value:e.args.join(", ")}),(0,f.jsx)(R.Z,{label:"Started",value:null===(t=e.state)||void 0===t?void 0:t.started}),(0,f.jsx)(R.Z,{label:"State",value:null===(a=e.state)||void 0===a?void 0:a.state})]}),(0,f.jsxs)(N.Z,{style:{wordBreak:"break-all"},sx:{...A},children:[(0,f.jsx)(R.Z,{label:"Image ID",value:e.imageID}),(0,f.jsx)(R.Z,{label:"Container ID",value:e.containerID})]}),(0,f.jsx)(_,{title:"Mounts",columns:["name","mountPath"],columnsLabels:["Name","Mount Path"],items:e.mounts}),(0,f.jsx)(_,{title:"Environment Variables",columns:["key","value"],columnsLabels:["Key","Value"],items:e.environmentVariables})]},n)}))})})},z=e=>{let{tenant:n,namespace:t,podName:a,propLoading:l}=e;const o=(0,g.TL)(),r=(0,u.v9)((e=>e.tenants.loadingTenant)),[i,m]=(0,s.useState)(),[p,h]=(0,s.useState)(!0),[j,Z]=(0,s.useState)(0);(0,s.useEffect)((()=>{l&&h(!0)}),[l]),(0,s.useEffect)((()=>{r&&h(!0)}),[r]),(0,s.useEffect)((()=>{p&&b.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(a,"/describe")).then((e=>{const n=y(e);m(n),h(!1)})).catch((e=>{o((0,v.Ih)(e)),h(!1)}))}),[p,a,t,n,o]);const y=e=>(e.containers=e.containers.map((e=>(e.environmentVariables=e.environmentVariables.filter((e=>null!==e)),e))),e);return(0,f.jsx)(s.Fragment,{children:i&&(0,f.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,f.jsxs)(d.Z,{value:j,onChange:(e,n)=>{Z(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,f.jsx)(x.Z,{id:"pod-describe-summary",label:"Summary"}),(0,f.jsx)(x.Z,{id:"pod-describe-annotations",label:"Annotations"}),(0,f.jsx)(x.Z,{id:"pod-describe-labels",label:" Labels"}),(0,f.jsx)(x.Z,{id:"pod-describe-conditions",label:"Conditions"}),(0,f.jsx)(x.Z,{id:"pod-describe-tolerations",label:"Tolerations"}),(0,f.jsx)(x.Z,{id:"pod-describe-volumes",label:"Volumes"}),(0,f.jsx)(x.Z,{id:"pod-describe-containers",label:"Containers"})]}),((e,n)=>{switch(e){case 0:return(0,f.jsx)(D,{describeInfo:n});case 1:return(0,f.jsx)(M,{annotations:n.annotations});case 2:return(0,f.jsx)(V,{labels:n.labels});case 3:return(0,f.jsx)(G,{conditions:n.conditions});case 4:return(0,f.jsx)(H,{tolerations:n.tolerations});case 5:return(0,f.jsx)(O,{volumes:n.volumes});case 6:return(0,f.jsx)(W,{containers:n.containers})}})(j,i)]})})},q=(0,r.Z)((e=>(0,o.Z)({breadcrumLink:{textDecoration:"none",color:"black"},...i.Bz})))((e=>{let{classes:n}=e;const{tenantNamespace:t,tenantName:o,podName:r}=(0,a.UO)(),[i,u]=(0,s.useState)(0),[m,p]=(0,s.useState)(!0);function h(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return(0,s.useEffect)((()=>{m&&p(!1)}),[m]),(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(c.ZP,{item:!0,xs:12,children:(0,f.jsxs)("h1",{className:n.sectionTitle,children:[(0,f.jsx)(l.rU,{to:"/namespaces/".concat(t||"","/tenants/").concat(o||"","/pods"),className:n.breadcrumLink,children:"Pods"})," ","> ",r]})}),(0,f.jsxs)(c.ZP,{container:!0,children:[(0,f.jsx)(c.ZP,{item:!0,xs:9,children:(0,f.jsxs)(d.Z,{value:i,onChange:(e,n)=>{u(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,f.jsx)(x.Z,{label:"Events",...h(0)}),(0,f.jsx)(x.Z,{label:"Describe",...h(1)}),(0,f.jsx)(x.Z,{label:"Logs",...h(2)})]})}),0===i&&(0,f.jsx)(C,{tenant:o||"",namespace:t||"",podName:r||"",propLoading:m}),1===i&&(0,f.jsx)(z,{tenant:o||"",namespace:t||"",podName:r||"",propLoading:m}),2===i&&(0,f.jsx)(y,{tenant:o||"",namespace:t||"",podName:r||"",propLoading:m})]})]})}))},36314:(e,n,t)=>{t.d(n,{Z:()=>N});var s=t(63366),a=t(87462),l=t(72791),o=t(30831),r=t(82466),i=t(94419),c=t(21217),d=t(93457),x=t(86083),u=t(78519),m=t(85080),p=t(51184),h=t(45682),j=t(80184);const b=["component","direction","spacing","divider","children","className","useFlexGap"],Z=(0,m.Z)(),g=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>n.root});function v(e){return(0,x.Z)({props:e,name:"MuiStack",defaultTheme:Z})}function f(e,n){const t=l.Children.toArray(e).filter(Boolean);return t.reduce(((e,s,a)=>(e.push(s),a<t.length-1&&e.push(l.cloneElement(n,{key:"separator-".concat(a)})),e)),[])}const y=e=>{let{ownerState:n,theme:t}=e,s=(0,a.Z)({display:"flex",flexDirection:"column"},(0,p.k9)({theme:t},(0,p.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(n.spacing){const e=(0,h.hB)(t),a=Object.keys(t.breakpoints.values).reduce(((e,t)=>(("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e)),{}),l=(0,p.P$)({values:n.direction,base:a}),o=(0,p.P$)({values:n.spacing,base:a});"object"===typeof l&&Object.keys(l).forEach(((e,n,t)=>{if(!l[e]){const s=n>0?l[t[n-1]]:"column";l[e]=s}}));const i=(t,s)=>{return n.useFlexGap?{gap:(0,h.NA)(e,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((a=s?l[s]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[a]))]:(0,h.NA)(e,t)}};var a};s=(0,r.Z)(s,(0,p.k9)({theme:t},o,i))}return s=(0,p.dt)(t.breakpoints,s),s};var k=t(66934),S=t(31402);const C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=g,useThemeProps:t=v,componentName:r="MuiStack"}=e,d=n(y),x=l.forwardRef((function(e,n){const l=t(e),x=(0,u.Z)(l),{component:m="div",direction:p="column",spacing:h=0,divider:Z,children:g,className:v,useFlexGap:y=!1}=x,k=(0,s.Z)(x,b),S={direction:p,spacing:h,useFlexGap:y},C=(0,i.Z)({root:["root"]},(e=>(0,c.Z)(r,e)),{});return(0,j.jsx)(d,(0,a.Z)({as:m,ownerState:S,ref:n,className:(0,o.Z)(C.root,v)},k,{children:Z?f(g,Z):g}))}));return x}({createStyledComponent:(0,k.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>n.root}),useThemeProps:e=>(0,S.Z)({props:e,name:"MuiStack"})}),N=C}}]);
//# sourceMappingURL=873.569db77f.chunk.js.map
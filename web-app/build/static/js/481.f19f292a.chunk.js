"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[481],{8481:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var i=t(5043),s=t(9923),a=t(9456),o=t(2961),c=t(4574),l=t(4241),r=t(5475),d=t(3097),x=t.n(d),m=t(6483),f=t(6681),h=t(579);const u=c.Ay.div((e=>{let{theme:n}=e;return{"& .licenseInfoValue":{textTransform:"none",fontSize:14,fontWeight:"bold"},"&.licenseContainer":{position:"relative",padding:"20px 52px 0px 28px",background:x()(n,"signalColors.info","#2781B0"),boxShadow:"0px 3px 7px #00000014","& h2":{color:x()(n,"bgColor","#fff"),marginBottom:67},"& a":{textDecoration:"none"},"& h3":{color:x()(n,"bgColor","#fff"),marginBottom:"30px",fontWeight:"bold"},"& h6":{color:"#FFFFFF !important"}},"& .licenseInfo":{color:x()(n,"bgColor","#fff"),position:"relative"},"& .licenseInfoTitle":{textTransform:"none",color:x()(n,"mutedText","#87888d"),fontSize:11},"& .verifiedIcon":{width:96,position:"absolute",right:0,bottom:29},"& .noUnderLine":{textDecoration:"none"}}})),g=e=>{var n,t;let{tenant:a,loadingActivateProduct:o,loadingLicenseInfo:c,licenseInfo:d,activateProduct:x}=e;const g=null!==a&&void 0!==a&&a.subnet_license?l.c9.fromISO(null===(n=a.subnet_license)||void 0===n?void 0:n.expires_at):l.c9.now();return(0,h.jsx)(u,{className:a&&a.subnet_license?"licenseContainer":"",children:a&&a.subnet_license?(0,h.jsx)(i.Fragment,{children:(0,h.jsxs)(s.xA9,{container:!0,className:"licenseInfo",children:[(0,h.jsxs)(s.xA9,{item:!0,xs:6,children:[(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"License"}),(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoValue",children:"Commercial License"}),(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"Organization"}),(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoValue",children:a.subnet_license.organization}),(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"Registered Capacity"}),(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoValue",children:(0,m.nO)((1099511627776*((null===(t=a.subnet_license)||void 0===t?void 0:t.storage_capacity)||0)).toString(10))}),(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"Expiry Date"}),(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoValue",children:g.toFormat("yyyy-MM-dd")})]}),(0,h.jsxs)(s.xA9,{item:!0,xs:6,children:[(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"Subscription Plan"}),(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoValue",children:a.subnet_license.plan}),(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"Requestor"}),(0,h.jsx)(s.azJ,{sx:{marginBottom:12},className:"licenseInfoValue",children:a.subnet_license.email})]}),(0,h.jsx)("img",{className:"verifiedIcon",src:"/verified.svg",alt:"verified"})]})}):!c&&(0,h.jsxs)(s.azJ,{withBorders:!0,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[!d&&(0,h.jsx)(r.N_,{to:"/license",onClick:e=>{e.stopPropagation()},className:"noUnderLine",children:(0,h.jsx)(f.A,{tooltip:"Activate Product",children:(0,h.jsx)(s.$nd,{id:"activate-product",label:"Activate Product",onClick:()=>!1,variant:"callAction"})})}),d&&a&&(0,h.jsx)(f.A,{tooltip:"Attach License",children:(0,h.jsx)(s.$nd,{id:"attach-license",disabled:o,label:"Attach License",onClick:()=>x(a.namespace,a.name),variant:"callAction"})})]})})};var p=t(649),j=t(4159),v=t(9607);const b=()=>{const e=(0,o.jL)(),n=(0,a.d4)((e=>e.tenants.loadingTenant)),t=(0,a.d4)((e=>e.tenants.tenantInfo)),[c,l]=(0,i.useState)(),[r,d]=(0,i.useState)(!0),[x,m]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{r&&p.A.invoke("GET","/api/v1/subscription/info").then((e=>{l(e),d(!1)})).catch((e=>{d(!1)}))}),[r]),(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(s._xt,{separator:!0,sx:{marginBottom:15},children:"License"}),n?(0,h.jsx)(s.azJ,{sx:{textAlign:"center"},children:(0,h.jsx)(s.aHM,{})}):(0,h.jsx)(i.Fragment,{children:t&&(0,h.jsx)(s.xA9,{container:!0,children:(0,h.jsx)(s.xA9,{item:!0,xs:12,children:(0,h.jsx)(g,{tenant:t,loadingLicenseInfo:r,loadingActivateProduct:x,licenseInfo:c,activateProduct:(n,t)=>{x||(m(!0),p.A.invoke("POST","/api/v1/subscription/namespaces/".concat(n,"/tenants/").concat(t,"/activate"),{}).then((()=>{m(!1),e((0,v.ZL)(!0)),d(!0)})).catch((n=>{m(!1),e((0,j.C9)(n))})))}})})})})]})}}}]);
//# sourceMappingURL=481.f19f292a.chunk.js.map
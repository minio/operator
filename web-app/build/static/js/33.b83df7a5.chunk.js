"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[33],{81806:(e,t,a)=>{a.d(t,{Z:()=>l});a(72791);var n=a(11135),s=a(25787),i=a(80184);const l=(0,s.Z)((e=>(0,n.Z)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Inter, sans-serif"}})))((e=>{let{classes:t,children:a,...n}=e;return(0,i.jsx)("button",{...n,className:t.root,children:a})}))},75578:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(72791),s=a(80184);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(a){return(0,s.jsx)(n.Suspense,{fallback:t,children:(0,s.jsx)(e,{...a})})}}},27454:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(72791),s=a(96040),i=a(80184);const l=e=>{let{tooltip:t,children:a,errorProps:l=null,placement:r}=e;return(0,i.jsx)(s.Z,{title:t,placement:r,children:(0,i.jsx)("span",{children:l?(0,n.cloneElement)(a,{...l}):a})})}},76033:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var n=a(72791),s=a(75952),i=a(61889),l=a(57482),r=a(57689),c=a(17238),o=a(82295),d=a(45248),u=a(80184);const h=e=>{let{label:t,value:a,unit:s,variant:i="normal"}=e;return(0,u.jsxs)("div",{style:{margin:"0px 20px"},children:[(0,u.jsxs)("div",{style:{textAlign:"center"},children:[(0,u.jsx)("span",{style:{fontSize:18,color:"normal"===i?"#000":"#999",fontWeight:400},children:a}),s&&(0,u.jsxs)(n.Fragment,{children:[" ",(0,u.jsx)("span",{style:{fontSize:12,color:"#8F9090",fontWeight:"bold"},children:s})]})]}),(0,u.jsx)("div",{style:{textAlign:"center",color:"normal"===i?"#767676":"#bababa",fontSize:12,whiteSpace:"nowrap"},children:t})]})};var x=a(74815),p=a(41320);const m=(0,a(72455).Z)((e=>({redState:{color:e.palette.error.main,"& .min-icon":{width:16,height:16,float:"left",marginRight:4}},yellowState:{color:e.palette.warning.main,"& .min-icon":{width:16,height:16,float:"left",marginRight:4}},greenState:{color:e.palette.success.main,"& .min-icon":{width:16,height:16,float:"left",marginRight:4}},greyState:{color:"grey","& .min-icon":{width:16,height:16,float:"left",marginRight:4}},tenantItem:{border:"1px solid #EAEAEA",marginBottom:16,padding:"15px 30px","&:hover":{backgroundColor:"#FAFAFA",cursor:"pointer"}},titleContainer:{display:"flex",justifyContent:"space-between",width:"100%"},title:{fontSize:18,fontWeight:"bold"},namespaceLabel:{display:"inline-flex",backgroundColor:"#EAEDEF",borderRadius:2,padding:"4px 8px",fontSize:10,marginRight:20},status:{fontSize:12,color:"#8F9090"}}))),g=e=>{let{tenant:t}=e;const a=(0,p.TL)(),l=(0,r.s0)(),g=m();let v={value:"n/a",unit:""},f={value:"n/a",unit:""},j={value:"n/a",unit:""},y={value:"n/a",unit:""},b={value:"n/a",unit:""};if(t.capacity_raw){const e=(0,d.ae)("".concat(t.capacity_raw),!0).split(" ");v.value=e[0],v.unit=e[1]}if(t.capacity){const e=(0,d.ae)("".concat(t.capacity),!0).split(" ");f.value=e[0],f.unit=e[1]}if(t.capacity_usage){const e=(0,d.l5)(t.capacity_usage,!0).split(" ");j.value=e[0],j.unit=e[1]}let S=[];if(t.tiers&&0!==t.tiers.length){var C,Z;S=null===(C=t.tiers)||void 0===C?void 0:C.map((e=>({value:e.size,variant:e.name})));let e=null===(Z=t.tiers)||void 0===Z?void 0:Z.filter((e=>"internal"===e.type)).reduce(((e,t)=>e+t.size),0),a=t.tiers.filter((e=>"internal"!==e.type)).reduce(((e,t)=>e+t.size),0);const n=(0,d.l5)(a,!0).split(" ");b.value=n[0],b.unit=n[1];const s=(0,d.l5)(e,!0).split(" ");y.value=s[0],y.unit=s[1]}else S=[{value:t.capacity_usage||0,variant:"STANDARD"}];return(0,u.jsx)(n.Fragment,{children:(0,u.jsx)("div",{className:g.tenantItem,id:"list-tenant-".concat(t.name),onClick:()=>{a((0,c.V7)({name:t.name,namespace:t.namespace})),a((0,o.v)()),l("/namespaces/".concat(t.namespace,"/tenants/").concat(t.name,"/summary"))},children:(0,u.jsxs)(i.ZP,{container:!0,children:[(0,u.jsxs)(i.ZP,{item:!0,xs:12,className:g.titleContainer,children:[(0,u.jsx)("div",{className:g.title,children:(0,u.jsx)("span",{children:t.name})}),(0,u.jsx)("div",{children:(0,u.jsxs)("span",{className:g.namespaceLabel,children:["Namespace:\xa0",t.namespace]})})]}),(0,u.jsx)(i.ZP,{item:!0,xs:12,sx:{marginTop:2},children:(0,u.jsxs)(i.ZP,{container:!0,children:[(0,u.jsx)(i.ZP,{item:!0,xs:2,children:(0,u.jsx)(x.Z,{totalCapacity:t.capacity||0,usedSpaceVariants:S,statusClass:(e=>{switch(e){case"red":return g.redState;case"yellow":return g.yellowState;case"green":return g.greenState;default:return g.greyState}})(t.health_status)})}),(0,u.jsxs)(i.ZP,{item:!0,xs:!0,children:[(0,u.jsxs)(i.ZP,{item:!0,xs:!0,sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginTop:"10px"},children:[(0,u.jsx)(h,{label:"Raw Capacity",value:v.value,unit:v.unit}),(0,u.jsx)(h,{label:"Usable Capacity",value:f.value,unit:f.unit}),(0,u.jsx)(h,{label:"Pools",value:"".concat(t.pool_count),variant:"faded"})]}),(0,u.jsx)(i.ZP,{item:!0,xs:12,sx:{paddingLeft:"20px",marginTop:"15px"},children:(0,u.jsxs)("span",{className:g.status,children:[(0,u.jsx)("strong",{children:"State:"})," ",t.currentState]})})]}),(0,u.jsx)(i.ZP,{item:!0,xs:3,children:(0,u.jsx)(n.Fragment,{children:(0,u.jsxs)(i.ZP,{container:!0,children:[(0,u.jsxs)(i.ZP,{item:!0,xs:2,textAlign:"center",justifyContent:"center",justifyItems:"center",children:[(0,u.jsx)(s.FU8,{style:{width:25,color:"rgb(91,91,91)"}}),(0,u.jsx)("div",{style:{color:"rgb(118, 118, 118)",fontSize:12,fontWeight:"400"},children:"Usage"})]}),(0,u.jsx)(i.ZP,{item:!0,xs:1}),(0,u.jsxs)(i.ZP,{item:!0,style:{paddingTop:8},children:[(!t.tiers||0===t.tiers.length)&&(0,u.jsxs)("div",{style:{fontSize:14,fontWeight:400},children:[(0,u.jsxs)("span",{style:{color:"rgb(62,62,62)"},children:["Internal:"," "]})," ","".concat(j.value," ").concat(j.unit)]}),t.tiers&&t.tiers.length>0&&(0,u.jsxs)(n.Fragment,{children:[(0,u.jsxs)("div",{style:{fontSize:14,fontWeight:400},children:[(0,u.jsxs)("span",{style:{color:"rgb(62,62,62)"},children:["Internal:"," "]})," ","".concat(y.value," ").concat(y.unit)]}),(0,u.jsxs)("div",{style:{fontSize:14,fontWeight:400},children:[(0,u.jsxs)("span",{style:{color:"rgb(62,62,62)"},children:["Tiered:"," "]})," ","".concat(b.value," ").concat(b.unit)]})]})]})]})})})]})})]})})})};var v=a(81806),f=a(75578),j=a(22338),y=a(79762),b=a(36355);let S={};const C=e=>{let{rowRenderFunction:t,totalItems:a,defaultHeight:s}=e;const i=e=>{let{index:a,style:n}=e;return(0,u.jsx)("div",{style:n,children:t(a)})};return(0,u.jsx)(n.Fragment,{children:(0,u.jsx)(y.Z,{isItemLoaded:e=>!!S[e],loadMoreItems:(e,t)=>{for(let a=e;a<=t;a++)S[a]=1;for(let a=e;a<=t;a++)S[a]=2},itemCount:a,children:e=>{let{onItemsRendered:t,ref:n}=e;return(0,u.jsx)(b.qj,{children:e=>{let{width:l,height:r}=e;return(0,u.jsx)(j.t7,{itemSize:s||220,height:r,itemCount:a,width:l,ref:n,onItemsRendered:t,children:i})}})}})})};var Z=a(63466),w=a(27391),A=a(25787),F=a(11135),_=a(23814);const z=(0,A.Z)((e=>(0,F.Z)({searchField:{..._.qg.searchField},adornment:{}})))((e=>{let{placeholder:t="",classes:a,onChange:n,adornmentPosition:i="end",overrideClass:l,value:r}=e;const c={disableUnderline:!0,["".concat(i,"Adornment")]:(0,u.jsx)(Z.Z,{position:i,className:a.adornment,children:(0,u.jsx)(s.W1M,{})})};return(0,u.jsx)(w.Z,{placeholder:t,className:l||a.searchField,id:"search-resource",label:"",InputProps:c,onChange:e=>{n(e.target.value)},variant:"standard",value:r})}));var T=a(74794),P=a(87995),R=a(90673),I=a(27454),k=a(47974),N=a(79626);const D=(0,f.Z)(n.lazy((()=>a.e(798).then(a.bind(a,37798))))),E=()=>{const e=(0,p.TL)(),t=(0,r.s0)(),[a,c]=(0,n.useState)(!1),[o,d]=(0,n.useState)(""),[h,x]=(0,n.useState)([]),[m,f]=(0,n.useState)(!1),[j,y]=(0,n.useState)(null),[b,S]=(0,n.useState)("name"),Z=h.filter((e=>""===o||e.name.indexOf(o)>=0));Z.sort(((e,t)=>{switch(b){case"capacity":return e.capacity&&t.capacity?e.capacity>t.capacity?1:e.capacity<t.capacity?-1:0:0;case"usage":return e.capacity_usage&&t.capacity_usage?e.capacity_usage>t.capacity_usage?1:e.capacity_usage<t.capacity_usage?-1:0:0;case"active_status":return"red"===e.health_status&&"red"!==t.health_status?1:"red"!==e.health_status&&"red"===t.health_status?-1:0;case"failing_status":return"green"===e.health_status&&"green"!==t.health_status?1:"green"!==e.health_status&&"green"===t.health_status?-1:0;default:return e.name>t.name?1:e.name<t.name?-1:0}})),(0,n.useEffect)((()=>{if(a){(()=>{N.h.tenants.listAllTenants().then((e=>{var t;if(!e.data)return void c(!1);let a=null!==(t=e.data.tenants)&&void 0!==t?t:[];x(a),c(!1)})).catch((t=>{e((0,P.Ih)(t)),c(!1)}))})()}}),[a,e]),(0,n.useEffect)((()=>{c(!0)}),[]);return(0,u.jsxs)(n.Fragment,{children:[m&&(0,u.jsx)(D,{newServiceAccount:j,open:m,closeModal:()=>{f(!1),y(null)},entity:"Tenant"}),(0,u.jsx)(k.Z,{label:"Tenants",middleComponent:(0,u.jsx)(z,{placeholder:"Filter Tenants",onChange:e=>{d(e)},value:o}),actions:(0,u.jsxs)(i.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,u.jsx)(I.Z,{tooltip:"Refresh Tenant List",children:(0,u.jsx)(s.zxk,{id:"refresh-tenant-list",onClick:()=>{c(!0)},icon:(0,u.jsx)(s.DuK,{}),variant:"regular"})}),(0,u.jsx)(I.Z,{tooltip:"Create Tenant",children:(0,u.jsx)(s.zxk,{id:"create-tenant",label:"Create Tenant",onClick:()=>{t("/tenants/add")},icon:(0,u.jsx)(s.dtP,{}),variant:"callAction"})})]})}),(0,u.jsx)(T.Z,{children:(0,u.jsxs)(i.ZP,{item:!0,xs:12,style:{height:"calc(100vh - 195px)"},children:[a&&(0,u.jsx)(l.Z,{}),!a&&(0,u.jsxs)(n.Fragment,{children:[0!==Z.length&&(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(i.ZP,{item:!0,xs:12,style:{display:"flex",justifyContent:"flex-end",marginBottom:10},children:(0,u.jsxs)("div",{style:{maxWidth:200,width:"95%",display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,u.jsx)("span",{style:{whiteSpace:"nowrap",fontSize:14,color:"#838383",fontWeight:"bold",marginRight:10},children:"Sort by"}),(0,u.jsx)(R.Z,{id:"sort-by",label:"",value:b,onChange:e=>{S(e.target.value)},name:"sort-by",options:[{label:"Name",value:"name"},{label:"Capacity",value:"capacity"},{label:"Usage",value:"usage"},{label:"Active Status",value:"active_status"},{label:"Failing Status",value:"failing_status"}]})]})}),(0,u.jsx)(C,{rowRenderFunction:e=>{const t=Z[e]||null;return t?(0,u.jsx)(g,{tenant:t}):null},totalItems:Z.length})]}),0===Z.length&&(0,u.jsx)(i.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,u.jsx)(i.ZP,{item:!0,xs:8,children:(0,u.jsx)(s.KfX,{iconComponent:(0,u.jsx)(s.zb0,{}),title:"Tenants",help:(0,u.jsxs)(n.Fragment,{children:["Tenant is the logical structure to represent a MinIO deployment. A tenant can have different size and configurations from other tenants, even a different storage class.",(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),"To get started,\xa0",(0,u.jsx)(v.Z,{onClick:()=>{t("/tenants/add")},children:"Create a Tenant."})]})})})})]})]})})]})}},74815:(e,t,a)=>{a.d(t,{Z:()=>d});a(72791);var n=a(2600),s=a(65390),i=a(41048),l=a(45248),r=a(75952),c=a(80184);const o=e=>{let{totalValue:t,sizeItems:a,bgColor:n="#ededed"}=e;return(0,c.jsx)("div",{style:{width:"100%",height:12,backgroundColor:n,borderRadius:30,display:"flex",transitionDuration:"0.3s",overflow:"hidden"},children:a.map(((e,a)=>{const n=100*e.value/t;return(0,c.jsx)("div",{style:{width:"".concat(n,"%"),height:"100%",backgroundColor:e.color,transitionDuration:"0.3s"}},"itemSize-".concat(a.toString()))}))})},d=e=>{let{totalCapacity:t,usedSpaceVariants:a,statusClass:d,render:u="pie"}=e;const h=["#8dacd3","#bca1ea","#92e8d2","#efc9ac","#97f274","#f7d291","#71ACCB","#f28282","#e28cc1","#2781B0"],x="#ededed",p=a.reduce(((e,t)=>e+t.value),0),m=t-p;let g=[];const v=a.find((e=>"STANDARD"===e.variant))||{value:0,variant:"empty"};if(a.length>10){g=[{value:p-v.value,color:"#2781B0",label:"Total Tiers Space"}]}else g=a.filter((e=>"STANDARD"!==e.variant)).map(((e,t)=>({value:e.value,color:h[t],label:"Tier - ".concat(e.variant)})));let f="#07193E";const j=100*v.value/t;j>=90?f="#C83B51":j>=75&&(f="#FFAB0F");const y=[{value:v.value,color:f,label:"Used Space by Tenant"},...g,{value:m,color:"bar"===u?x:"transparent",label:"Empty Space"}];if("bar"===u){const e=y.map((e=>({value:e.value,color:e.color,itemName:e.label})));return(0,c.jsx)("div",{style:{width:"100%",marginBottom:15},children:(0,c.jsx)(o,{totalValue:t,sizeItems:e,bgColor:x})})}return(0,c.jsxs)("div",{style:{position:"relative",width:110,height:110},children:[(0,c.jsx)("div",{style:{position:"absolute",right:-5,top:15,zIndex:400},className:d,children:(0,c.jsx)(r.J$M,{style:{border:"#fff 2px solid",borderRadius:"100%",width:20,height:20}})}),(0,c.jsx)("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontWeight:"bold",color:"#000",fontSize:11},children:isNaN(p)?"N/A":(0,l.l5)(p)}),(0,c.jsx)("div",{children:(0,c.jsxs)(n.u,{width:110,height:110,children:[(0,c.jsx)(s.b,{data:[{value:100}],cx:"50%",cy:"50%",dataKey:"value",outerRadius:50,innerRadius:40,fill:x,isAnimationActive:!1,stroke:"none"}),(0,c.jsx)(s.b,{data:y,cx:"50%",cy:"50%",dataKey:"value",outerRadius:50,innerRadius:40,children:y.map(((e,t)=>(0,c.jsx)(i.b,{fill:e.color,stroke:"none"},"cellCapacity-".concat(t))))})]})})]})}}}]);
//# sourceMappingURL=33.b83df7a5.chunk.js.map
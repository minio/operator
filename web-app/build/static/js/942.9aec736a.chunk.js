"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[942],{5450:(e,s,a)=>{a.d(s,{Z:()=>o});var n=a(2791),t=a(9945),c=a(184);const l=e=>{const{event:s}=e,[a,l]=n.useState(!1);return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsxs)(t.SCH,{sx:{cursor:"pointer"},children:[(0,c.jsx)(t.bil,{scope:"row",onClick:()=>l(!a),sx:{borderBottom:0},children:s.event_type}),(0,c.jsx)(t.pj1,{onClick:()=>l(!a),sx:{borderBottom:0},children:s.reason}),(0,c.jsx)(t.pj1,{onClick:()=>l(!a),sx:{borderBottom:0},children:s.seen}),(0,c.jsx)(t.pj1,{onClick:()=>l(!a),sx:{borderBottom:0},children:s.message.length>=30?"".concat(s.message.slice(0,30),"..."):s.message}),(0,c.jsx)(t.pj1,{onClick:()=>l(!a),sx:{borderBottom:0},children:a?(0,c.jsx)(t.ZyT,{}):(0,c.jsx)(t.ASC,{})})]}),(0,c.jsx)(t.SCH,{children:(0,c.jsx)(t.pj1,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:a&&(0,c.jsx)(t.xuv,{useBackground:!0,sx:{padding:10,marginBottom:10},children:s.message})})})]})},o=e=>{let{events:s,loading:a}=e;return a?(0,c.jsx)(t.kod,{}):(0,c.jsx)(t.xuv,{withBorders:!0,customBorderPadding:"0px",children:(0,c.jsxs)(t.iA_,{"aria-label":"collapsible table",children:[(0,c.jsx)(t.ssF,{children:(0,c.jsxs)(t.SCH,{children:[(0,c.jsx)(t.pj1,{children:"Type"}),(0,c.jsx)(t.pj1,{children:"Reason"}),(0,c.jsx)(t.pj1,{children:"Age"}),(0,c.jsx)(t.pj1,{children:"Message"}),(0,c.jsx)(t.pj1,{})]})}),(0,c.jsx)(t.RMI,{children:s.map((e=>(0,c.jsx)(l,{event:e},"".concat(e.event_type,"-").concat(e.seen))))})]})})}},9942:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var n=a(2791),t=a(9945),c=a(7689),l=a(1087),o=a(7995),r=a(1320),i=a(5248),d=a(5450),x=a(1207),p=a(184);const j={display:"grid",gridTemplateColumns:"2fr 1fr",gridAutoFlow:"row",gap:2,padding:15,["@media (max-width: ".concat(t.Egj.sm,"px)")]:{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}},m=e=>{let{title:s}=e;return(0,p.jsx)(t.xuv,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,p.jsx)("h3",{children:s})})},u=e=>{let{describeInfo:s}=e;return(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)("div",{id:"pvc-describe-summary-content",children:[(0,p.jsx)(m,{title:"Summary"}),(0,p.jsxs)(t.xuv,{sx:{...j},children:[(0,p.jsx)(t.kKA,{label:"Name",value:s.name}),(0,p.jsx)(t.kKA,{label:"Namespace",value:s.namespace}),(0,p.jsx)(t.kKA,{label:"Capacity",value:s.capacity}),(0,p.jsx)(t.kKA,{label:"Status",value:s.status}),(0,p.jsx)(t.kKA,{label:"Storage Class",value:s.storageClass}),(0,p.jsx)(t.kKA,{label:"Access Modes",value:s.accessModes.join(", ")}),(0,p.jsx)(t.kKA,{label:"Finalizers",value:s.finalizers.join(", ")}),(0,p.jsx)(t.kKA,{label:"Volume",value:s.volume}),(0,p.jsx)(t.kKA,{label:"Volume Mode",value:s.volumeMode})]})]})})},b=e=>{let{annotations:s}=e;return(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)("div",{id:"pvc-describe-annotations-content",children:[(0,p.jsx)(m,{title:"Annotations"}),(0,p.jsx)(t.xuv,{children:s.map(((e,s)=>(0,p.jsx)(t.Vp9,{id:"".concat(e.key,"-").concat(e.value),sx:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},s)))})]})})},h=e=>{let{labels:s}=e;return(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)("div",{id:"pvc-describe-labels-content",children:[(0,p.jsx)(m,{title:"Labels"}),(0,p.jsx)(t.xuv,{children:s.map(((e,s)=>(0,p.jsx)(t.Vp9,{id:"".concat(e.key,"-").concat(e.value),sx:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},s)))})]})})},v=e=>{let{tenant:s,namespace:a,pvcName:c,propLoading:l}=e;const[i,d]=(0,n.useState)(),[j,m]=(0,n.useState)(!0),[v,g]=(0,n.useState)("pvc-describe-summary"),k=(0,r.TL)();return(0,n.useEffect)((()=>{l&&m(!0)}),[l]),(0,n.useEffect)((()=>{j&&x.Z.invoke("GET","/api/v1/namespaces/".concat(a,"/tenants/").concat(s,"/pvcs/").concat(c,"/describe")).then((e=>{d(e),m(!1)})).catch((e=>{k((0,o.Ih)(e)),m(!1)}))}),[j,c,a,s,k]),(0,p.jsx)(n.Fragment,{children:i&&(0,p.jsx)(t.mQc,{currentTabOrPath:v,onTabClick:e=>{g(e)},options:[{tabConfig:{id:"pvc-describe-summary",label:"Summary"},content:(0,p.jsx)(u,{describeInfo:i})},{tabConfig:{id:"pvc-describe-annotations",label:"Annotations"},content:(0,p.jsx)(b,{annotations:i.annotations})},{tabConfig:{id:"pvc-describe-labels",label:"Labels"},content:(0,p.jsx)(h,{labels:i.labels})}],horizontal:!0,horizontalBarBackground:!1})})},g=()=>{const e=(0,r.TL)(),{tenantName:s,PVCName:a,tenantNamespace:j}=(0,c.UO)(),[m,u]=(0,n.useState)("simple-tab-0"),[b,h]=(0,n.useState)(!0),[g,k]=(0,n.useState)([]);return(0,n.useEffect)((()=>{b&&x.Z.invoke("GET","/api/v1/namespaces/".concat(j,"/tenants/").concat(s,"/pvcs/").concat(a,"/events")).then((e=>{for(let s=0;s<e.length;s++){let a=Date.now()/1e3|0;e[s].seen=(0,i.v1)((a-e[s].last_seen).toString())}k(e),h(!1)})).catch((s=>{e((0,o.Ih)(s)),h(!1)}))}),[b,a,j,s,e]),(0,p.jsxs)(n.Fragment,{children:[(0,p.jsxs)(t.NZf,{separator:!0,sx:{marginBottom:15},children:[(0,p.jsx)(l.rU,{to:"/namespaces/".concat(j,"/tenants/").concat(s,"/volumes"),children:"PVCs"})," ","> ",a]}),(0,p.jsx)(t.mQc,{options:[{tabConfig:{id:"simple-tab-0",label:"Events"},content:(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(t.NZf,{separator:!0,sx:{marginBottom:15},children:"Events"}),(0,p.jsx)(d.Z,{events:g,loading:b})]})},{tabConfig:{id:"simple-tab-1",label:"Describe"},content:(0,p.jsx)(v,{tenant:s||"",namespace:j||"",pvcName:a||"",propLoading:b})}],currentTabOrPath:m,onTabClick:e=>{u(e)},horizontal:!0})]})}}}]);
//# sourceMappingURL=942.9aec736a.chunk.js.map
"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[292],{37798:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var i=t(1413),a=t(72791),r=t(26181),s=t.n(r),o=t(75952),l=t(11135),c=t(25787),d=t(56028),u=t(61889),m=t(28029),f=t(63466),p=t(78029),h=t.n(p),x=t(23814),v=t(27454),g=t(80184),y=(0,c.Z)((function(e){return(0,l.Z)({container:{display:"flex",flexFlow:"column",padding:"20px 0 8px 0"},inputWithCopy:{"& .MuiInputBase-root ":{width:"100%",background:"#FBFAFA","& .MuiInputBase-input":{height:".8rem"},"& .MuiInputAdornment-positionEnd":{marginRight:".5rem","& .MuiButtonBase-root":{height:"2rem"}}},"& .MuiButtonBase-root .min-icon":{width:".8rem",height:".8rem"}},inputLabel:(0,i.Z)((0,i.Z)({},x.YI.inputLabel),{},{fontSize:".8rem"})})}))((function(e){var n=e.label,t=void 0===n?"":n,i=e.value,a=void 0===i?"":i,r=e.classes,s=void 0===r?{}:r;return(0,g.jsxs)("div",{className:s.container,children:[(0,g.jsxs)("div",{className:s.inputLabel,children:[t,":"]}),(0,g.jsx)("div",{className:s.inputWithCopy,children:(0,g.jsx)(m.Z,{value:a,readOnly:!0,endAdornment:(0,g.jsx)(f.Z,{position:"end",children:(0,g.jsx)(v.Z,{tooltip:"Copy",children:(0,g.jsx)(h(),{text:a,children:(0,g.jsx)(o.zxk,{id:"copy-clipboard","aria-label":"copy",onClick:function(){},onMouseDown:function(){},style:{width:"28px",height:"28px",padding:"0px"},icon:(0,g.jsx)(o.TIy,{})})})})})})})]})})),j=function(e,n){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+n),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},Z=(0,c.Z)((function(e){return(0,l.Z)({warningBlock:{color:"red",fontSize:".85rem",margin:".5rem 0 .5rem 0",display:"flex",alignItems:"center","& svg ":{marginRight:".3rem",height:16,width:16}},credentialTitle:{padding:".8rem 0 0 0",fontWeight:600,fontSize:".9rem"},buttonContainer:{display:"flex",justifyContent:"flex-end",marginTop:"1rem"},credentialsPanel:{overflowY:"auto",maxHeight:350},promptTitle:{display:"flex",alignItems:"center"},buttonSpacer:{marginRight:".9rem"}})}))((function(e){var n=e.classes,t=e.newServiceAccount,r=e.open,l=e.closeModal,c=e.entity;if(!t)return null;var m=s()(t,"console",null),f=s()(t,"idp",!1);return(0,g.jsx)(d.Z,{modalOpen:r,onClose:function(){l()},title:(0,g.jsx)("div",{className:n.promptTitle,children:(0,g.jsxs)("div",{children:["New ",c," Created"]})}),titleIcon:(0,g.jsx)(o.tVY,{}),children:(0,g.jsxs)(u.ZP,{container:!0,children:[(0,g.jsxs)(u.ZP,{item:!0,xs:12,className:n.formScrollable,children:["A new ",c," has been created with the following details:",!f&&m&&(0,g.jsx)(a.Fragment,{children:(0,g.jsxs)(u.ZP,{item:!0,xs:12,className:n.credentialsPanel,children:[(0,g.jsx)("div",{className:n.credentialTitle,children:"Console Credentials"}),Array.isArray(m)&&m.map((function(e,n){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y,{label:"Access Key",value:e.accessKey}),(0,g.jsx)(y,{label:"Secret Key",value:e.secretKey})]})})),!Array.isArray(m)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y,{label:"Access Key",value:m.accessKey}),(0,g.jsx)(y,{label:"Secret Key",value:m.secretKey})]})]})}),(null===m||void 0===m)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y,{label:"Access Key",value:t.accessKey||""}),(0,g.jsx)(y,{label:"Secret Key",value:t.secretKey||""})]}),f?(0,g.jsx)("div",{className:n.warningBlock,children:"Please Login via the configured external identity provider."}):(0,g.jsxs)("div",{className:n.warningBlock,children:[(0,g.jsx)(o.e6P,{}),(0,g.jsx)("span",{children:"Write these down, as this is the only time the secret will be displayed."})]})]}),(0,g.jsx)(u.ZP,{item:!0,xs:12,className:n.buttonContainer,children:!f&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v.Z,{tooltip:"Download credentials in a JSON file formatted for import using mc alias import. This will only include the default login credentials.",children:(0,g.jsx)(o.zxk,{id:"download-button",label:"Download for import",className:n.buttonSpacer,onClick:function(){var e={};m?e=Array.isArray(m)?m.map((function(e){return{url:e.url,accessKey:e.accessKey,secretKey:e.secretKey,api:"s3v4",path:"auto"}}))[0]:{url:m.url,accessKey:m.accessKey,secretKey:m.secretKey,api:"s3v4",path:"auto"}:e={url:t.url,accessKey:t.accessKey,secretKey:t.secretKey,api:"s3v4",path:"auto"};j("credentials.json",JSON.stringify((0,i.Z)({},e)))},icon:(0,g.jsx)(o._8t,{}),variant:"callAction"})}),Array.isArray(m)&&m.length>1&&(0,g.jsx)(v.Z,{tooltip:"Download all access credentials to a JSON file. NOTE: This file is not formatted for import using mc alias import. If you plan to import this alias from the file, please use the Download for Import button. ",children:(0,g.jsx)(o.zxk,{id:"download-all-button",label:"Download all access credentials",className:n.buttonSpacer,onClick:function(){var e={};m&&Array.isArray(m)&&m.length>1&&(e=m.map((function(e){return{accessKey:e.accessKey,secretKey:e.secretKey}})));j("all_credentials.json",JSON.stringify((0,i.Z)({},e)))},icon:(0,g.jsx)(o._8t,{}),variant:"callAction",color:"primary"})})]})})]})})}))},92217:function(e,n,t){var i=t(1413),a=t(72791),r=t(61889),s=t(30829),o=t(96040),l=t(64554),c=t(11135),d=t(25787),u=t(75952),m=t(23814),f=t(78029),p=t.n(f),h=t(9534),x=t(27454),v=t(80184);n.Z=(0,d.Z)((function(e){return(0,c.Z)((0,i.Z)({},m.YI))}))((function(e){var n=e.value,t=e.label,i=void 0===t?"":t,c=e.tooltip,d=void 0===c?"":c,m=e.mode,f=void 0===m?"json":m,g=e.classes,y=e.onBeforeChange,j=(e.readOnly,e.editorHeight),Z=void 0===j?"250px":j;return(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(r.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,v.jsxs)(s.Z,{className:g.inputLabel,children:[(0,v.jsx)("span",{children:i}),""!==d&&(0,v.jsx)("div",{className:g.tooltipContainer,children:(0,v.jsx)(o.Z,{title:d,placement:"top-start",children:(0,v.jsx)("div",{className:g.tooltip,children:(0,v.jsx)(u.byK,{})})})})]})}),(0,v.jsx)(r.ZP,{item:!0,xs:12,style:{maxHeight:Z,overflow:"auto",border:"1px solid #eaeaea"},children:(0,v.jsx)(h.Z,{value:n,language:f,onChange:function(e){y(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:Z||"initial",color:"#000000"}})}),(0,v.jsx)(r.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,v.jsx)(l.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,v.jsx)(x.Z,{tooltip:"Copy to Clipboard",children:(0,v.jsx)(p(),{text:n,children:(0,v.jsx)(u.zxk,{type:"button",id:"copy-code-mirror",icon:(0,v.jsx)(u.TIy,{}),color:"primary",variant:"regular"})})})})})]})}))},54639:function(e,n,t){t.d(n,{Z:function(){return j}});var i=t(29439),a=t(1413),r=t(72791),s=t(26181),o=t.n(s),l=t(61889),c=t(30829),d=t(96040),u=t(13400),m=t(99663),f=t(86711),p=t(11135),h=t(25787),x=t(23814),v=t(75952),g=t(22512),y=t(80184),j=(0,h.Z)((function(e){return(0,p.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},x.YI),x.Hr),{},{valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}}},x.bV),{},{inputLabel:(0,a.Z)((0,a.Z)({},x.YI.inputLabel),{},{fontWeight:"normal"}),textBoxContainer:(0,a.Z)((0,a.Z)({},x.YI.textBoxContainer),{},{maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"})}))}))((function(e){var n=e.label,t=e.classes,a=e.onChange,s=e.id,p=e.name,h=e.disabled,x=void 0!==h&&h,j=e.tooltip,Z=void 0===j?"":j,b=e.required,C=e.error,N=void 0===C?"":C,S=e.accept,_=void 0===S?"":S,T=e.value,k=void 0===T?"":T,A=(0,r.useState)(!1),w=(0,i.Z)(A,2),P=w[0],I=w[1];return(0,y.jsx)(r.Fragment,{children:(0,y.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(t.fileInputField," ").concat(t.fieldBottom," ").concat(t.fieldContainer," ").concat(""!==N?t.errorInField:""),children:[""!==n&&(0,y.jsxs)(c.Z,{htmlFor:s,className:"".concat(""!==N?t.fieldLabelError:""," ").concat(t.inputLabel),children:[(0,y.jsxs)("span",{children:[n,b?"*":""]}),""!==Z&&(0,y.jsx)("div",{className:t.tooltipContainer,children:(0,y.jsx)(d.Z,{title:Z,placement:"top-start",children:(0,y.jsx)("div",{className:t.tooltip,children:(0,y.jsx)(v.byK,{})})})})]}),P||""===k?(0,y.jsxs)("div",{className:t.textBoxContainer,children:[(0,y.jsx)("input",{type:"file",name:p,onChange:function(e){var n=o()(e,"target.files[0].name","");!function(e,n){var t=e.target.files[0],i=new FileReader;i.readAsDataURL(t),i.onload=function(){var e=i.result;if(e){var t=e.toString().split("base64,");2===t.length&&n(t[1])}}}(e,(function(e){a(e,n)}))},accept:_,required:b,disabled:x,className:t.fileInputField}),""!==k&&(0,y.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){I(!1)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,y.jsx)(f.Z,{})}),""!==N&&(0,y.jsx)(g.Z,{errorMessage:N})]}):(0,y.jsxs)("div",{className:t.fileReselect,children:[(0,y.jsx)("div",{className:t.valueString,children:k}),(0,y.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){I(!0)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,y.jsx)(m.Z,{})})]})]})})}))},13871:function(e,n,t){var i,a=t(30168),r=(0,t(26088).Z)("hr")(i||(i=(0,a.Z)(["\n  border-top: 0;\n  border-left: 0;\n  border-right: 0;\n  border-color: #999999;\n  background-color: transparent;\n"])));n.Z=r},56028:function(e,n,t){var i=t(29439),a=t(1413),r=t(72791),s=t(78687),o=t(13400),l=t(48888),c=t(5289),d=t(65661),u=t(39157),m=t(11135),f=t(25787),p=t(23814),h=t(41320),x=t(29823),v=t(86352),g=t(87995),y=t(80184);n.Z=(0,f.Z)((function(e){return(0,m.Z)((0,a.Z)((0,a.Z)({},p.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},p.sN))}))((function(e){var n=e.onClose,t=e.modalOpen,m=e.title,f=e.children,p=e.classes,j=e.wideLimit,Z=void 0===j||j,b=e.noContentPadding,C=e.titleIcon,N=void 0===C?null:C,S=(0,h.TL)(),_=(0,r.useState)(!1),T=(0,i.Z)(_,2),k=T[0],A=T[1],w=(0,s.v9)((function(e){return e.system.modalSnackBar}));(0,r.useEffect)((function(){S((0,g.MK)(""))}),[S]),(0,r.useEffect)((function(){if(w){if(""===w.message)return void A(!1);"error"!==w.type&&A(!0)}}),[w]);var P=Z?{classes:{paper:p.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},I="";return w&&(I=w.detailedErrorMsg,(""===w.detailedErrorMsg||w.detailedErrorMsg.length<5)&&(I=w.message)),(0,y.jsxs)(c.Z,(0,a.Z)((0,a.Z)({open:t,classes:p},P),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:p.root,children:[(0,y.jsxs)(d.Z,{className:p.title,children:[(0,y.jsxs)("div",{className:p.titleText,children:[N," ",m]}),(0,y.jsx)("div",{className:p.closeContainer,children:(0,y.jsx)(o.Z,{"aria-label":"close",id:"close",className:p.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,y.jsx)(x.Z,{})})})]}),(0,y.jsx)(v.Z,{isModal:!0}),(0,y.jsx)(l.Z,{open:k,className:p.snackBarModal,onClose:function(){A(!1),S((0,g.MK)(""))},message:I,ContentProps:{className:"".concat(p.snackBar," ").concat(w&&"error"===w.type?p.errorSnackBar:"")},autoHideDuration:w&&"error"===w.type?1e4:5e3}),(0,y.jsx)(u.Z,{className:b?"":p.content,children:f})]}))}))},27454:function(e,n,t){var i=t(1413),a=t(72791),r=t(96040),s=t(80184);n.Z=function(e){var n=e.tooltip,t=e.children,o=e.errorProps,l=void 0===o?null:o,c=e.placement;return(0,s.jsx)(r.Z,{title:n,placement:c,children:(0,s.jsx)("span",{children:l?(0,a.cloneElement)(t,(0,i.Z)({},l)):t})})}},80505:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ve}});var i=t(29439),a=t(1413),r=t(72791),s=t(26181),o=t.n(s),l=t(78687),c=t(61889),d=t(57482),u=t(11135),m=t(23814),f=t(28371),p=t(41320),h=t(93433),x=t(25787),v=t(35527),g=t(13400),y=t(94721),j=t(84741),Z=t(40968),b=t(37516),C=t(21435),N=t(42419),S=t(75952),_=t(76773),T=t(90673),k=t(80007),A=t(80184),w=(0,x.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)({configSectionItem:{marginRight:15,marginBottom:15,"& .multiContainer":{border:"1px solid red"}},tenantCustomizationFields:{marginLeft:30,width:"88%",margin:"auto"},containerItem:{marginRight:15},fieldGroup:(0,a.Z)((0,a.Z)({},m.QV.fieldGroup),{},{paddingTop:15,marginBottom:25}),responsiveSectionItem:{"@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start","& div > div":{marginBottom:5,marginRight:0}}},wrapperContainer:{display:"flex",marginBottom:15},envVarRow:{display:"flex",alignItems:"center",justifyContent:"flex-start","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1,"& div label":{minWidth:50}}},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}},rowActions:{display:"flex",justifyContent:"flex-end","@media (max-width: 900px)":{flex:1}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}}},m.oO),m.AK),m.DF))}))((function(e){var n=e.classes,t=(0,p.TL)(),s=(0,l.v9)((function(e){return e.createTenant.fields.configure.exposeMinIO})),o=(0,l.v9)((function(e){return e.createTenant.fields.configure.exposeConsole})),d=(0,l.v9)((function(e){return e.createTenant.fields.configure.setDomains})),u=(0,l.v9)((function(e){return e.createTenant.fields.configure.consoleDomain})),m=(0,l.v9)((function(e){return e.createTenant.fields.configure.minioDomains})),f=(0,l.v9)((function(e){return e.createTenant.fields.configure.tenantCustom})),x=(0,l.v9)((function(e){return e.createTenant.fields.configure.envVars})),w=(0,l.v9)((function(e){return e.createTenant.fields.configure.tenantSecurityContext})),P=(0,l.v9)((function(e){return e.createTenant.fields.configure.customRuntime})),I=(0,l.v9)((function(e){return e.createTenant.fields.configure.runtimeClassName})),R=(0,r.useState)({}),D=(0,i.Z)(R,2),F=D[0],K=D[1],E=(0,r.useCallback)((function(e,n){t((0,_.HM)({pageName:"configure",field:e,value:n}))}),[t]);(0,r.useEffect)((function(){var e=[];if(f&&(e=[{fieldKey:"tenant_securityContext_runAsUser",required:!0,value:w.runAsUser,customValidation:""===w.runAsUser||parseInt(w.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"tenant_securityContext_runAsGroup",required:!0,value:w.runAsGroup,customValidation:""===w.runAsGroup||parseInt(w.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"tenant_securityContext_fsGroup",required:!0,value:w.fsGroup,customValidation:""===w.fsGroup||parseInt(w.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]),d){var n=m.map((function(e,n){return{fieldKey:"minio-domain-".concat(n.toString()),required:!1,value:e,pattern:/^(https?):\/\/([a-zA-Z0-9\-.]+)(:[0-9]+)?$/,customPatternMessage:"MinIO domain is not in the form of http|https://subdomain.domain"}}));e=[].concat((0,h.Z)(e),(0,h.Z)(n),[{fieldKey:"console_domain",required:!1,value:u,pattern:/^(https?):\/\/([a-zA-Z0-9\-.]+)(:[0-9]+)?(\/[a-zA-Z0-9\-./]*)?$/,customPatternMessage:"Console domain is not in the form of http|https://subdomain.domain:port/subpath1/subpath2"}])}var i=(0,Z.R)(e);t((0,_.NO)({pageName:"configure",valid:0===Object.keys(i).length})),K(i)}),[t,f,w,d,u,m]);var L=function(e){K((0,j.he)(F,e))};return(0,A.jsxs)(v.Z,{className:n.paperWrapper,children:[(0,A.jsxs)("div",{className:n.headerElement,children:[(0,A.jsx)(k.Z,{children:"Configure"}),(0,A.jsx)("span",{className:n.descriptionText,children:"Basic configurations for tenant management"})]}),(0,A.jsxs)("div",{className:n.headerElement,children:[(0,A.jsx)("h4",{className:n.h3Section,children:"Services"}),(0,A.jsx)("span",{className:n.descriptionText,children:"Whether the tenant's services should request an external IP via LoadBalancer service type."})]}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,A.jsx)(b.Z,{value:"expose_minio",id:"expose_minio",name:"expose_minio",checked:s,onChange:function(e){var n=e.target.checked;E("exposeMinIO",n)},label:"Expose MinIO Service"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,A.jsx)(b.Z,{value:"expose_console",id:"expose_console",name:"expose_console",checked:o,onChange:function(e){var n=e.target.checked;E("exposeConsole",n)},label:"Expose Console Service"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,A.jsx)(b.Z,{value:"custom_domains",id:"custom_domains",name:"custom_domains",checked:d,onChange:function(e){var n=e.target.checked;E("setDomains",n)},label:"Set Custom Domains"})}),d&&(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.tenantCustomizationFields,children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"Custom Domains for MinIO"}),(0,A.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(n.configSectionItem),children:[(0,A.jsx)("div",{className:n.containerItem,children:(0,A.jsx)(C.Z,{id:"console_domain",name:"console_domain",onChange:function(e){E("consoleDomain",e.target.value),L("tenant_securityContext_runAsUser")},label:"Console Domain",value:u,placeholder:"Eg. http://subdomain.domain:port/subpath1/subpath2",error:F.console_domain||""})}),(0,A.jsxs)("div",{children:[(0,A.jsx)("h4",{children:"MinIO Domains"}),(0,A.jsx)("div",{className:"".concat(n.responsiveSectionItem),children:m.map((function(e,i){return(0,A.jsxs)("div",{className:"".concat(n.containerItem," ").concat(n.wrapperContainer),children:[(0,A.jsx)(C.Z,{id:"minio-domain-".concat(i.toString()),name:"minio-domain-".concat(i.toString()),onChange:function(e){!function(e,n){var t=(0,h.Z)(m);t[n]=e,E("minioDomains",t)}(e.target.value,i)},label:"MinIO Domain ".concat(i+1),value:e,placeholder:"Eg. http://subdomain.domain",error:F["minio-domain-".concat(i.toString())]||""}),(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){return t((0,_.x_)())},disabled:i!==m.length-1,children:(0,A.jsx)(N.Z,{})})}),(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){return t((0,_.JL)(i))},disabled:m.length<=1,children:(0,A.jsx)(S.HFL,{})})})]},"minio-domain-key-".concat(i.toString()))}))})]})]})]})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,A.jsx)(b.Z,{value:"tenantConfig",id:"tenant_configuration",name:"tenant_configuration",checked:f,onChange:function(e){var n=e.target.checked;E("tenantCustom",n)},label:"Security Context"})}),f&&(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.tenantCustomizationFields,children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"SecurityContext for MinIO"}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:"".concat(n.configSectionItem),children:(0,A.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveSectionItem),children:[(0,A.jsx)("div",{className:n.containerItem,children:(0,A.jsx)(C.Z,{type:"number",id:"tenant_securityContext_runAsUser",name:"tenant_securityContext_runAsUser",onChange:function(e){E("tenantSecurityContext",(0,a.Z)((0,a.Z)({},w),{},{runAsUser:e.target.value})),L("tenant_securityContext_runAsUser")},label:"Run As User",value:w.runAsUser,required:!0,error:F.tenant_securityContext_runAsUser||"",min:"0"})}),(0,A.jsx)("div",{className:n.containerItem,children:(0,A.jsx)(C.Z,{type:"number",id:"tenant_securityContext_runAsGroup",name:"tenant_securityContext_runAsGroup",onChange:function(e){E("tenantSecurityContext",(0,a.Z)((0,a.Z)({},w),{},{runAsGroup:e.target.value})),L("tenant_securityContext_runAsGroup")},label:"Run As Group",value:w.runAsGroup,required:!0,error:F.tenant_securityContext_runAsGroup||"",min:"0"})})]})}),(0,A.jsx)("br",{}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:"".concat(n.configSectionItem),children:(0,A.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveSectionItem),children:[(0,A.jsx)("div",{className:n.containerItem,children:(0,A.jsx)(C.Z,{type:"number",id:"tenant_securityContext_fsGroup",name:"tenant_securityContext_fsGroup",onChange:function(e){E("tenantSecurityContext",(0,a.Z)((0,a.Z)({},w),{},{fsGroup:e.target.value})),L("tenant_securityContext_fsGroup")},label:"FsGroup",value:w.fsGroup,required:!0,error:F.tenant_securityContext_fsGroup||"",min:"0"})}),(0,A.jsx)("div",{className:n.containerItem,children:(0,A.jsx)("div",{className:n.configSectionItem,children:(0,A.jsx)(T.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",value:w.fsGroupChangePolicy,onChange:function(e){E("tenantSecurityContext",(0,a.Z)((0,a.Z)({},w),{},{fsGroupChangePolicy:e.target.value}))},options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})})]})}),(0,A.jsx)("br",{}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,A.jsx)("div",{className:n.multiContainer,children:(0,A.jsx)(b.Z,{value:"tenantSecurityContextRunAsNonRoot",id:"tenant_securityContext_runAsNonRoot",name:"tenant_securityContext_runAsNonRoot",checked:w.runAsNonRoot,onChange:function(e){var n=e.target.checked;E("tenantSecurityContext",(0,a.Z)((0,a.Z)({},w),{},{runAsNonRoot:n}))},label:"Do not run as Root"})})})]})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.configSectionItem,children:(0,A.jsx)(b.Z,{value:"customRuntime",id:"tenant_custom_runtime",name:"tenant_custom_runtime",checked:P,onChange:function(e){var n=e.target.checked;E("customRuntime",n)},label:"Custom Runtime Configurations"})}),P&&(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.tenantCustomizationFields,children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"Custom Runtime Configurations"}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:"".concat(n.configSectionItem),children:(0,A.jsx)("div",{className:n.containerItem,children:(0,A.jsx)(C.Z,{id:"tenant_runtime_runtimeClassName",name:"tenant_runtime_runtimeClassName",onChange:function(e){E("runtimeClassName",e.target.value),L("tenant_runtime_runtimeClassName")},label:"Runtime Class Name",value:I,error:F.tenant_runtime_runtimeClassName||""})})})]})}),(0,A.jsx)(y.Z,{}),(0,A.jsxs)("div",{className:n.headerElement,children:[(0,A.jsx)(k.Z,{children:"Additional Environment Variables"}),(0,A.jsx)("span",{className:n.descriptionText,children:"Define additional environment variables to be used by your MinIO pods"})]}),(0,A.jsx)(c.ZP,{container:!0,children:x.map((function(e,i){return(0,A.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(n.formFieldRow," ").concat(n.envVarRow),children:[(0,A.jsx)(c.ZP,{item:!0,xs:5,className:n.fileItem,children:(0,A.jsx)(C.Z,{id:"env_var_key",name:"env_var_key",label:"Key",value:e.key,onChange:function(e){var n=(0,h.Z)(x);t((0,_.Ct)(n.map((function(n,t){return t===i?{key:e.target.value,value:n.value}:n}))))},index:i},"env_var_key_".concat(i.toString()))}),(0,A.jsx)(c.ZP,{item:!0,xs:5,className:n.fileItem,children:(0,A.jsx)(C.Z,{id:"env_var_value",name:"env_var_value",label:"Value",value:e.value,onChange:function(e){var n=(0,h.Z)(x);t((0,_.Ct)(n.map((function(n,t){return t===i?{key:n.key,value:e.target.value}:n}))))},index:i},"env_var_value_".concat(i.toString()))}),(0,A.jsxs)(c.ZP,{item:!0,xs:2,className:n.rowActions,children:[(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){var e=(0,h.Z)(x);e.push({key:"",value:""}),t((0,_.Ct)(e))},disabled:i!==x.length-1,children:(0,A.jsx)(N.Z,{})})}),(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){var e=x.filter((function(e,n){return n!==i}));t((0,_.Ct)(e))},disabled:x.length<=1,children:(0,A.jsx)(S.HFL,{})})})]})]},"tenant-envVar-".concat(i.toString()))}))})]})})),P=t(83679),I=t(20890),R=t(96040),D=t(72455),F=t(27247),K=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({adUserDnRows:{display:"flex",marginBottom:10},buttonTray:{marginLeft:10,display:"flex",height:38,"& button":{background:"#EAEAEA"}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}}},m.QV),m.DF),m.oO),m.AK))})),E=function(){var e=(0,p.TL)(),n=K(),t=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.idpSelection})),a=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADURL})),s=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADSkipTLS})),o=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADServerInsecure})),d=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADGroupSearchBaseDN})),u=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADGroupSearchFilter})),m=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADUserDNs})),f=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADGroupDNs})),x=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADLookupBindDN})),v=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADLookupBindPassword})),y=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADUserDNSearchBaseDN})),S=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADUserDNSearchFilter})),T=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.ADServerStartTLS})),k=(0,r.useState)({}),w=(0,i.Z)(k,2),P=w[0],D=w[1],E=(0,r.useCallback)((function(n,t){e((0,_.HM)({pageName:"identityProvider",field:n,value:t}))}),[e]),L=function(e){D((0,j.he)(P,e))};return(0,r.useEffect)((function(){var n=[];"AD"===t&&(n=[].concat((0,h.Z)(n),[{fieldKey:"AD_URL",required:!0,value:a},{fieldKey:"ad_lookupBindDN",required:!0,value:x}]));var i=(0,Z.R)(n);e((0,_.NO)({pageName:"identityProvider",valid:0===Object.keys(i).length})),D(i)}),[x,t,a,d,u,m,f,e]),(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"AD_URL",name:"AD_URL",onChange:function(e){E("ADURL",e.target.value),L("AD_URL")},label:"LDAP Server Address",value:a,placeholder:"ldap-server:636",error:P.AD_URL||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(b.Z,{value:"ad_skipTLS",id:"ad_skipTLS",name:"ad_skipTLS",checked:s,onChange:function(e){var n=e.target.checked;E("ADSkipTLS",n)},label:"Skip TLS Verification"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(b.Z,{value:"ad_serverInsecure",id:"ad_serverInsecure",name:"ad_serverInsecure",checked:o,onChange:function(e){var n=e.target.checked;E("ADServerInsecure",n)},label:"Server Insecure"})}),o?(0,A.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,A.jsx)(I.Z,{className:n.error,variant:"caption",display:"block",gutterBottom:!0,children:"Warning: All traffic with Active Directory will be unencrypted"}),(0,A.jsx)("br",{})]}):null,(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(b.Z,{value:"ad_serverStartTLS",id:"ad_serverStartTLS",name:"ad_serverStartTLS",checked:T,onChange:function(e){var n=e.target.checked;E("ADServerStartTLS",n)},label:"Start TLS connection to AD/LDAP server"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"ad_lookupBindDN",name:"ad_lookupBindDN",onChange:function(e){E("ADLookupBindDN",e.target.value),L("ad_lookupBindDN")},label:"Lookup Bind DN",value:x,placeholder:"cn=admin,dc=min,dc=io",error:P.ad_lookupBindDN||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"ad_lookupBindPassword",name:"ad_lookupBindPassword",onChange:function(e){E("ADLookupBindPassword",e.target.value)},label:"Lookup Bind Password",value:v,placeholder:"admin"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"ad_userDNSearchBaseDN",name:"ad_userDNSearchBaseDN",onChange:function(e){E("ADUserDNSearchBaseDN",e.target.value)},label:"User DN Search Base DN",value:y,placeholder:"dc=min,dc=io"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"ad_userDNSearchFilter",name:"ad_userDNSearchFilter",onChange:function(e){E("ADUserDNSearchFilter",e.target.value)},label:"User DN Search Filter",value:S,placeholder:"(sAMAcountName=%s)"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"ad_groupSearchBaseDN",name:"ad_groupSearchBaseDN",onChange:function(e){E("ADGroupSearchBaseDN",e.target.value)},label:"Group Search Base DN",value:d,placeholder:"ou=hwengg,dc=min,dc=io;ou=swengg,dc=min,dc=io"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"ad_groupSearchFilter",name:"ad_groupSearchFilter",onChange:function(e){E("ADGroupSearchFilter",e.target.value)},label:"Group Search Filter",value:u,placeholder:"(&(objectclass=groupOfNames)(member=%s))"})}),(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"List of user DNs (Distinguished Names) to be Tenant Administrators"}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:m.map((function(t,i){return(0,A.jsx)(r.Fragment,{children:(0,A.jsxs)("div",{className:n.adUserDnRows,children:[(0,A.jsx)(C.Z,{id:"ad-userdn-".concat(i.toString()),label:"",placeholder:"",name:"ad-userdn-".concat(i.toString()),value:m[i],onChange:function(n){e((0,_.hK)({index:i,userDN:n.target.value})),L("ad-userdn-".concat(i.toString()))},index:i,error:P["ad-userdn-".concat(i.toString())]||""},"csv-ad-userdn-".concat(i.toString())),(0,A.jsxs)("div",{className:n.buttonTray,children:[(0,A.jsx)(R.Z,{title:"Add User","aria-label":"add",children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){e((0,_.Y$)())},children:(0,A.jsx)(N.Z,{})})}),(0,A.jsx)(R.Z,{title:"Remove","aria-label":"add",children:(0,A.jsx)(g.Z,{size:"small",style:{marginLeft:16},onClick:function(){m.length>1&&e((0,_.GU)(i))},children:(0,A.jsx)(F.Z,{})})})]})]})},"identityField-".concat(i.toString()))}))})]}),(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"List of group DNs (Distinguished Names) to be Tenant Administrators"}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:f.map((function(t,i){return(0,A.jsx)(r.Fragment,{children:(0,A.jsxs)("div",{className:n.adUserDnRows,children:[(0,A.jsx)(C.Z,{id:"ad-groupdn-".concat(i.toString()),label:"",placeholder:"",name:"ad-groupdn-".concat(i.toString()),value:f[i],onChange:function(n){e((0,_.in)({index:i,userDN:n.target.value})),L("ad-groupdn-".concat(i.toString()))},index:i,error:P["ad-groupdn-".concat(i.toString())]||""},"csv-ad-groupdn-".concat(i.toString())),(0,A.jsxs)("div",{className:n.buttonTray,children:[(0,A.jsx)(R.Z,{title:"Add Group","aria-label":"add",children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){e((0,_.Fe)())},children:(0,A.jsx)(N.Z,{})})}),(0,A.jsx)(R.Z,{title:"Remove","aria-label":"add",children:(0,A.jsx)(g.Z,{size:"small",style:{marginLeft:16},onClick:function(){f.length>1&&e((0,_.Hu)(i))},children:(0,A.jsx)(F.Z,{})})})]})]})},"identityField-".concat(i.toString()))}))})]})]})},L=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({buttonTray:{marginLeft:10,display:"flex",height:38,"& button":{background:"#EAEAEA"}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}}},m.QV),m.DF),m.oO),m.AK))})),z=function(){var e=(0,p.TL)(),n=L(),t=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.idpSelection})),a=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDConfigurationURL})),s=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDClientID})),o=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDSecretID})),d=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDCallbackURL})),u=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDClaimName})),m=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.openIDScopes})),f=(0,r.useState)({}),x=(0,i.Z)(f,2),v=x[0],g=x[1],y=(0,r.useCallback)((function(n,t){e((0,_.HM)({pageName:"identityProvider",field:n,value:t}))}),[e]),b=function(e){g((0,j.he)(v,e))};return(0,r.useEffect)((function(){var n=[];"OpenID"===t&&(n=[].concat((0,h.Z)(n),[{fieldKey:"openID_CONFIGURATION_URL",required:!0,value:a},{fieldKey:"openID_clientID",required:!0,value:s},{fieldKey:"openID_secretID",required:!0,value:o},{fieldKey:"openID_claimName",required:!0,value:u}]));var i=(0,Z.R)(n);e((0,_.NO)({pageName:"identityProvider",valid:0===Object.keys(i).length})),g(i)}),[t,s,o,a,u,e]),(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"openID_CONFIGURATION_URL",name:"openID_CONFIGURATION_URL",onChange:function(e){y("openIDConfigurationURL",e.target.value),b("openID_CONFIGURATION_URL")},label:"Configuration URL",value:a,placeholder:"https://your-identity-provider.com/.well-known/openid-configuration",error:v.openID_CONFIGURATION_URL||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"openID_clientID",name:"openID_clientID",onChange:function(e){y("openIDClientID",e.target.value),b("openID_clientID")},label:"Client ID",value:s,error:v.openID_clientID||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"openID_secretID",name:"openID_secretID",onChange:function(e){y("openIDSecretID",e.target.value),b("openID_secretID")},label:"Secret ID",value:o,error:v.openID_secretID||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"openID_callbackURL",name:"openID_callbackURL",onChange:function(e){y("openIDCallbackURL",e.target.value),b("openID_callbackURL")},label:"Callback URL",value:d,placeholder:"https://your-console-endpoint:9443/oauth_callback",error:v.openID_callbackURL||""})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"openID_claimName",name:"openID_claimName",onChange:function(e){y("openIDClaimName",e.target.value),b("openID_claimName")},label:"Claim Name",value:u,error:v.openID_claimName||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"openID_scopes",name:"openID_scopes",onChange:function(e){y("openIDScopes",e.target.value),b("openID_scopes")},label:"Scopes",value:m})})]})},O=t(22918),M=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({buttonTray:{marginLeft:10,display:"flex",height:38,"& button":{background:"#EAEAEA"}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},shortened:{gridTemplateColumns:"auto auto 50px 50px",display:"grid",gridGap:15,marginBottom:10,"& input":{fontWeight:400}}},m.QV),m.DF),m.oO),m.AK))})),G=function(){var e=(0,p.TL)(),n=M(),t=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.idpSelection})),a=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.accessKeys})),s=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.secretKeys})),o=(0,r.useState)({}),c=(0,i.Z)(o,2),d=c[0],u=c[1],m=function(e){u((0,j.he)(d,e))};return(0,r.useEffect)((function(){var n=[];if("Built-in"===t){n=(0,h.Z)(n);for(var i=0;i<a.length;i++)n.push({fieldKey:"accesskey-".concat(i.toString()),required:!0,value:a[i],pattern:/^[a-zA-Z0-9-]{8,63}$/,customPatternMessage:"Keys must be at least length 8"}),n.push({fieldKey:"secretkey-".concat(i.toString()),required:!0,value:s[i],pattern:/^[a-zA-Z0-9-]{8,63}$/,customPatternMessage:"Keys must be at least length 8"})}var r=(0,Z.R)(n);e((0,_.NO)({pageName:"identityProvider",valid:0===Object.keys(r).length})),u(r)}),[t,a,s,e]),(0,A.jsxs)(r.Fragment,{children:["Add additional users",a.map((function(t,i){return(0,A.jsx)(r.Fragment,{children:(0,A.jsxs)("div",{className:n.shortened,children:[(0,A.jsx)(C.Z,{id:"accesskey-".concat(i.toString()),label:"",placeholder:"Access Key",name:"accesskey-".concat(i.toString()),value:a[i],onChange:function(n){e((0,_.ys)({index:i,accessKey:n.target.value})),m("accesskey-".concat(i.toString()))},index:i,error:d["accesskey-".concat(i.toString())]||""},"csv-accesskey-".concat(i.toString())),(0,A.jsx)(C.Z,{id:"secretkey-".concat(i.toString()),label:"",placeholder:"Secret Key",name:"secretkey-".concat(i.toString()),value:s[i],onChange:function(n){e((0,_.OL)({index:i,secretKey:n.target.value})),m("secretkey-".concat(i.toString()))},index:i,error:d["secretkey-".concat(i.toString())]||""},"csv-secretkey-".concat(i.toString())),(0,A.jsxs)("div",{className:n.buttonTray,children:[(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){e((0,_.x$)())},disabled:i!==a.length-1,children:(0,A.jsx)(N.Z,{})})}),(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){e((0,_.iA)(i))},disabled:a.length<=1,children:(0,A.jsx)(S.HFL,{})})}),(0,A.jsx)(R.Z,{title:"Randomize Credentials","aria-label":"add",children:(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{onClick:function(){e((0,_.ys)({index:i,accessKey:(0,j.zO)(16)})),e((0,_.OL)({index:i,secretKey:(0,j.zO)(16)}))},size:"small",children:(0,A.jsx)(O.Z,{})})})})]})]})},"identityField-".concat(i.toString()))}))]})},B=t(68456),q=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)({protocolRadioOptions:{display:"flex",flexFlow:"column",marginBottom:10,"& label":{fontSize:16,fontWeight:600},"& div":{display:"flex",flexFlow:"row",alignItems:"top"}}},m.QV),m.oO),m.AK))})),U=function(){var e=(0,p.TL)(),n=q(),t=(0,l.v9)((function(e){return e.createTenant.fields.identityProvider.idpSelection}));return(0,A.jsxs)(v.Z,{className:n.paperWrapper,children:[(0,A.jsxs)("div",{className:n.headerElement,children:[(0,A.jsx)(k.Z,{children:"Identity Provider"}),(0,A.jsx)("span",{className:n.descriptionText,children:"Access to the tenant can be controlled via an external Identity Manager."})]}),(0,A.jsx)(c.ZP,{item:!0,xs:12,padding:"10px",children:(0,A.jsx)(P.Z,{currentSelection:t,id:"idp-options",name:"idp-options",label:"Protocol",onChange:function(n){e((0,_.BH)(n.target.value))},selectorOptions:[{label:(0,A.jsx)(B.YH,{}),value:"Built-in"},{label:(0,A.jsx)(B.mo,{}),value:"OpenID"},{label:(0,A.jsx)(B.QT,{}),value:"AD"}]})}),"Built-in"===t&&(0,A.jsx)(G,{}),"OpenID"===t&&(0,A.jsx)(z,{}),"AD"===t&&(0,A.jsx)(E,{})]})},V=t(54639),H=t(88070),W=(0,x.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)({minioCertificateRows:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1}},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}},minioCertsContainer:{marginBottom:15},minioCACertsRow:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1,"& div label":{minWidth:50}}},rowActions:{display:"flex",justifyContent:"flex-end","@media (max-width: 900px)":{flex:1}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}}},m.QV),m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,p.TL)(),i=(0,l.v9)((function(e){return e.createTenant.fields.security.enableTLS})),a=(0,l.v9)((function(e){return e.createTenant.fields.security.enableAutoCert})),s=(0,l.v9)((function(e){return e.createTenant.fields.security.enableCustomCerts})),o=(0,l.v9)((function(e){return e.createTenant.certificates.minioServerCertificates})),d=(0,l.v9)((function(e){return e.createTenant.certificates.minioClientCertificates})),u=(0,l.v9)((function(e){return e.createTenant.certificates.minioCAsCertificates})),m=(0,r.useCallback)((function(e,n){t((0,_.HM)({pageName:"security",field:e,value:n}))}),[t]);return(0,r.useEffect)((function(){t(i?a||s?(0,_.NO)({pageName:"security",valid:!0}):(0,_.NO)({pageName:"security",valid:!1}):(0,_.NO)({pageName:"security",valid:!0}))}),[i,a,s,t]),(0,A.jsxs)(v.Z,{className:n.paperWrapper,children:[(0,A.jsx)("div",{className:n.headerElement,children:(0,A.jsx)(k.Z,{children:"Security"})}),(0,A.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(b.Z,{value:"enableTLS",id:"enableTLS",name:"enableTLS",checked:i,onChange:function(e){var n=e.target.checked;m("enableTLS",n)},label:"TLS",description:"Securing all the traffic using TLS. This is required for Encryption Configuration"})}),i&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(b.Z,{value:"enableAutoCert",id:"enableAutoCert",name:"enableAutoCert",checked:a,onChange:function(e){var n=e.target.checked;m("enableAutoCert",n)},label:"AutoCert",description:"The internode certificates will be generated and managed by MinIO Operator"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(b.Z,{value:"enableCustomCerts",id:"enableCustomCerts",name:"enableCustomCerts",checked:s,onChange:function(e){var n=e.target.checked;m("enableCustomCerts",n)},label:"Custom Certificates",description:"Certificates used to terminated TLS at MinIO"})}),s&&(0,A.jsxs)(r.Fragment,{children:[!a&&(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(H.Z,{})}),(0,A.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCertsContainer,children:[(0,A.jsx)("h5",{children:"MinIO Server Certificates"}),o.map((function(e,i){return(0,A.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCertificateRows,children:[(0,A.jsxs)(c.ZP,{item:!0,xs:10,className:n.fileItem,children:[(0,A.jsx)(V.Z,{onChange:function(n,i){t((0,_.aN)({id:e.id,key:"cert",fileName:i,value:n}))},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert}),(0,A.jsx)(V.Z,{onChange:function(n,i){t((0,_.aN)({id:e.id,key:"key",fileName:i,value:n}))},accept:".key,.pem",id:"tlsKey",name:"tlsKey",label:"Key",value:e.key})]}),(0,A.jsxs)(c.ZP,{item:!0,xs:2,className:n.rowActions,children:[(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){t((0,_.Mg)())},disabled:i!==o.length-1,children:(0,A.jsx)(N.Z,{})})}),(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){t((0,_.XX)(e.id))},disabled:o.length<=1,children:(0,A.jsx)(S.HFL,{})})})]})]},"minio-certs-".concat(e.id))}))]}),(0,A.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCertsContainer,children:[(0,A.jsx)("h5",{children:"MinIO Client Certificates"}),d.map((function(e,i){return(0,A.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCertificateRows,children:[(0,A.jsxs)(c.ZP,{item:!0,xs:10,className:n.fileItem,children:[(0,A.jsx)(V.Z,{onChange:function(n,i){t((0,_.fE)({id:e.id,key:"cert",fileName:i,value:n}))},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert}),(0,A.jsx)(V.Z,{onChange:function(n,i){t((0,_.fE)({id:e.id,key:"key",fileName:i,value:n}))},accept:".key,.pem",id:"tlsKey",name:"tlsKey",label:"Key",value:e.key})]}),(0,A.jsxs)(c.ZP,{item:!0,xs:2,className:n.rowActions,children:[(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){t((0,_.ee)())},disabled:i!==d.length-1,children:(0,A.jsx)(N.Z,{})})}),(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){t((0,_.o_)(e.id))},disabled:d.length<=1,children:(0,A.jsx)(S.HFL,{})})})]})]},"minio-certs-".concat(e.id))}))]}),(0,A.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCertsContainer,children:[(0,A.jsx)("h5",{children:"MinIO CA Certificates"}),u.map((function(e,i){return(0,A.jsxs)(c.ZP,{item:!0,xs:12,className:n.minioCACertsRow,children:[(0,A.jsx)(c.ZP,{item:!0,xs:6,children:(0,A.jsx)(V.Z,{onChange:function(n,i){t((0,_.Eq)({id:e.id,key:"cert",fileName:i,value:n}))},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert})}),(0,A.jsx)(c.ZP,{item:!0,xs:6,children:(0,A.jsxs)("div",{className:n.rowActions,children:[(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){t((0,_.fK)())},disabled:i!==u.length-1,children:(0,A.jsx)(N.Z,{})})}),(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){t((0,_.IG)(e.id))},disabled:u.length<=1,children:(0,A.jsx)(S.HFL,{})})})]})})]},"minio-CA-certs-".concat(e.id))}))]})]})]})]})]})})),Q=function(e){var n=e.children;return(0,A.jsx)("h1",{style:{margin:0,marginBottom:".8rem",fontSize:"1.3rem"},children:n})},$=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.QV),m.DF),m.oO),m.AK))})),Y=function(){var e=(0,p.TL)(),n=$(),t=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionTab})),a=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultEndpoint})),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultEngine})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultNamespace})),d=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultPrefix})),u=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultAppRoleEngine})),m=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultId})),f=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultSecret})),x=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultRetry})),v=(0,l.v9)((function(e){return e.createTenant.fields.encryption.vaultPing})),g=(0,r.useState)({}),y=(0,i.Z)(g,2),b=y[0],N=y[1];(0,r.useEffect)((function(){var n=[];t||(n=[].concat((0,h.Z)(n),[{fieldKey:"vault_endpoint",required:!0,value:a},{fieldKey:"vault_id",required:!0,value:m},{fieldKey:"vault_secret",required:!0,value:f},{fieldKey:"vault_ping",required:!1,value:v,customValidation:parseInt(v)<0,customValidationMessage:"Value needs to be 0 or greater"},{fieldKey:"vault_retry",required:!1,value:x,customValidation:parseInt(x)<0,customValidationMessage:"Value needs to be 0 or greater"}]));var i=(0,Z.R)(n);e((0,_.NO)({pageName:"encryption",valid:0===Object.keys(i).length})),N(i)}),[t,a,s,m,f,v,x,e]);var S=(0,r.useCallback)((function(n,t){e((0,_.HM)({pageName:"encryption",field:n,value:t}))}),[e]),T=function(e){N((0,j.he)(b,e))};return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"vault_endpoint",name:"vault_endpoint",onChange:function(e){S("vaultEndpoint",e.target.value),T("vault_endpoint")},label:"Endpoint",tooltip:"Endpoint is the Hashicorp Vault endpoint",value:a,error:b.vault_endpoint||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"vault_engine",name:"vault_engine",onChange:function(e){S("vaultEngine",e.target.value),T("vault_engine")},label:"Engine",tooltip:"Engine is the Hashicorp Vault K/V engine path. If empty, defaults to 'kv'",value:s})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"vault_namespace",name:"vault_namespace",onChange:function(e){S("vaultNamespace",e.target.value)},label:"Namespace",tooltip:"Namespace is an optional Hashicorp Vault namespace. An empty namespace means no particular namespace is used.",value:o})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"vault_prefix",name:"vault_prefix",onChange:function(e){S("vaultPrefix",e.target.value)},label:"Prefix",tooltip:"Prefix is an optional prefix / directory within the K/V engine. If empty, keys will be stored at the K/V engine top level",value:d})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"App Role"}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"vault_approle_engine",name:"vault_approle_engine",onChange:function(e){S("vaultAppRoleEngine",e.target.value)},label:"Engine",tooltip:"AppRoleEngine is the AppRole authentication engine path. If empty, defaults to 'approle'",value:u})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"vault_id",name:"vault_id",onChange:function(e){S("vaultId",e.target.value),T("vault_id")},label:"AppRole ID",tooltip:"AppRoleSecret is the AppRole access secret for authenticating to Hashicorp Vault via the AppRole method",value:m,error:b.vault_id||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"vault_secret",name:"vault_secret",onChange:function(e){S("vaultSecret",e.target.value),T("vault_secret")},label:"AppRole Secret",tooltip:"AppRoleSecret is the AppRole access secret for authenticating to Hashicorp Vault via the AppRole method",value:f,error:b.vault_secret||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{type:"number",min:"0",id:"vault_retry",name:"vault_retry",onChange:function(e){S("vaultRetry",e.target.value),T("vault_retry")},label:"Retry (Seconds)",value:x,error:b.vault_retry||""})})]})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,style:{marginTop:15},children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"Status"}),(0,A.jsx)(C.Z,{type:"number",min:"0",id:"vault_ping",name:"vault_ping",onChange:function(e){S("vaultPing",e.target.value),T("vault_ping")},label:"Ping (Seconds)",value:v,error:b.vault_ping||""})]})})]})},J=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.QV),m.DF),m.oO),m.AK))})),X=function(){var e=(0,p.TL)(),n=J(),t=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionTab})),a=(0,l.v9)((function(e){return e.createTenant.fields.encryption.azureEndpoint})),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.azureTenantID})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.azureClientID})),d=(0,l.v9)((function(e){return e.createTenant.fields.encryption.azureClientSecret})),u=(0,r.useState)({}),m=(0,i.Z)(u,2),f=m[0],x=m[1];(0,r.useEffect)((function(){var n=[];t||(n=[].concat((0,h.Z)(n),[{fieldKey:"azure_endpoint",required:!0,value:a},{fieldKey:"azure_tenant_id",required:!0,value:s},{fieldKey:"azure_client_id",required:!0,value:o},{fieldKey:"azure_client_secret",required:!0,value:d}]));var i=(0,Z.R)(n);e((0,_.NO)({pageName:"encryption",valid:0===Object.keys(i).length})),x(i)}),[t,a,s,o,d,e]);var v=(0,r.useCallback)((function(n,t){e((0,_.HM)({pageName:"encryption",field:n,value:t}))}),[e]),g=function(e){x((0,j.he)(f,e))};return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"azure_endpoint",name:"azure_endpoint",onChange:function(e){v("azureEndpoint",e.target.value),g("azure_endpoint")},label:"Endpoint",tooltip:"Endpoint is the Azure KeyVault endpoint",value:a,error:f.azure_endpoint||""})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"Credentials"}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"azure_tenant_id",name:"azure_tenant_id",onChange:function(e){v("azureTenantID",e.target.value),g("azure_tenant_id")},label:"Tenant ID",tooltip:"TenantID is the ID of the Azure KeyVault tenant",value:s,error:f.azure_tenant_id||""})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"azure_client_id",name:"azure_client_id",onChange:function(e){v("azureClientID",e.target.value),g("azure_client_id")},label:"Client ID",tooltip:"ClientID is the ID of the client accessing Azure KeyVault",value:o,error:f.azure_client_id||""})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"azure_client_secret",name:"azure_client_secret",onChange:function(e){v("azureClientSecret",e.target.value),g("azure_client_secret")},label:"Client Secret",tooltip:"ClientSecret is the client secret accessing the Azure KeyVault",value:d,error:f.azure_client_secret||""})})]})})]})},ee=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.QV),m.DF),m.oO),m.AK))})),ne=function(){var e=ee(),n=(0,p.TL)(),t=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpProjectID})),i=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpEndpoint})),a=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpClientEmail})),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpClientID})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpPrivateKeyID})),d=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpPrivateKey})),u=(0,r.useCallback)((function(e,t){n((0,_.HM)({pageName:"encryption",field:e,value:t}))}),[n]);return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,A.jsx)(C.Z,{id:"gcp_project_id",name:"gcp_project_id",onChange:function(e){u("gcpProjectID",e.target.value)},label:"Project ID",tooltip:"ProjectID is the GCP project ID.",value:t})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,A.jsx)(C.Z,{id:"gcp_endpoint",name:"gcp_endpoint",onChange:function(e){u("gcpEndpoint",e.target.value)},label:"Endpoint",tooltip:"Endpoint is the GCP project ID. If empty defaults to: secretmanager.googleapis.com:443",value:i})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsxs)("fieldset",{className:e.fieldGroup,children:[(0,A.jsx)("legend",{className:e.descriptionText,children:"Credentials"}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,A.jsx)(C.Z,{id:"gcp_client_email",name:"gcp_client_email",onChange:function(e){u("gcpClientEmail",e.target.value)},label:"Client Email",tooltip:"Is the Client email of the GCP service account used to access the SecretManager",value:a})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,A.jsx)(C.Z,{id:"gcp_client_id",name:"gcp_client_id",onChange:function(e){u("gcpClientID",e.target.value)},label:"Client ID",tooltip:"Is the Client ID of the GCP service account used to access the SecretManager",value:s})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,A.jsx)(C.Z,{id:"gcp_private_key_id",name:"gcp_private_key_id",onChange:function(e){u("gcpPrivateKeyID",e.target.value)},label:"Private Key ID",tooltip:"Is the private key ID of the GCP service account used to access the SecretManager",value:o})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,A.jsx)(C.Z,{id:"gcp_private_key",name:"gcp_private_key",onChange:function(e){u("gcpPrivateKey",e.target.value)},label:"Private Key",tooltip:"Is the private key of the GCP service account used to access the SecretManager",value:d})})]})})]})},te=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.QV),m.DF),m.oO),m.AK))})),ie=function(){var e=(0,p.TL)(),n=te(),t=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionTab})),a=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gemaltoEndpoint})),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gemaltoToken})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gemaltoDomain})),d=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gemaltoRetry})),u=(0,r.useState)({}),m=(0,i.Z)(u,2),f=m[0],x=m[1];(0,r.useEffect)((function(){var n=[];t||(n=[].concat((0,h.Z)(n),[{fieldKey:"gemalto_endpoint",required:!0,value:a},{fieldKey:"gemalto_token",required:!0,value:s},{fieldKey:"gemalto_domain",required:!0,value:o},{fieldKey:"gemalto_retry",required:!1,value:d,customValidation:parseInt(d)<0,customValidationMessage:"Value needs to be 0 or greater"}]));var i=(0,Z.R)(n);e((0,_.NO)({pageName:"encryption",valid:0===Object.keys(i).length})),x(i)}),[t,a,s,o,d,e]);var v=(0,r.useCallback)((function(n,t){e((0,_.HM)({pageName:"encryption",field:n,value:t}))}),[e]),g=function(e){x((0,j.he)(f,e))};return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"gemalto_endpoint",name:"gemalto_endpoint",onChange:function(e){v("gemaltoEndpoint",e.target.value),g("gemalto_endpoint")},label:"Endpoint",tooltip:"Endpoint is the endpoint to the KeySecure server",value:a,error:f.gemalto_endpoint||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"Credentials"}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"gemalto_token",name:"gemalto_token",onChange:function(e){v("gemaltoToken",e.target.value),g("gemalto_token")},label:"Token",tooltip:"Token is the refresh authentication token to access the KeySecure server",value:s,error:f.gemalto_token||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"gemalto_domain",name:"gemalto_domain",onChange:function(e){v("gemaltoDomain",e.target.value),g("gemalto_domain")},label:"Domain",tooltip:"Domain is the isolated namespace within the KeySecure server. If empty, defaults to the top-level / root domain",value:o,error:f.gemalto_domain||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{type:"number",min:"0",id:"gemalto_retry",name:"gemalto_retry",onChange:function(e){v("gemaltoRetry",e.target.value),g("gemalto_retry")},label:"Retry (seconds)",value:d,error:f.gemalto_retry||""})})]})})]})},ae=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},m.QV),m.DF),m.oO),m.AK))})),re=function(){var e=(0,p.TL)(),n=ae(),t=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionTab})),a=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsEndpoint})),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsRegion})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsKMSKey})),d=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsAccessKey})),u=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsSecretKey})),m=(0,l.v9)((function(e){return e.createTenant.fields.encryption.awsToken})),f=(0,r.useState)({}),x=(0,i.Z)(f,2),v=x[0],g=x[1];(0,r.useEffect)((function(){var n=[];t||(n=[].concat((0,h.Z)(n),[{fieldKey:"aws_endpoint",required:!0,value:a},{fieldKey:"aws_region",required:!0,value:s},{fieldKey:"aws_accessKey",required:!0,value:d},{fieldKey:"aws_secretKey",required:!0,value:u}]));var i=(0,Z.R)(n);e((0,_.NO)({pageName:"encryption",valid:0===Object.keys(i).length})),g(i)}),[t,a,s,u,d,e]);var y=(0,r.useCallback)((function(n,t){e((0,_.HM)({pageName:"encryption",field:n,value:t}))}),[e]),b=function(e){g((0,j.he)(v,e))};return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"aws_endpoint",name:"aws_endpoint",onChange:function(e){y("awsEndpoint",e.target.value),b("aws_endpoint")},label:"Endpoint",tooltip:"Endpoint is the AWS SecretsManager endpoint. AWS SecretsManager endpoints have the following schema: secrestmanager[-fips].<region>.amanzonaws.com",value:a,error:v.aws_endpoint||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"aws_region",name:"aws_region",onChange:function(e){y("awsRegion",e.target.value),b("aws_region")},label:"Region",tooltip:"Region is the AWS region the SecretsManager is located",value:s,error:v.aws_region||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"aws_kmsKey",name:"aws_kmsKey",onChange:function(e){y("awsKMSKey",e.target.value)},label:"KMS Key",tooltip:"KMSKey is the AWS-KMS key ID (CMK-ID) used to en/decrypt secrets managed by the SecretsManager. If empty, the default AWS KMS key is used",value:o})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"Credentials"}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"aws_accessKey",name:"aws_accessKey",onChange:function(e){y("awsAccessKey",e.target.value),b("aws_accessKey")},label:"Access Key",tooltip:"AccessKey is the access key for authenticating to AWS",value:d,error:v.aws_accessKey||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"aws_secretKey",name:"aws_secretKey",onChange:function(e){y("awsSecretKey",e.target.value),b("aws_secretKey")},label:"Secret Key",tooltip:"SecretKey is the secret key for authenticating to AWS",value:u,error:v.aws_secretKey||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"aws_token",name:"aws_token",tooltip:"SessionToken is an optional session token for authenticating to AWS when using STS",onChange:function(e){y("awsToken",e.target.value)},label:"Token",value:m})})]})})]})},se=t(25228),oe=t(43896),le=t(92217),ce=t(13871),de=(0,x.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({encryptionTypeOptions:{marginBottom:15},mutualTlsConfig:{marginTop:15,"& fieldset":{flex:1}},rightSpacer:{marginRight:15},responsiveContainer:{"@media (max-width: 900px)":{display:"flex",flexFlow:"column"}}},m.QV),m.DF),m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,p.TL)(),s=(0,l.v9)((function(e){return e.createTenant.fields.encryption.replicas})),o=(0,l.v9)((function(e){return e.createTenant.fields.encryption.rawConfiguration})),d=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionTab})),u=(0,l.v9)((function(e){return e.createTenant.fields.encryption.enableEncryption})),m=(0,l.v9)((function(e){return e.createTenant.fields.encryption.encryptionType})),f=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpProjectID})),x=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpEndpoint})),g=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpClientEmail})),y=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpClientID})),N=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpPrivateKeyID})),S=(0,l.v9)((function(e){return e.createTenant.fields.encryption.gcpPrivateKey})),k=(0,l.v9)((function(e){return e.createTenant.fields.encryption.enableCustomCertsForKES})),w=(0,l.v9)((function(e){return e.createTenant.fields.security.enableAutoCert})),I=(0,l.v9)((function(e){return e.createTenant.fields.security.enableTLS})),R=(0,l.v9)((function(e){return e.createTenant.certificates.minioServerCertificates})),D=(0,l.v9)((function(e){return e.createTenant.certificates.kesServerCertificate})),F=(0,l.v9)((function(e){return e.createTenant.certificates.minioMTLSCertificate})),K=(0,l.v9)((function(e){return e.createTenant.certificates.kmsMTLSCertificate})),E=(0,l.v9)((function(e){return e.createTenant.certificates.kmsCA})),L=(0,l.v9)((function(e){return e.createTenant.fields.security.enableCustomCerts})),z=(0,l.v9)((function(e){return e.createTenant.fields.encryption.kesSecurityContext})),O=(0,r.useState)({}),M=(0,i.Z)(O,2),G=M[0],B=M[1],q=!1;I&&(w||R&&R.filter((function(e){return e.encoded_key&&e.encoded_cert})).length>0)&&(q=!0);var U=(0,r.useCallback)((function(e,n){t((0,_.HM)({pageName:"encryption",field:e,value:n}))}),[t]),H=function(e){B((0,j.he)(G,e))};return(0,r.useEffect)((function(){var e=[];u&&(e=[{fieldKey:"rawConfiguration",required:d>0,value:o},{fieldKey:"replicas",required:!0,value:s,customValidation:parseInt(s)<1,customValidationMessage:"Replicas needs to be 1 or greater"},{fieldKey:"kes_securityContext_runAsUser",required:!0,value:z.runAsUser,customValidation:""===z.runAsUser||parseInt(z.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"kes_securityContext_runAsGroup",required:!0,value:z.runAsGroup,customValidation:""===z.runAsGroup||parseInt(z.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"kes_securityContext_fsGroup",required:!0,value:z.fsGroup,customValidation:""===z.fsGroup||parseInt(z.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}],L&&(e=[].concat((0,h.Z)(e),[{fieldKey:"serverKey",required:!w,value:D.encoded_key},{fieldKey:"serverCert",required:!w,value:D.encoded_cert},{fieldKey:"clientKey",required:!w,value:F.encoded_key},{fieldKey:"clientCert",required:!w,value:F.encoded_cert}])));var n=(0,Z.R)(e);t((0,_.NO)({pageName:"encryption",valid:0===Object.keys(n).length})),B(n)}),[o,d,u,m,f,x,g,y,N,S,t,w,L,D.encoded_key,D.encoded_cert,F.encoded_key,F.encoded_cert,z,s]),(0,A.jsxs)(v.Z,{className:n.paperWrapper,children:[(0,A.jsxs)(c.ZP,{container:!0,alignItems:"center",children:[(0,A.jsx)(c.ZP,{item:!0,xs:!0,children:(0,A.jsx)(Q,{children:"Encryption"})}),(0,A.jsx)(c.ZP,{item:!0,xs:4,justifyContent:"end",textAlign:"right",children:(0,A.jsx)(b.Z,{label:"",indicatorLabels:["Enabled","Disabled"],checked:u,value:"tenant_encryption",id:"tenant-encryption",name:"tenant-encryption",onChange:function(e){var n=e.target.checked;U("enableEncryption",n)},description:"",disabled:!q})})]}),(0,A.jsxs)(c.ZP,{container:!0,spacing:1,children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)("span",{className:n.descriptionText,children:"MinIO Server-Side Encryption (SSE) protects objects as part of write operations, allowing clients to take advantage of server processing power to secure objects at the storage layer (encryption-at-rest). SSE also provides key functionality to regulatory and compliance requirements around secure locking and erasure."})}),(0,A.jsx)(c.ZP,{xs:12,children:(0,A.jsx)(ce.Z,{})}),u&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsxs)(se.Z,{value:d,onChange:function(e,n){U("encryptionTab",n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,A.jsx)(oe.Z,{id:"kms-options",label:"Options"}),(0,A.jsx)(oe.Z,{id:"kms-raw-configuration",label:"Raw Edit"})]})}),d?(0,A.jsx)(r.Fragment,{children:(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(le.Z,{value:o,mode:"yaml",onBeforeChange:function(e,n,t){U("rawConfiguration",t)},editorHeight:"550px"})})}):(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.encryptionTypeOptions,children:(0,A.jsx)(P.Z,{currentSelection:m,id:"encryptionType",name:"encryptionType",label:"KMS",onChange:function(e){U("encryptionType",e.target.value)},selectorOptions:[{label:"Vault",value:"vault"},{label:"AWS",value:"aws"},{label:"Gemalto",value:"gemalto"},{label:"GCP",value:"gcp"},{label:"Azure",value:"azure"}]})}),"vault"===m&&(0,A.jsx)(Y,{}),"azure"===m&&(0,A.jsx)(X,{}),"gcp"===m&&(0,A.jsx)(ne,{}),"aws"===m&&(0,A.jsx)(re,{}),"gemalto"===m&&(0,A.jsx)(ie,{})]}),(0,A.jsx)("div",{className:n.headerElement,children:(0,A.jsx)("h4",{className:n.h3Section,children:"Additional Configurations"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(b.Z,{value:"enableCustomCertsForKES",id:"enableCustomCertsForKES",name:"enableCustomCertsForKES",checked:k||!w,onChange:function(e){var n=e.target.checked;U("enableCustomCertsForKES",n)},label:"Custom Certificates",disabled:!w})}),(k||!w)&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{container:!0,children:(0,A.jsx)(c.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"Encryption server certificates"}),(0,A.jsx)(V.Z,{onChange:function(e,n){t((0,_.uN)({key:"key",fileName:n,value:e})),H("serverKey")},accept:".key,.pem",id:"serverKey",name:"serverKey",label:"Key",error:G.serverKey||"",value:D.key,required:!w}),(0,A.jsx)(V.Z,{onChange:function(e,n){t((0,_.uN)({key:"cert",fileName:n,value:e})),H("serverCert")},accept:".cer,.crt,.cert,.pem",id:"serverCert",name:"serverCert",label:"Cert",error:G.serverCert||"",value:D.cert,required:!w})]})})}),(0,A.jsx)(c.ZP,{container:!0,style:{marginBottom:15},children:(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"MinIO mTLS certificates (connection between MinIO and the Encryption server)"}),(0,A.jsx)(V.Z,{onChange:function(e,n){t((0,_.Ud)({key:"key",fileName:n,value:e})),H("clientKey")},accept:".key,.pem",id:"clientKey",name:"clientKey",label:"Key",error:G.clientKey||"",value:F.key,required:!w}),(0,A.jsx)(V.Z,{onChange:function(e,n){t((0,_.Ud)({key:"cert",fileName:n,value:e})),H("clientCert")},accept:".cer,.crt,.cert,.pem",id:"clientCert",name:"clientCert",label:"Cert",error:G.clientCert||"",value:F.cert,required:!w})]})})}),(0,A.jsx)(c.ZP,{container:!0,className:n.mutualTlsConfig,children:(0,A.jsxs)("fieldset",{className:n.fieldGroup,children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"KMS mTLS certificates (connection between the Encryption server and the KMS)"}),(0,A.jsx)(V.Z,{onChange:function(e,n){t((0,_.Tr)({key:"key",fileName:n,value:e})),H("vault_key")},accept:".key,.pem",id:"vault_key",name:"vault_key",label:"Key",value:K.key}),(0,A.jsx)(V.Z,{onChange:function(e,n){t((0,_.Tr)({key:"cert",fileName:n,value:e})),H("vault_cert")},accept:".cer,.crt,.cert,.pem",id:"vault_cert",name:"vault_cert",label:"Cert",value:K.cert}),(0,A.jsx)(V.Z,{onChange:function(e,n){t((0,_.b9)({fileName:n,value:e})),H("vault_ca")},accept:".cer,.crt,.cert,.pem",id:"vault_ca",name:"vault_ca",label:"CA",value:E.cert})]})})]}),(0,A.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,classes:n.formFieldRow,children:(0,A.jsx)(C.Z,{type:"number",min:"1",id:"replicas",name:"replicas",onChange:function(e){U("replicas",e.target.value),H("replicas")},label:"Replicas",value:s,required:!0,error:G.replicas||""})}),(0,A.jsxs)("fieldset",{className:n.fieldGroup,style:{marginTop:15},children:[(0,A.jsx)("legend",{className:n.descriptionText,children:"SecurityContext for KES pods"}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.kesSecurityContext,children:(0,A.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveContainer),children:[(0,A.jsx)("div",{className:"".concat(n.formFieldRow," ").concat(n.rightSpacer),children:(0,A.jsx)(C.Z,{type:"number",id:"kes_securityContext_runAsUser",name:"kes_securityContext_runAsUser",onChange:function(e){U("kesSecurityContext",(0,a.Z)((0,a.Z)({},z),{},{runAsUser:e.target.value})),H("kes_securityContext_runAsUser")},label:"Run As User",value:z.runAsUser,required:!0,error:G.kes_securityContext_runAsUser||"",min:"0"})}),(0,A.jsx)("div",{className:"".concat(n.formFieldRow," ").concat(n.rightSpacer),children:(0,A.jsx)(C.Z,{type:"number",id:"kes_securityContext_runAsGroup",name:"kes_securityContext_runAsGroup",onChange:function(e){U("kesSecurityContext",(0,a.Z)((0,a.Z)({},z),{},{runAsGroup:e.target.value})),H("kes_securityContext_runAsGroup")},label:"Run As Group",value:z.runAsGroup,required:!0,error:G.kes_securityContext_runAsGroup||"",min:"0"})})]})}),(0,A.jsx)("br",{}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.kesSecurityContext,children:(0,A.jsxs)("div",{className:"".concat(n.multiContainer," ").concat(n.responsiveContainer),children:[(0,A.jsx)("div",{className:"".concat(n.formFieldRow," ").concat(n.rightSpacer),children:(0,A.jsx)(C.Z,{type:"number",id:"kes_securityContext_fsGroup",name:"kes_securityContext_fsGroup",onChange:function(e){U("kesSecurityContext",(0,a.Z)((0,a.Z)({},z),{},{fsGroup:e.target.value})),H("kes_securityContext_fsGroup")},label:"FsGroup",value:z.fsGroup,required:!0,error:G.kes_securityContext_fsGroup||"",min:"0"})}),(0,A.jsx)("div",{className:"".concat(n.formFieldRow," ").concat(n.rightSpacer),children:(0,A.jsx)(T.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",value:z.fsGroupChangePolicy,onChange:function(e){U("kesSecurityContext",(0,a.Z)((0,a.Z)({},z),{},{fsGroupChangePolicy:e.target.value}))},options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})]})}),(0,A.jsx)("br",{}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)("div",{className:n.multiContainer,children:(0,A.jsx)(b.Z,{value:"kesSecurityContextRunAsNonRoot",id:"kes_securityContext_runAsNonRoot",name:"kes_securityContext_runAsNonRoot",checked:z.runAsNonRoot,onChange:function(e){var n=e.target.checked;U("kesSecurityContext",(0,a.Z)((0,a.Z)({},z),{},{runAsNonRoot:n}))},label:"Do not run as Root"})})})]})]})]})]})]})})),ue=t(4942),me=t(81207),fe=t(45660),pe=t(87995),he=(0,x.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)({overlayAction:{marginLeft:10,display:"flex",alignItems:"center","& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},affinityConfigField:{display:"flex"},affinityFieldLabel:{display:"flex",flexFlow:"column",flex:1},radioField:{display:"flex",alignItems:"flex-start",marginTop:10,"& div:first-child":{display:"flex",flexFlow:"column",alignItems:"baseline",textAlign:"left !important"}},affinityLabelKey:{"& div:first-child":{marginBottom:0}},affinityLabelValue:{marginLeft:10,"& div:first-child":{marginBottom:0}},rowActions:{display:"flex",alignItems:"center"},affinityRow:{marginBottom:10,display:"flex"}},m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,p.TL)(),s=(0,l.v9)((function(e){return e.createTenant.fields.affinity.podAffinity})),o=(0,l.v9)((function(e){return e.createTenant.fields.affinity.nodeSelectorLabels})),d=(0,l.v9)((function(e){return e.createTenant.fields.affinity.withPodAntiAffinity})),u=(0,l.v9)((function(e){return e.createTenant.nodeSelectorPairs})),m=(0,l.v9)((function(e){return e.createTenant.tolerations})),f=(0,r.useState)({}),x=(0,i.Z)(f,2),y=x[0],j=x[1],N=(0,r.useState)(!0),w=(0,i.Z)(N,2),I=w[0],R=w[1],D=(0,r.useState)({}),F=(0,i.Z)(D,2),K=F[0],E=F[1],L=(0,r.useState)([]),z=(0,i.Z)(L,2),O=z[0],M=z[1],G=(0,r.useCallback)((function(e,n){t((0,_.HM)({pageName:"affinity",field:e,value:n}))}),[t]);(0,r.useEffect)((function(){I&&me.Z.invoke("GET","/api/v1/nodes/labels").then((function(e){R(!1),E(e);var n=[];for(var t in e)n.push({label:t,value:t});M(n)})).catch((function(e){R(!1),t((0,pe.zb)(e)),E({})}))}),[t,I]),(0,r.useEffect)((function(){if(u){var e=u.filter((function(e){return""!==e.key})).map((function(e){return"".concat(e.key,"=").concat(e.value)})).filter((function(e,n,t){return t.indexOf(e)===n})).join("&");G("nodeSelectorLabels",e)}}),[u,G]),(0,r.useEffect)((function(){var e=[];if("nodeSelector"===s){var n=!0,i=o.split("&");1===i.length&&""===i[0]&&(n=!1),i.forEach((function(e,t){var a=e.split("=");2!==a.length&&(n=!1),t+1!==i.length&&(""!==a[0]&&""!==a[1]||(n=!1))})),e=[].concat((0,h.Z)(e),[{fieldKey:"labels",required:!0,value:o,customValidation:!n,customValidationMessage:"You need to add at least one label key-pair"}])}var a=(0,Z.R)(e);t((0,_.NO)({pageName:"affinity",valid:0===Object.keys(a).length})),j(a)}),[t,s,o]);var B=function(e,n,i){var r=(0,a.Z)((0,a.Z)({},m[e]),{},(0,ue.Z)({},n,i));t((0,_.iU)({index:e,tolerationValue:r}))};return(0,A.jsxs)(v.Z,{className:n.paperWrapper,children:[(0,A.jsxs)("div",{className:n.headerElement,children:[(0,A.jsx)(k.Z,{children:"Pod Placement"}),(0,A.jsx)("span",{className:n.descriptionText,children:"Configure how pods will be assigned to nodes"})]}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.affinityConfigField,children:(0,A.jsxs)(c.ZP,{item:!0,className:n.affinityFieldLabel,children:[(0,A.jsx)("div",{className:n.label,children:"Type"}),(0,A.jsx)("div",{className:"".concat(n.descriptionText," ").concat(n.affinityHelpText),children:"MinIO supports multiple configurations for Pod Affinity"}),(0,A.jsx)(c.ZP,{item:!0,className:n.radioField,children:(0,A.jsx)(P.Z,{currentSelection:s,id:"affinity-options",name:"affinity-options",label:" ",onChange:function(e){G("podAffinity",e.target.value)},selectorOptions:[{label:"None",value:"none"},{label:"Default (Pod Anti-Affinity)",value:"default"},{label:"Node Selector",value:"nodeSelector"}]})})]})}),"nodeSelector"===s&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)("br",{}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(b.Z,{value:"with_pod_anti_affinity",id:"with_pod_anti_affinity",name:"with_pod_anti_affinity",checked:d,onChange:function(e){var n=e.target.checked;G("withPodAntiAffinity",n)},label:"With Pod Anti-Affinity"})}),(0,A.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,A.jsx)("h3",{children:"Labels"}),(0,A.jsx)("span",{className:n.error,children:y.labels}),(0,A.jsx)(c.ZP,{container:!0,children:u&&u.map((function(e,i){return(0,A.jsxs)(c.ZP,{item:!0,xs:12,className:n.affinityRow,children:[(0,A.jsxs)(c.ZP,{item:!0,xs:5,className:n.affinityLabelKey,children:[O.length>0&&(0,A.jsx)(T.Z,{onChange:function(e){var n=e.target.value,a={key:n,value:K[n][0]},r=(0,h.Z)(u);r[i]=a,t((0,_.i$)(r))},id:"select-access-policy",name:"select-access-policy",label:"",value:e.key,options:O}),0===O.length&&(0,A.jsx)(C.Z,{id:"nodeselector-key-".concat(i.toString()),label:"",name:"nodeselector-".concat(i.toString()),value:e.key,onChange:function(e){var n=(0,h.Z)(u);n[i]={key:n[i].key,value:e.target.value},t((0,_.i$)(n))},index:i,placeholder:"Key"})]}),(0,A.jsxs)(c.ZP,{item:!0,xs:5,className:n.affinityLabelValue,children:[O.length>0&&(0,A.jsx)(T.Z,{onChange:function(e){var n=(0,h.Z)(u);n[i]={key:n[i].key,value:e.target.value},t((0,_.i$)(n))},id:"select-access-policy",name:"select-access-policy",label:"",value:e.value,options:K[e.key]?K[e.key].map((function(e){return{label:e,value:e}})):[]}),0===O.length&&(0,A.jsx)(C.Z,{id:"nodeselector-value-".concat(i.toString()),label:"",name:"nodeselector-".concat(i.toString()),value:e.value,onChange:function(e){var n=(0,h.Z)(u);n[i]={key:n[i].key,value:e.target.value},t((0,_.i$)(n))},index:i,placeholder:"value"})]}),(0,A.jsxs)(c.ZP,{item:!0,xs:2,className:n.rowActions,children:[(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){var e=(0,h.Z)(u);O.length>0?e.push({key:O[0].value,value:K[O[0].value][0]}):e.push({key:"",value:""}),t((0,_.i$)(e))},disabled:i!==u.length-1,children:(0,A.jsx)(S.dtP,{})})}),(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){var e=u.filter((function(e,n){return n!==i}));t((0,_.i$)(e))},disabled:u.length<=1,children:(0,A.jsx)(S.HFL,{})})})]})]},"affinity-keyVal-".concat(i.toString()))}))})]})]}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.affinityConfigField,children:(0,A.jsxs)(c.ZP,{item:!0,className:n.affinityFieldLabel,children:[(0,A.jsx)("h3",{children:"Tolerations"}),(0,A.jsx)("span",{className:n.error,children:y.tolerations}),(0,A.jsx)(c.ZP,{container:!0,children:m&&m.map((function(e,i){var a;return(0,A.jsxs)(c.ZP,{item:!0,xs:12,className:n.affinityRow,children:[(0,A.jsx)(fe.Z,{effect:e.effect,onEffectChange:function(e){B(i,"effect",e)},tolerationKey:e.key,onTolerationKeyChange:function(e){B(i,"key",e)},operator:e.operator,onOperatorChange:function(e){B(i,"operator",e)},value:e.value,onValueChange:function(e){B(i,"value",e)},tolerationSeconds:(null===(a=e.tolerationSeconds)||void 0===a?void 0:a.seconds)||0,onSecondsChange:function(e){B(i,"tolerationSeconds",{seconds:e})},index:i}),(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){t((0,_.ly)())},disabled:i!==m.length-1,children:(0,A.jsx)(S.dtP,{})})}),(0,A.jsx)("div",{className:n.overlayAction,children:(0,A.jsx)(g.Z,{size:"small",onClick:function(){return t((0,_.JX)(i))},disabled:m.length<=1,children:(0,A.jsx)(S.HFL,{})})})]},"affinity-keyVal-".concat(i.toString()))}))})]})})]})})),xe=(0,x.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)({},m.DF),m.AK))}))((function(e){var n=e.classes,t=(0,p.TL)(),a=(0,l.v9)((function(e){return e.createTenant.fields.configure.customImage})),s=(0,l.v9)((function(e){return e.createTenant.fields.configure.imageName})),o=(0,l.v9)((function(e){return e.createTenant.fields.configure.customDockerhub})),d=(0,l.v9)((function(e){return e.createTenant.fields.configure.imageRegistry})),u=(0,l.v9)((function(e){return e.createTenant.fields.configure.imageRegistryUsername})),m=(0,l.v9)((function(e){return e.createTenant.fields.configure.imageRegistryPassword})),f=(0,l.v9)((function(e){return e.createTenant.fields.configure.tenantCustom})),x=(0,l.v9)((function(e){return e.createTenant.fields.configure.kesImage})),g=(0,r.useState)({}),y=(0,i.Z)(g,2),N=y[0],S=y[1],T=(0,r.useCallback)((function(e,n){t((0,_.HM)({pageName:"configure",field:e,value:n}))}),[t]);(0,r.useEffect)((function(){var e=[];a&&(e=[].concat((0,h.Z)(e),[{fieldKey:"image",required:!1,value:s,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/minio:VERSION'"},{fieldKey:"kesImage",required:!1,value:x,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/kes:VERSION'"}]),o&&(e=[].concat((0,h.Z)(e),[{fieldKey:"registry",required:!0,value:d},{fieldKey:"registryUsername",required:!0,value:u},{fieldKey:"registryPassword",required:!0,value:m}])));var n=(0,Z.R)(e);t((0,_.NO)({pageName:"configure",valid:0===Object.keys(n).length})),S(n)}),[a,s,x,o,d,u,m,t,f]);var w=function(e){S((0,j.he)(N,e))};return(0,A.jsxs)(v.Z,{className:n.paperWrapper,children:[(0,A.jsxs)("div",{className:n.headerElement,children:[(0,A.jsx)(k.Z,{children:"Container Images"}),(0,A.jsx)("span",{className:n.descriptionText,children:"Specify the container images used by the Tenant and its features."})]}),(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"image",name:"image",onChange:function(e){T("imageName",e.target.value),w("image")},label:"MinIO",value:s,error:N.image||"",placeholder:"minio/minio:RELEASE.2023-05-27T05-56-19Z"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"kesImage",name:"kesImage",onChange:function(e){T("kesImage",e.target.value),w("kesImage")},label:"KES",value:x,error:N.kesImage||"",placeholder:"minio/kes:2023-05-02T22-48-10Z"})})]}),a&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)("h4",{children:"Custom Container Registry"})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(b.Z,{value:"custom_docker_hub",id:"custom_docker_hub",name:"custom_docker_hub",checked:o,onChange:function(e){var n=e.target.checked;T("customDockerhub",n)},label:"Use a private container registry"})})]}),o&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"registry",name:"registry",onChange:function(e){T("imageRegistry",e.target.value)},label:"Endpoint",value:d,error:N.registry||"",placeholder:"https://index.docker.io/v1/",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"registryUsername",name:"registryUsername",onChange:function(e){T("imageRegistryUsername",e.target.value)},label:"Username",value:u,error:N.registryUsername||"",required:!0})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(C.Z,{id:"registryPassword",name:"registryPassword",onChange:function(e){T("imageRegistryPassword",e.target.value)},label:"Password",value:m,error:N.registryPassword||"",required:!0})})]})]})})),ve=t(74794),ge=t(79836),ye=t(53382),je=t(53994),Ze=t(35855),be=t(45248),Ce=(0,x.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)({root:{margin:4},table:{"& .MuiTableCell-root":{fontSize:13}}},m.oO),m.AK))}))((function(e){var n=e.classes,t=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.nodes})),i=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.resourcesMemoryRequest})),a=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.ecParity})),s=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.distribution})),o=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.ecParityCalc})),c=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.resourcesCPURequest})),d=(0,l.v9)((function(e){return e.createTenant.fields.tenantSize.integrationSelection})),u=o.storageFactors.find((function(e){return e.erasureCode===a}));return(0,A.jsxs)("div",{className:n.root,children:[(0,A.jsx)("h4",{children:"Resource Allocation"}),(0,A.jsx)(y.Z,{}),(0,A.jsx)(ge.Z,{className:n.table,"aria-label":"simple table",size:"small",children:(0,A.jsxs)(ye.Z,{children:[(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"Number of Servers"}),(0,A.jsx)(je.Z,{align:"right",children:parseInt(t)>0?t:"-"})]}),""===d.typeSelection&&""===d.storageClass&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"Drives per Server"}),(0,A.jsx)(je.Z,{align:"right",children:s?s.disks:"-"})]}),(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"Drive Capacity"}),(0,A.jsx)(je.Z,{align:"right",children:s?(0,be.ae)(s.pvSize):"-"})]})]}),(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"Total Volumes"}),(0,A.jsx)(je.Z,{align:"right",children:s?s.persistentVolumes:"-"})]}),""===d.typeSelection&&""===d.storageClass&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"Memory per Node"}),(0,A.jsxs)(je.Z,{align:"right",children:[i," Gi"]})]}),(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{style:{borderBottom:0},scope:"row",children:"CPU Selection"}),(0,A.jsx)(je.Z,{style:{borderBottom:0},align:"right",children:c})]})]})]})}),0===o.error&&u&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)("h4",{children:"Erasure Code Configuration"}),(0,A.jsx)(y.Z,{}),(0,A.jsx)(ge.Z,{className:n.table,"aria-label":"simple table",size:"small",children:(0,A.jsxs)(ye.Z,{children:[(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"EC Parity"}),(0,A.jsx)(je.Z,{align:"right",children:""!==a?a:"-"})]}),(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"Raw Capacity"}),(0,A.jsx)(je.Z,{align:"right",children:(0,be.ae)(o.rawCapacity)})]}),(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"Usable Capacity"}),(0,A.jsx)(je.Z,{align:"right",children:(0,be.ae)(u.maxCapacity)})]}),(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{style:{borderBottom:0},scope:"row",children:"Server Failures Tolerated"}),(0,A.jsx)(je.Z,{style:{borderBottom:0},align:"right",children:s?Math.floor(u.maxFailureTolerations/s.disks):"-"})]})]})})]}),""!==d.typeSelection&&""!==d.storageClass&&(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)("h4",{children:"Single Instance Configuration"}),(0,A.jsx)(y.Z,{}),(0,A.jsx)(ge.Z,{className:n.table,"aria-label":"simple table",size:"small",children:(0,A.jsxs)(ye.Z,{children:[(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"CPU"}),(0,A.jsx)(je.Z,{align:"right",children:0!==d.CPU?d.CPU:"-"})]}),(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"Memory"}),(0,A.jsx)(je.Z,{align:"right",children:0!==d.memory?"".concat(d.memory," Gi"):"-"})]}),(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{scope:"row",children:"Drives per Server"}),(0,A.jsx)(je.Z,{align:"right",children:0!==d.drivesPerServer?"".concat(d.drivesPerServer):"-"})]}),(0,A.jsxs)(Ze.Z,{children:[(0,A.jsx)(je.Z,{style:{borderBottom:0},scope:"row",children:"Drive Size"}),(0,A.jsxs)(je.Z,{style:{borderBottom:0},align:"right",children:[d.driveSize.driveSize,d.driveSize.sizeUnit]})]})]})})]})]})})),Ne=t(19720),Se=t(45884),_e=t(46078),Te=t(51691),ke=t(40306),Ae=t(98222),we=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}},m.oO),m.Qw))})),Pe=function(){var e=(0,p.TL)(),n=we(),t=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.namespace})),i=(0,l.v9)((function(e){return e.createTenant.addNSLoading})),a=(0,l.v9)((function(e){return e.createTenant.addNSOpen}));return(0,A.jsx)(ke.Z,{title:"New namespace",confirmText:"Create",confirmButtonProps:{variant:"callAction"},isOpen:a,titleIcon:(0,A.jsx)(S.EjK,{}),isLoading:i,onConfirm:function(){e((0,Ae.QD)())},onClose:function(){e((0,_.pb)())},confirmationContent:(0,A.jsxs)(r.Fragment,{children:[i&&(0,A.jsx)(d.Z,{}),(0,A.jsxs)(Te.Z,{children:["Are you sure you want to add a namespace called",(0,A.jsx)("br",{}),(0,A.jsx)("b",{className:n.wrapText,children:t}),"?"]})]})})},Ie=t(48573),Re=t.n(Ie),De=function(e){e.formToRender;var n=(0,p.TL)(),t=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.namespace})),i=(0,l.v9)((function(e){return e.createTenant.showNSCreateButton})),a=(0,l.v9)((function(e){return e.createTenant.validationErrors.namespace})),s=(0,l.v9)((function(e){return e.createTenant.addNSOpen})),o=(0,r.useMemo)((function(){return Re()((function(){n((0,Ae.IO)())}),500)}),[n]);(0,r.useEffect)((function(){if(""!==t)return o(),o.cancel}),[o,t]);return(0,A.jsxs)(r.Fragment,{children:[s&&(0,A.jsx)(Pe,{}),(0,A.jsx)(C.Z,{id:"namespace",name:"namespace",onChange:function(e){n((0,_.Zx)(e.target.value))},label:"Namespace",value:t,error:a||"",overlayId:"add-namespace",overlayIcon:i?(0,A.jsx)(S.dtP,{}):null,overlayAction:function(){n((0,_.Oj)())},required:!0})]})},Fe=function(){var e=(0,p.TL)(),n=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.tenantName})),t=(0,l.v9)((function(e){return e.createTenant.validationErrors["tenant-name"]}));return(0,A.jsx)(C.Z,{id:"tenant-name",name:"tenant-name",onChange:function(n){e((0,_.V7)(n.target.value))},label:"Name",value:n,required:!0,error:t||""})},Ke=(0,x.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)({sizePreview:{marginLeft:10,background:"#FFFFFF",border:"1px solid #EAEAEA",padding:2,marginTop:20}},m.DF),m.oO),m.AK))}))((function(e){var n=e.classes,t=e.formToRender,i=(0,p.TL)(),a=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.selectedStorageClass})),s=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.selectedStorageType})),d=(0,l.v9)((function(e){return e.createTenant.storageClasses})),u=(0,l.v9)(_e.$4),m=(0,r.useCallback)((function(e,n){i((0,_.HM)({pageName:"nameTenant",field:e,value:n}))}),[i]);return(0,r.useEffect)((function(){var e=t===Se.cy.default&&d.length>0||t!==Se.cy.default&&""!==s;i((0,_.NO)({pageName:"nameTenant",valid:e}))}),[d,i,s,t]),(0,A.jsx)(r.Fragment,{children:(0,A.jsxs)(c.ZP,{container:!0,children:[(0,A.jsx)(c.ZP,{item:!0,sx:{width:"calc(100% - 320px)"},children:(0,A.jsx)(v.Z,{className:n.paperWrapper,sx:{minHeight:550},children:(0,A.jsxs)(c.ZP,{container:!0,children:[(0,A.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,A.jsxs)("div",{className:n.headerElement,children:[(0,A.jsx)(k.Z,{children:"Name"}),(0,A.jsx)("span",{className:n.descriptionText,children:"How would you like to name this new tenant?"})]}),(0,A.jsx)("div",{className:n.formFieldRow,children:(0,A.jsx)(Fe,{})})]}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(De,{formToRender:t})}),t===Se.cy.default?(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(T.Z,{id:"storage_class",name:"storage_class",onChange:function(e){m("selectedStorageClass",e.target.value)},label:"Storage Class",value:a,options:d,disabled:d.length<1})}):(0,A.jsx)(c.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,A.jsx)(T.Z,{id:"storage_type",name:"storage_type",onChange:function(e){i((0,_.Qy)({storageType:e.target.value,features:u}))},label:o()(Se.Hd,"".concat(t,".variantSelectorLabel"),"Storage Type"),value:s,options:o()(Se.Hd,"".concat(t,".variantSelectorValues"),[])})}),t===Se.cy.default?(0,A.jsx)(Ne.Z,{}):o()(Se.Hd,"".concat(t,".sizingComponent"),null)]})})}),(0,A.jsx)(c.ZP,{item:!0,children:(0,A.jsx)("div",{className:n.sizePreview,children:(0,A.jsx)(Ce,{})})})]})})})),Ee=function(){var e=(0,l.v9)(_e.$4),n=(0,r.useState)(null),t=(0,i.Z)(n,2),a=t[0],s=t[1];return(0,r.useEffect)((function(){var n=Se.cy.default;e&&0!==e.length&&Object.keys(Se.I8).forEach((function(t){e.includes(t)&&(n=o()(Se.I8,t,Se.cy.default))}));s(n)}),[e]),null===a?null:(0,A.jsx)(Ke,{formToRender:a})},Le=["nameTenant","tenantSize","configure","affinity","identityProvider","security","encryption"],ze=t(84218),Oe=function(){var e=(0,p.TL)(),n=(0,l.v9)((function(e){return e.createTenant.addingTenant})),t=(0,l.v9)((function(e){return e.createTenant.validPages})),i=(0,l.v9)((function(e){return e.createTenant.fields.nameTenant.selectedStorageClass})),a=!n&&""!==i&&Le.every((function(e){return t.includes(e)}));return(0,A.jsx)(S.zxk,{id:"wizard-button-Create",variant:"callAction",color:"primary",onClick:function(){e((0,ze.e)())},disabled:!a,label:"Create"},"button-AddTenant-Create")},Me=t(37798),Ge=t(57689),Be=function(){var e=(0,p.TL)(),n=(0,Ge.s0)(),t=(0,l.v9)((function(e){return e.createTenant.showNewCredentials})),i=(0,l.v9)((function(e){return e.createTenant.createdAccount}));return(0,A.jsx)(r.Fragment,{children:t&&(0,A.jsx)(Me.default,{newServiceAccount:i,open:t,closeModal:function(){e((0,_.dS)()),n("/tenants")},entity:"Tenant"})})},qe=t(47974),Ue=(0,D.Z)((function(e){return(0,u.Z)((0,a.Z)((0,a.Z)((0,a.Z)({pageBox:{border:"1px solid #EAEAEA"}},m.oO),m.AK),m.Je))})),Ve=function(){var e=(0,p.TL)(),n=(0,Ge.s0)(),t=Ue(),a=(0,l.v9)(_e.$4),s=(0,l.v9)((function(e){return e.createTenant.addingTenant})),u=(0,r.useState)(null),m=(0,i.Z)(u,2),h=m[0],x=m[1];(0,r.useEffect)((function(){var e=Se.cy.default;a&&0!==a.length&&Object.keys(Se.I8).forEach((function(n){a.includes(n)&&(e=o()(Se.I8,n,Se.cy.default))}));x(e)}),[a]);var v={label:"Cancel",type:"other",enabled:!0,action:function(){e((0,_.dS)()),n("/tenants")}},g={componentRender:(0,A.jsx)(Oe,{},"create-tenant")},y=[{label:"Setup",componentRender:(0,A.jsx)(Ee,{}),buttons:[v,g]},{label:"Configure",advancedOnly:!0,componentRender:(0,A.jsx)(w,{}),buttons:[v,g]},{label:"Images",advancedOnly:!0,componentRender:(0,A.jsx)(xe,{}),buttons:[v,g]},{label:"Pod Placement",advancedOnly:!0,componentRender:(0,A.jsx)(he,{}),buttons:[v,g]},{label:"Identity Provider",advancedOnly:!0,componentRender:(0,A.jsx)(U,{}),buttons:[v,g]},{label:"Security",advancedOnly:!0,componentRender:(0,A.jsx)(W,{}),buttons:[v,g]},{label:"Encryption",advancedOnly:!0,componentRender:(0,A.jsx)(de,{}),buttons:[v,g]}];return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(Be,{}),(0,A.jsx)(qe.Z,{label:(0,A.jsx)(S.hbI,{onClick:function(){e((0,_.dS)()),n("/tenants")},label:"Tenants"})}),(0,A.jsxs)(ve.Z,{children:[s&&(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(d.Z,{})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,className:t.pageBox,children:(0,A.jsx)(f.Z,{wizardSteps:y})}),h===Se.cy.aws&&(0,A.jsx)(c.ZP,{item:!0,xs:12,style:{marginTop:16},children:(0,A.jsx)(S.KfX,{title:"EBS Volume Configuration.",iconComponent:(0,A.jsx)(S.idV,{}),help:(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)("b",{children:"Performance Optimized"}),": Uses the ",(0,A.jsx)("i",{children:"gp3"})," EBS storage class class configured at 1,000Mi/s throughput and 16,000 IOPS, however the minimum volume size for this type of EBS volume is ",(0,A.jsx)("b",{children:"32Gi"}),".",(0,A.jsx)("br",{}),(0,A.jsx)("br",{}),(0,A.jsx)("b",{children:"Storage Optimized"}),": Uses the ",(0,A.jsx)("i",{children:"sc1"})," EBS storage class, however the minimum volume size for this type of EBS volume is \xa0",(0,A.jsx)("b",{children:"16Ti"})," to unlock their maximum throughput speed of 250Mi/s."]})})})]})]})}},88070:function(e,n,t){t(72791);var i=t(78687),a=t(64554),r=t(75952),s=t(57689),o=t(80184),l=function(e){var n=e.icon,t=e.description;return(0,o.jsxs)(a.Z,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[n," ",(0,o.jsx)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:t})]})};n.Z=function(){var e=(0,s.UO)(),n=e.tenantName||"",t=e.tenantNamespace||"",c=(0,i.v9)((function(e){return""!==t?t:""!==e.createTenant.fields.nameTenant.namespace?e.createTenant.fields.nameTenant.namespace:"<namespace>"})),d=(0,i.v9)((function(e){return""!==n?n:""!==e.createTenant.fields.nameTenant.tenantName?e.createTenant.fields.nameTenant.tenantName:"<tenant-name>"}));return(0,o.jsx)(a.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px",marginTop:{xs:"0px"}},children:(0,o.jsxs)(a.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,o.jsx)(l,{icon:(0,o.jsx)(r.Baz,{}),description:"TLS Certificates Warning"}),(0,o.jsxs)(a.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:["Automatic certificate generation is not enabled.",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),"If you wish to continue only with ",(0,o.jsx)("b",{children:"custom certificates"})," make sure they are valid for the following internode hostnames, i.e.:",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsxs)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:["minio.",c,(0,o.jsx)("br",{}),"minio.",c,".svc",(0,o.jsx)("br",{}),"minio.",c,".svc.<cluster domain>",(0,o.jsx)("br",{}),"*.",d,"-hl.",c,".svc.<cluster domain>",(0,o.jsx)("br",{}),"*.",c,".svc.<cluster domain>"]}),(0,o.jsx)("br",{}),"Replace ",(0,o.jsx)("em",{children:"<tenant-name>"}),","," ",(0,o.jsx)("em",{children:"<namespace>"})," and",(0,o.jsx)("em",{children:"<cluster domain>"})," with the actual values for your MinIO tenant.",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),"You can learn more at our"," ",(0,o.jsx)("a",{href:"https://min.io/docs/minio/kubernetes/upstream/operations/network-encryption.html?ref=op#id5",target:"_blank",rel:"noopener",children:"documentation"}),"."]})]})})}},68456:function(e,n,t){t.d(n,{QT:function(){return o},YH:function(){return l},mo:function(){return s}});var i=t(61889),a=t(75952),r=t(80184),s=function(){return(0,r.jsxs)(i.ZP,{container:!0,columnGap:1,children:[(0,r.jsx)(i.ZP,{children:(0,r.jsx)(a.gyG,{width:"16px",height:"16px"})}),(0,r.jsx)(i.ZP,{item:!0,children:"Open ID"})]})},o=function(){return(0,r.jsxs)(i.ZP,{container:!0,columnGap:1,children:[(0,r.jsx)(i.ZP,{children:(0,r.jsx)(a.vcZ,{width:"16px",height:"16px"})}),(0,r.jsx)(i.ZP,{item:!0,children:"LDAP / Active Directory"})]})},l=function(){return(0,r.jsxs)(i.ZP,{container:!0,columnGap:1,children:[(0,r.jsx)(i.ZP,{children:(0,r.jsx)(a.oyc,{width:"16px",height:"16px"})}),(0,r.jsx)(i.ZP,{item:!0,children:"Built-in"})]})}},22512:function(e,n,t){var i=t(72791),a=t(20890),r=t(11135),s=t(25787),o=t(80184);n.Z=(0,s.Z)((function(e){var n;return(0,r.Z)({errorBlock:{color:(null===(n=e.palette)||void 0===n?void 0:n.error.main)||"#C83B51"}})}))((function(e){var n=e.classes,t=e.errorMessage,r=e.withBreak,s=void 0===r||r;return(0,o.jsxs)(i.Fragment,{children:[s&&(0,o.jsx)("br",{}),(0,o.jsx)(a.Z,{component:"p",variant:"body1",className:n.errorBlock,children:t})]})}))},42419:function(e,n,t){var i=t(64836);n.Z=void 0;var a=i(t(45649)),r=t(80184),s=(0,a.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.Z=s},99663:function(e,n,t){var i=t(64836);n.Z=void 0;var a=i(t(45649)),r=t(80184),s=(0,a.default)((0,r.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");n.Z=s},86711:function(e,n,t){var i=t(64836);n.Z=void 0;var a=i(t(45649)),r=t(80184),s=(0,a.default)((0,r.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");n.Z=s},22918:function(e,n,t){var i=t(64836);n.Z=void 0;var a=i(t(45649)),r=t(80184),s=(0,a.default)((0,r.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18zm0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9zm4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9z"}),"Casino");n.Z=s},27247:function(e,n,t){var i=t(64836);n.Z=void 0;var a=i(t(45649)),r=t(80184),s=(0,a.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=s},94721:function(e,n,t){var i=t(63366),a=t(87462),r=t(72791),s=t(28182),o=t(94419),l=t(12065),c=t(66934),d=t(31402),u=t(90133),m=t(80184),f=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],p=(0,c.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.absolute&&n.absolute,n[t.variant],t.light&&n.light,"vertical"===t.orientation&&n.vertical,t.flexItem&&n.flexItem,t.children&&n.withChildren,t.children&&"vertical"===t.orientation&&n.withChildrenVertical,"right"===t.textAlign&&"vertical"!==t.orientation&&n.textAlignRight,"left"===t.textAlign&&"vertical"!==t.orientation&&n.textAlignLeft]}})((function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:n.vars?"rgba(".concat(n.vars.palette.dividerChannel," / 0.08)"):(0,l.Fq)(n.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:n.spacing(2),marginRight:n.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:n.spacing(1),marginBottom:n.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var n=e.ownerState;return(0,a.Z)({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({},t.children&&"vertical"!==t.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((n.vars||n).palette.divider)}})}),(function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((n.vars||n).palette.divider)}})}),(function(e){var n=e.ownerState;return(0,a.Z)({},"right"===n.textAlign&&"vertical"!==n.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===n.textAlign&&"vertical"!==n.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),h=(0,c.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,n){var t=e.ownerState;return[n.wrapper,"vertical"===t.orientation&&n.wrapperVertical]}})((function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({display:"inline-block",paddingLeft:"calc(".concat(n.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(n.spacing(1)," * 1.2)")},"vertical"===t.orientation&&{paddingTop:"calc(".concat(n.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(n.spacing(1)," * 1.2)")})})),x=r.forwardRef((function(e,n){var t=(0,d.Z)({props:e,name:"MuiDivider"}),r=t.absolute,l=void 0!==r&&r,c=t.children,x=t.className,v=t.component,g=void 0===v?c?"div":"hr":v,y=t.flexItem,j=void 0!==y&&y,Z=t.light,b=void 0!==Z&&Z,C=t.orientation,N=void 0===C?"horizontal":C,S=t.role,_=void 0===S?"hr"!==g?"separator":void 0:S,T=t.textAlign,k=void 0===T?"center":T,A=t.variant,w=void 0===A?"fullWidth":A,P=(0,i.Z)(t,f),I=(0,a.Z)({},t,{absolute:l,component:g,flexItem:j,light:b,orientation:N,role:_,textAlign:k,variant:w}),R=function(e){var n=e.absolute,t=e.children,i=e.classes,a=e.flexItem,r=e.light,s=e.orientation,l=e.textAlign,c={root:["root",n&&"absolute",e.variant,r&&"light","vertical"===s&&"vertical",a&&"flexItem",t&&"withChildren",t&&"vertical"===s&&"withChildrenVertical","right"===l&&"vertical"!==s&&"textAlignRight","left"===l&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]};return(0,o.Z)(c,u.V,i)}(I);return(0,m.jsx)(p,(0,a.Z)({as:g,className:(0,s.Z)(R.root,x),role:_,ref:n,ownerState:I},P,{children:c?(0,m.jsx)(h,{className:R.wrapper,ownerState:I,children:c}):null}))}));n.Z=x},63466:function(e,n,t){t.d(n,{Z:function(){return C}});var i=t(4942),a=t(63366),r=t(87462),s=t(72791),o=t(28182),l=t(94419),c=t(14036),d=t(20890),u=t(93840),m=t(52930),f=t(66934),p=t(75878),h=t(21217);function x(e){return(0,h.Z)("MuiInputAdornment",e)}var v,g=(0,p.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),y=t(31402),j=t(80184),Z=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,f.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["position".concat((0,c.Z)(t.position))],!0===t.disablePointerEvents&&n.disablePointerEvents,n[t.variant]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,r.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===t.variant&&(0,i.Z)({},"&.".concat(g.positionStart,"&:not(.").concat(g.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),C=s.forwardRef((function(e,n){var t=(0,y.Z)({props:e,name:"MuiInputAdornment"}),i=t.children,f=t.className,p=t.component,h=void 0===p?"div":p,g=t.disablePointerEvents,C=void 0!==g&&g,N=t.disableTypography,S=void 0!==N&&N,_=t.position,T=t.variant,k=(0,a.Z)(t,Z),A=(0,m.Z)()||{},w=T;T&&A.variant,A&&!w&&(w=A.variant);var P=(0,r.Z)({},t,{hiddenLabel:A.hiddenLabel,size:A.size,disablePointerEvents:C,position:_,variant:w}),I=function(e){var n=e.classes,t=e.disablePointerEvents,i=e.hiddenLabel,a=e.position,r=e.size,s=e.variant,o={root:["root",t&&"disablePointerEvents",a&&"position".concat((0,c.Z)(a)),s,i&&"hiddenLabel",r&&"size".concat((0,c.Z)(r))]};return(0,l.Z)(o,x,n)}(P);return(0,j.jsx)(u.Z.Provider,{value:null,children:(0,j.jsx)(b,(0,r.Z)({as:h,ownerState:P,className:(0,o.Z)(I.root,f),ref:n},k,{children:"string"!==typeof i||S?(0,j.jsxs)(s.Fragment,{children:["start"===_?v||(v=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,i]}):(0,j.jsx)(d.Z,{color:"text.secondary",children:i})}))})}))}}]);
//# sourceMappingURL=292.b4d66538.chunk.js.map
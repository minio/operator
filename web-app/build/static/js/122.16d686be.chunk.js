"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[122],{8122:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n=a(5043),s=a(9456),i=a(3216),l=a(9923),r=a(649),c=a(4159),m=a(2961),d=a(8296),x=a(579);const o=()=>{const e=(0,m.jL)(),t=(0,i.Zp)(),a=(0,s.d4)((e=>e.tenants.currentTenant)),o=(0,s.d4)((e=>e.tenants.currentNamespace)),[u,p]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),[j,y]=(0,n.useState)(""),[v,b]=(0,n.useState)("");(0,n.useEffect)((()=>{o&&a&&r.A.invoke("GET",`/api/v1/namespaces/${o}/tenants/${a}/yaml`).then((e=>{f(!1),y(e.yaml)})).catch((t=>{f(!1),e((0,c.Dy)(t))}))}),[a,o,e]),(0,n.useEffect)((()=>{}),[]);const $=""!==j.trim();return(0,x.jsxs)(n.Fragment,{children:[u||h&&(0,x.jsx)(l.xA9,{item:!0,xs:12,children:(0,x.jsx)(l.z21,{})}),!h&&(0,x.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:n=>{n.preventDefault(),n.preventDefault(),u||(p(!0),b(""),r.A.invoke("PUT",`/api/v1/namespaces/${o}/tenants/${a}/yaml`,{yaml:j}).then((()=>{p(!1),e((0,d.X)()),b(""),t(`/namespaces/${o}/tenants/${a}/summary`)})).catch((e=>{p(!1);const t=(null===e||void 0===e?void 0:e.message)||e.errorMessage;b(t)})))},children:(0,x.jsxs)(l.xA9,{container:!0,children:[(0,x.jsx)(l.xA9,{item:!0,xs:12,children:(0,x.jsx)(l._xt,{children:"Tenant Specification"})}),v?(0,x.jsx)(l.xA9,{item:!0,xs:12,children:(0,x.jsx)(l.Wei,{title:"Error",message:v,variant:"error"})}):null,(0,x.jsx)(l.xA9,{item:!0,xs:12,children:(0,x.jsx)(l.BYM,{value:j,mode:"yaml",onChange:e=>{y(e)},editorHeight:"550px"})}),(0,x.jsxs)(l.xA9,{item:!0,xs:12,style:{display:"flex",justifyContent:"flex-end",paddingTop:16},children:[(0,x.jsx)(l.$nd,{id:"cancel-tenant-yaml",type:"button",variant:"regular",disabled:u,onClick:()=>{t(`/namespaces/${o}/tenants/${a}/summary`)},label:"Cancel"}),(0,x.jsx)(l.$nd,{id:"save-tenant-yaml",type:"submit",variant:"callAction",disabled:u||!$,style:{marginLeft:8},label:"Save"})]})]})})]})}}}]);
//# sourceMappingURL=122.16d686be.chunk.js.map
"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[822],{3814:(e,n,s)=>{s.d(n,{I:()=>t,O:()=>l});const l={label:{color:"#07193E",fontSize:13,alignSelf:"center",whiteSpace:"nowrap","&:not(:first-of-type)":{marginLeft:10}},actionsTray:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",alignItems:"center","& button":{flexGrow:0,marginLeft:8}}},t={modalButtonBar:{marginTop:15,display:"flex",alignItems:"center",justifyContent:"flex-end","& button":{marginRight:10},"& button:last-child":{marginRight:0}},modalFormScrollable:{maxHeight:"calc(100vh - 300px)",overflowY:"auto",paddingTop:10}}},9114:(e,n,s)=>{s.d(n,{Z:()=>o});s(2791);var l=s(9945),t=s(184);const o=e=>{let{placeholder:n="",onChange:s,overrideClass:o,value:r,id:a="search-resource",label:i="",sx:u}=e;return(0,t.jsx)(l.Wzg,{placeholder:n,className:o||"",id:a,label:i,onChange:e=>{s(e.target.value)},value:r,startIcon:(0,t.jsx)(l.W1M,{}),sx:u})}},8822:(e,n,s)=>{s.r(n),s.d(n,{default:()=>j});var l=s(2791),t=s(9945),o=s(9434),r=s(7689),a=s(1320),i=s(7238),u=s(3814),d=s(5248),c=s(7454),x=s(9114),m=s(184);const v=e=>{let{setPoolDetailsView:n}=e;const s=(0,a.TL)(),v=(0,r.s0)(),p=(0,o.v9)((e=>e.tenants.loadingTenant)),f=(0,o.v9)((e=>e.tenants.tenantInfo)),[j,g]=(0,l.useState)([]),[h,y]=(0,l.useState)("");(0,l.useEffect)((()=>{if(f){const e=f.pools?f.pools:[];g(e)}}),[f]);const A=j.filter((e=>{var n;return!(null===(n=e.name)||void 0===n||!n.toLowerCase().includes(h.toLowerCase()))})),C=[{type:"view",onClick:e=>{s((0,i.Lm)(e.name)),n()}}];return(0,m.jsxs)(l.Fragment,{children:[(0,m.jsxs)(t.rjZ,{item:!0,xs:12,sx:u.O.actionsTray,children:[(0,m.jsx)(x.Z,{value:h,onChange:e=>{y(e)},placeholder:"Filter",id:"search-resource"}),(0,m.jsx)(c.Z,{tooltip:"Expand Tenant",children:(0,m.jsx)(t.zxk,{id:"expand-tenant",label:"Expand Tenant",onClick:()=>{v("/namespaces/".concat((null===f||void 0===f?void 0:f.namespace)||"","/tenants/").concat((null===f||void 0===f?void 0:f.name)||"","/add-pool"))},icon:(0,m.jsx)(t.dtP,{}),variant:"callAction"})})]}),(0,m.jsx)(t.rjZ,{item:!0,xs:12,children:(0,m.jsx)(t.wQF,{itemActions:C,columns:[{label:"Name",elementKey:"name"},{label:"Total Capacity",elementKey:"capacity",renderFullObject:!0,renderFunction:e=>(0,d.l5)(e.volumes_per_server*e.servers*e.volume_configuration.size)},{label:"Servers",elementKey:"servers"},{label:"Volumes/Server",elementKey:"volumes_per_server"}],isLoading:p,records:A,entityName:"Servers",idField:"name",customEmptyMessage:"No Pools found",customPaperHeight:"calc(100vh - 400px)"})})]})},p={display:"grid",gridTemplateColumns:"2fr 1fr",gridAutoFlow:"row",gap:2,padding:"15px",["@media (max-width: ".concat(t.Egj.sm,"px)")]:{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}},f=()=>{var e,n,s,a,i,u,c,x,v,f,j;const g=(0,r.s0)(),h=(0,o.v9)((e=>e.tenants.tenantInfo)),y=(0,o.v9)((e=>e.tenants.selectedPool));if(null===h)return(0,m.jsx)(l.Fragment,{});const A=(null===(e=h.pools)||void 0===e?void 0:e.find((e=>e.name===y)))||null;if(null===A)return null;let C="None";return A.affinity&&(C=A.affinity.nodeAffinity?"Node Selector":"Default (Pod Anti-Affinity)"),(0,m.jsx)(l.Fragment,{children:(0,m.jsxs)(t.xuv,{withBorders:!0,customBorderPadding:"0px",sx:{width:"100%"},children:[(0,m.jsx)(t.NZf,{separator:!0,actions:(0,m.jsx)(t.zxk,{icon:(0,m.jsx)(t.Jpd,{}),onClick:()=>{g("/namespaces/".concat((null===h||void 0===h?void 0:h.namespace)||"","/tenants/").concat((null===h||void 0===h?void 0:h.name)||"","/edit-pool"))},label:"Edit Pool",id:"editPool"}),children:"Pool Configuration"}),(0,m.jsxs)(t.xuv,{sx:{...p},children:[(0,m.jsx)(t.kKA,{label:"Pool Name",value:A.name}),(0,m.jsx)(t.kKA,{label:"Total Volumes",value:A.volumes_per_server}),(0,m.jsx)(t.kKA,{label:"Volumes per server",value:A.volumes_per_server}),(0,m.jsx)(t.kKA,{label:"Capacity",value:(0,d.l5)(A.volumes_per_server*A.servers*A.volume_configuration.size)}),(0,m.jsx)(t.kKA,{label:"Runtime Class Name",value:A.runtimeClassName})]}),(0,m.jsx)(t.NZf,{separator:!0,children:"Resources"}),(0,m.jsxs)(t.xuv,{sx:{...p},children:[A.resources&&(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(t.kKA,{label:"CPU",value:null===(n=A.resources)||void 0===n||null===(s=n.requests)||void 0===s?void 0:s.cpu}),(0,m.jsx)(t.kKA,{label:"Memory",value:(0,d.l5)(null===(a=A.resources)||void 0===a||null===(i=a.requests)||void 0===i?void 0:i.memory)})]}),(0,m.jsx)(t.kKA,{label:"Volume Size",value:(0,d.l5)(A.volume_configuration.size)}),(0,m.jsx)(t.kKA,{label:"Storage Class Name",value:A.volume_configuration.storage_class_name})]}),A.securityContext&&(A.securityContext.runAsNonRoot||A.securityContext.runAsUser||A.securityContext.runAsGroup||A.securityContext.fsGroup)&&(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(t.NZf,{separator:!0,children:"Security Context"}),(0,m.jsxs)(t.xuv,{children:[null!==A.securityContext.runAsNonRoot&&(0,m.jsx)(t.xuv,{sx:{...p},children:(0,m.jsx)(t.kKA,{label:"Run as Non Root",value:A.securityContext.runAsNonRoot?"Yes":"No"})}),(0,m.jsxs)(t.xuv,{sx:{display:"grid",gridTemplateColumns:"2fr 1fr",gridAutoFlow:"row",gap:2,padding:"15px",["@media (max-width: ".concat(t.Egj.sm,"px)")]:{gridTemplateColumns:"1fr",gridAutoFlow:"dense"},["@media (max-width: ".concat(t.Egj.md,"px)")]:{gridTemplateColumns:"2fr 1fr"},["@media (max-width: ".concat(t.Egj.lg,"px)")]:{gridTemplateColumns:"1fr 1fr 1fr"}},children:[A.securityContext.runAsUser&&(0,m.jsx)(t.kKA,{label:"Run as User",value:A.securityContext.runAsUser}),A.securityContext.runAsGroup&&(0,m.jsx)(t.kKA,{label:"Run as Group",value:A.securityContext.runAsGroup}),A.securityContext.fsGroup&&(0,m.jsx)(t.kKA,{label:"FsGroup",value:A.securityContext.fsGroup})]})]})]}),(0,m.jsx)(t.NZf,{separator:!0,children:"Affinity"}),(0,m.jsxs)(t.xuv,{children:[(0,m.jsxs)(t.xuv,{sx:{...p},children:[(0,m.jsx)(t.kKA,{label:"Type",value:C}),null!==(u=A.affinity)&&void 0!==u&&u.nodeAffinity&&null!==(c=A.affinity)&&void 0!==c&&c.podAntiAffinity?(0,m.jsx)(t.kKA,{label:"With Pod Anti affinity",value:"Yes"}):(0,m.jsx)("span",{})]}),(null===(x=A.affinity)||void 0===x?void 0:x.nodeAffinity)&&(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(t.NZf,{separator:!0,children:"Labels"}),(0,m.jsx)("ul",{children:null===(v=A.affinity)||void 0===v||null===(f=v.nodeAffinity)||void 0===f||null===(j=f.requiredDuringSchedulingIgnoredDuringExecution)||void 0===j?void 0:j.nodeSelectorTerms.map((e=>{var n;return null===(n=e.matchExpressions)||void 0===n?void 0:n.map((e=>{var n;return(0,m.jsxs)("li",{children:[e.key," - ",null===(n=e.values)||void 0===n?void 0:n.join(", ")]})}))}))})]})]}),A.tolerations&&A.tolerations.length>0&&(0,m.jsxs)(l.Fragment,{children:[(0,m.jsx)(t.NZf,{separator:!0,children:"Tolerations"}),(0,m.jsx)(t.xuv,{children:(0,m.jsx)("ul",{children:A.tolerations.map((e=>{var n,s;return(0,m.jsx)("li",{children:"Equal"===e.operator?(0,m.jsxs)(l.Fragment,{children:["If ",(0,m.jsx)("strong",{children:e.key})," is equal to"," ",(0,m.jsx)("strong",{children:e.value})," then"," ",(0,m.jsx)("strong",{children:e.effect})," after"," ",(0,m.jsx)("strong",{children:(null===(n=e.tolerationSeconds)||void 0===n?void 0:n.seconds)||0})," ","seconds"]}):(0,m.jsxs)(l.Fragment,{children:["If ",(0,m.jsx)("strong",{children:e.key})," exists then"," ",(0,m.jsx)("strong",{children:e.effect})," after"," ",(0,m.jsx)("strong",{children:(null===(s=e.tolerationSeconds)||void 0===s?void 0:s.seconds)||0})," ","seconds"]})})}))})})]})]})})},j=()=>{const e=(0,a.TL)(),n=(0,r.s0)(),{pathname:s=""}=(0,r.TH)(),u=(0,o.v9)((e=>e.tenants.selectedPool)),d=(0,o.v9)((e=>e.tenants.poolDetailsOpen));return(0,m.jsxs)(l.Fragment,{children:[d&&(0,m.jsx)(t.xuv,{children:(0,m.jsx)(t.hbI,{label:"Pools list",onClick:()=>{n(s),e((0,i.AH)(!1))}})}),(0,m.jsx)(t.NZf,{separator:!0,sx:{marginBottom:15},children:d?"Pool Details - ".concat(u||""):"Pools"}),(0,m.jsx)(t.xuv,{children:d?(0,m.jsx)(f,{}):(0,m.jsx)(v,{setPoolDetailsView:()=>{e((0,i.AH)(!0))}})})]})}}}]);
//# sourceMappingURL=822.accdc1fc.chunk.js.map
"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[426],{426:(e,s,n)=>{n.r(s),n.d(s,{default:()=>p});var t=n(2791),r=n(9434),a=n(9945),c=n(7689),o=n(5248),l=n(1320),i=n(7995),d=n(1207),x=n(5450),j=n(184);const p=()=>{const e=(0,l.TL)(),s=(0,c.UO)(),n=(0,r.v9)((e=>e.tenants.loadingTenant)),[p,h]=(0,t.useState)([]),[m,g]=(0,t.useState)(!0),u=s.tenantName||"",v=s.tenantNamespace||"";return(0,t.useEffect)((()=>{n&&g(!0)}),[n]),(0,t.useEffect)((()=>{m&&d.Z.invoke("GET","/api/v1/namespaces/".concat(v,"/tenants/").concat(u,"/events")).then((e=>{for(let s=0;s<e.length;s++){let n=Date.now()/1e3|0;e[s].seen=(0,o.v1)((n-e[s].last_seen).toString())}h(e),g(!1)})).catch((s=>{e((0,i.Ih)(s)),g(!1)}))}),[m,v,u,e]),(0,j.jsxs)(t.Fragment,{children:[(0,j.jsx)(a.NZf,{separator:!0,sx:{marginBottom:15},children:"Events"}),(0,j.jsx)(a.rjZ,{item:!0,xs:12,children:(0,j.jsx)(x.Z,{events:p,loading:m})})]})}},5450:(e,s,n)=>{n.d(s,{Z:()=>o});var t=n(2791),r=n(9945),a=n(184);const c=e=>{const{event:s}=e,[n,c]=t.useState(!1);return(0,a.jsxs)(t.Fragment,{children:[(0,a.jsxs)(r.SCH,{sx:{cursor:"pointer"},children:[(0,a.jsx)(r.bil,{scope:"row",onClick:()=>c(!n),sx:{borderBottom:0},children:s.event_type}),(0,a.jsx)(r.pj1,{onClick:()=>c(!n),sx:{borderBottom:0},children:s.reason}),(0,a.jsx)(r.pj1,{onClick:()=>c(!n),sx:{borderBottom:0},children:s.seen}),(0,a.jsx)(r.pj1,{onClick:()=>c(!n),sx:{borderBottom:0},children:s.message.length>=30?"".concat(s.message.slice(0,30),"..."):s.message}),(0,a.jsx)(r.pj1,{onClick:()=>c(!n),sx:{borderBottom:0},children:n?(0,a.jsx)(r.ZyT,{}):(0,a.jsx)(r.ASC,{})})]}),(0,a.jsx)(r.SCH,{children:(0,a.jsx)(r.pj1,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:n&&(0,a.jsx)(r.xuv,{useBackground:!0,sx:{padding:10,marginBottom:10},children:s.message})})})]})},o=e=>{let{events:s,loading:n}=e;return n?(0,a.jsx)(r.kod,{}):(0,a.jsx)(r.xuv,{withBorders:!0,customBorderPadding:"0px",children:(0,a.jsxs)(r.iA_,{"aria-label":"collapsible table",children:[(0,a.jsx)(r.ssF,{children:(0,a.jsxs)(r.SCH,{children:[(0,a.jsx)(r.pj1,{children:"Type"}),(0,a.jsx)(r.pj1,{children:"Reason"}),(0,a.jsx)(r.pj1,{children:"Age"}),(0,a.jsx)(r.pj1,{children:"Message"}),(0,a.jsx)(r.pj1,{})]})}),(0,a.jsx)(r.RMI,{children:s.map((e=>(0,a.jsx)(c,{event:e},"".concat(e.event_type,"-").concat(e.seen))))})]})})}}}]);
//# sourceMappingURL=426.32092f8a.chunk.js.map
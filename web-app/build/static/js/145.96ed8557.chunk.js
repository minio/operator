"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[145],{9145:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var i=t(2791),s=t(9945),o=t(9434),a=t(1320),c=t(6444),l=t(9779),r=t(1087),x=t(6181),d=t.n(x),m=t(5248),u=t(7454),f=t(184);const h=c.ZP.div((e=>{let{theme:n}=e;return{"& .licenseInfoValue":{textTransform:"none",fontSize:14,fontWeight:"bold"},"&.licenseContainer":{position:"relative",padding:"20px 52px 0px 28px",background:d()(n,"signalColors.info","#2781B0"),boxShadow:"0px 3px 7px #00000014","& h2":{color:d()(n,"bgColor","#fff"),marginBottom:67},"& a":{textDecoration:"none"},"& h3":{color:d()(n,"bgColor","#fff"),marginBottom:"30px",fontWeight:"bold"},"& h6":{color:"#FFFFFF !important"}},"& .licenseInfo":{color:d()(n,"bgColor","#fff"),position:"relative"},"& .licenseInfoTitle":{textTransform:"none",color:d()(n,"mutedText","#87888d"),fontSize:11},"& .verifiedIcon":{width:96,position:"absolute",right:0,bottom:29},"& .noUnderLine":{textDecoration:"none"}}})),v=e=>{var n,t;let{tenant:o,loadingActivateProduct:a,loadingLicenseInfo:c,licenseInfo:x,activateProduct:d}=e;const v=null!==o&&void 0!==o&&o.subnet_license?l.ou.fromISO(null===(n=o.subnet_license)||void 0===n?void 0:n.expires_at):l.ou.now();return(0,f.jsx)(h,{className:o&&o.subnet_license?"licenseContainer":"",children:o&&o.subnet_license?(0,f.jsx)(i.Fragment,{children:(0,f.jsxs)(s.rjZ,{container:!0,className:"licenseInfo",children:[(0,f.jsxs)(s.rjZ,{item:!0,xs:6,children:[(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"License"}),(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoValue",children:"Commercial License"}),(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"Organization"}),(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoValue",children:o.subnet_license.organization}),(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"Registered Capacity"}),(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoValue",children:(0,m.ae)((1099511627776*((null===(t=o.subnet_license)||void 0===t?void 0:t.storage_capacity)||0)).toString(10))}),(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"Expiry Date"}),(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoValue",children:v.toFormat("yyyy-MM-dd")})]}),(0,f.jsxs)(s.rjZ,{item:!0,xs:6,children:[(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"Subscription Plan"}),(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoValue",children:o.subnet_license.plan}),(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoTitle",children:"Requestor"}),(0,f.jsx)(s.xuv,{sx:{marginBottom:12},className:"licenseInfoValue",children:o.subnet_license.email})]}),(0,f.jsx)("img",{className:"verifiedIcon",src:"/verified.svg",alt:"verified"})]})}):!c&&(0,f.jsxs)(s.xuv,{withBorders:!0,sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[!x&&(0,f.jsx)(r.rU,{to:"/license",onClick:e=>{e.stopPropagation()},className:"noUnderLine",children:(0,f.jsx)(u.Z,{tooltip:"Activate Product",children:(0,f.jsx)(s.zxk,{id:"activate-product",label:"Activate Product",onClick:()=>!1,variant:"callAction"})})}),x&&o&&(0,f.jsx)(u.Z,{tooltip:"Attach License",children:(0,f.jsx)(s.zxk,{id:"attach-license",disabled:a,label:"Attach License",onClick:()=>d(o.namespace,o.name),variant:"callAction"})})]})})};var g=t(1207),p=t(7995),j=t(7238);const b=()=>{const e=(0,a.TL)(),n=(0,o.v9)((e=>e.tenants.loadingTenant)),t=(0,o.v9)((e=>e.tenants.tenantInfo)),[c,l]=(0,i.useState)(),[r,x]=(0,i.useState)(!0),[d,m]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{r&&g.Z.invoke("GET","/api/v1/subscription/info").then((e=>{l(e),x(!1)})).catch((e=>{x(!1)}))}),[r]),(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(s.NZf,{separator:!0,sx:{marginBottom:15},children:"License"}),n?(0,f.jsx)(s.xuv,{sx:{textAlign:"center"},children:(0,f.jsx)(s.aNw,{})}):(0,f.jsx)(i.Fragment,{children:t&&(0,f.jsx)(s.rjZ,{container:!0,children:(0,f.jsx)(s.rjZ,{item:!0,xs:12,children:(0,f.jsx)(v,{tenant:t,loadingLicenseInfo:r,loadingActivateProduct:d,licenseInfo:c,activateProduct:(n,t)=>{d||(m(!0),g.Z.invoke("POST","/api/v1/subscription/namespaces/".concat(n,"/tenants/").concat(t,"/activate"),{}).then((()=>{m(!1),e((0,j.V2)(!0)),x(!0)})).catch((n=>{m(!1),e((0,p.Ih)(n))})))}})})})})]})}}}]);
//# sourceMappingURL=145.96ed8557.chunk.js.map
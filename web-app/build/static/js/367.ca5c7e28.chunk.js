"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[367],{92217:(e,l,i)=>{i.d(l,{Z:()=>h});var n=i(72791),t=i(61889),a=i(30829),o=i(96040),r=i(64554),s=i(11135),d=i(25787),c=i(75952),u=i(23814),v=i(78029),m=i.n(v),p=i(14910),x=i(27454),g=i(80184);const h=(0,d.Z)((e=>(0,s.Z)({...u.YI})))((e=>{let{value:l,label:i="",tooltip:s="",mode:d="json",classes:u,onBeforeChange:v,readOnly:h=!1,editorHeight:y="250px"}=e;return(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(t.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,g.jsxs)(a.Z,{className:u.inputLabel,children:[(0,g.jsx)("span",{children:i}),""!==s&&(0,g.jsx)("div",{className:u.tooltipContainer,children:(0,g.jsx)(o.Z,{title:s,placement:"top-start",children:(0,g.jsx)("div",{className:u.tooltip,children:(0,g.jsx)(c.byK,{})})})})]})}),(0,g.jsx)(t.ZP,{item:!0,xs:12,style:{maxHeight:y,overflow:"auto",border:"1px solid #eaeaea"},children:(0,g.jsx)(p.Z,{value:l,language:d,onChange:e=>{v(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:y||"initial",color:"#000000"}})}),(0,g.jsx)(t.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,g.jsx)(r.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,g.jsx)(x.Z,{tooltip:"Copy to Clipboard",children:(0,g.jsx)(m(),{text:l,children:(0,g.jsx)(c.zxk,{type:"button",id:"copy-code-mirror",icon:(0,g.jsx)(c.TIy,{}),color:"primary",variant:"regular"})})})})})]})}))},54639:(e,l,i)=>{i.d(l,{Z:()=>y});var n=i(72791),t=i(26181),a=i.n(t),o=i(61889),r=i(30829),s=i(96040),d=i(13400),c=i(99663),u=i(86711),v=i(11135),m=i(25787),p=i(23814);var x=i(75952),g=i(22512),h=i(80184);const y=(0,m.Z)((e=>(0,v.Z)({...p.YI,...p.Hr,valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}},...p.bV,inputLabel:{...p.YI.inputLabel,fontWeight:"normal"},textBoxContainer:{...p.YI.textBoxContainer,maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"}})))((e=>{let{label:l,classes:i,onChange:t,id:v,name:m,disabled:p=!1,tooltip:y="",required:_,error:f="",accept:j="",value:k=""}=e;const[Z,b]=(0,n.useState)(!1);return(0,h.jsx)(n.Fragment,{children:(0,h.jsxs)(o.ZP,{item:!0,xs:12,className:"".concat(i.fileInputField," ").concat(i.fieldBottom," ").concat(i.fieldContainer," ").concat(""!==f?i.errorInField:""),children:[""!==l&&(0,h.jsxs)(r.Z,{htmlFor:v,className:"".concat(""!==f?i.fieldLabelError:""," ").concat(i.inputLabel),children:[(0,h.jsxs)("span",{children:[l,_?"*":""]}),""!==y&&(0,h.jsx)("div",{className:i.tooltipContainer,children:(0,h.jsx)(s.Z,{title:y,placement:"top-start",children:(0,h.jsx)("div",{className:i.tooltip,children:(0,h.jsx)(x.byK,{})})})})]}),Z||""===k?(0,h.jsxs)("div",{className:i.textBoxContainer,children:[(0,h.jsx)("input",{type:"file",name:m,onChange:e=>{const l=a()(e,"target.files[0].name","");((e,l)=>{const i=e.target.files[0],n=new FileReader;n.readAsDataURL(i),n.onload=()=>{const e=n.result;if(e){const i=e.toString().split("base64,");2===i.length&&l(i[1])}}})(e,(e=>{t(e,l)}))},accept:j,required:_,disabled:p,className:i.fileInputField}),""!==k&&(0,h.jsx)(d.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>{b(!1)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,h.jsx)(u.Z,{})}),""!==f&&(0,h.jsx)(g.Z,{errorMessage:f})]}):(0,h.jsxs)("div",{className:i.fileReselect,children:[(0,h.jsx)("div",{className:i.valueString,children:k}),(0,h.jsx)(d.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>{b(!0)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,h.jsx)(c.Z,{})})]})]})})}))},13871:(e,l,i)=>{i.d(l,{Z:()=>a});var n,t=i(30168);const a=(0,i(26088).Z)("hr")(n||(n=(0,t.Z)(["\n  border-top: 0;\n  border-left: 0;\n  border-right: 0;\n  border-color: #999999;\n  background-color: transparent;\n"])))},80666:(e,l,i)=>{i.d(l,{Z:()=>j});i(72791);var n=i(99779),t=i(11135),a=i(25787),o=i(90983),r=i(81918),s=i(89164),d=i(61889),c=i(20890),u=i(64554),v=i(94721),m=i(90493),p=i(84852),x=i(20653),g=i(49900),h=i(52502),y=i(69212),_=i(75952),f=i(80184);const j=(0,a.Z)((e=>(0,t.Z)({certificateIcon:{float:"left",paddingTop:"5px !important",paddingRight:"10px !important"},certificateInfo:{float:"right"},certificateWrapper:{height:"auto",margin:5,border:"1px solid #E2E2E2",userSelect:"text",borderRadius:4,"& h6":{fontWeight:"bold"},"& div":{padding:0}},certificateExpiry:{color:"#616161",display:"flex",alignItems:"center",flexWrap:"wrap",marginBottom:5,"& .label":{fontWeight:"bold"}},certificateDomains:{color:"#616161","& .label":{fontWeight:"bold"}},certificatesList:{border:"1px solid #E2E2E2",borderRadius:4,color:"#616161",textTransform:"lowercase",overflowY:"scroll",maxHeight:145,marginBottom:10},certificatesListItem:{padding:"0px 16px",borderBottom:"1px solid #E2E2E2","& div":{minWidth:0},"& svg":{fontSize:12,marginRight:10,opacity:.5},"& span":{fontSize:12}},certificateExpiring:{color:"orange","& .label":{fontWeight:"bold"}},certificateExpired:{color:"red","& .label":{fontWeight:"bold"}}})))((e=>{let{classes:l,certificateInfo:i,onDelete:t=(()=>{})}=e;const a=i.domains||[],j=n.ou.fromISO(i.expiry),k=n.ou.utc();let Z=0,b="",C="";if(j){let e=j.diff(k);Z=e.as("days"),b=e.minus(n.nL.fromObject({days:1})).shiftTo("days").toHuman({listStyle:"long",maximumFractionDigits:0}),Z>=10&&Z<30&&(C=l.certificateExpiring),Z<10&&(C=l.certificateExpired,Z<2&&(b=e.minus(n.nL.fromObject({minutes:1})).shiftTo("hours","minutes").toHuman({listStyle:"long",maximumFractionDigits:0}),e.as("minutes")<=1&&(b="EXPIRED")))}return(0,f.jsx)(r.Z,{variant:"outlined",color:"primary",className:l.certificateWrapper,label:(0,f.jsxs)(s.Z,{children:[(0,f.jsx)(d.ZP,{item:!0,xs:1,className:l.certificateIcon,children:(0,f.jsx)(_.Baz,{})}),(0,f.jsxs)(d.ZP,{item:!0,xs:11,className:l.certificateInfo,children:[(0,f.jsx)(c.Z,{variant:"subtitle1",display:"block",gutterBottom:!0,children:i.name}),(0,f.jsxs)(u.Z,{className:l.certificateExpiry,children:[(0,f.jsx)(h.Z,{color:"inherit",fontSize:"small"}),"\xa0",(0,f.jsx)("span",{className:"label",children:"Expiry:\xa0"}),(0,f.jsx)("span",{children:j.toFormat("yyyy/MM/dd")})]}),(0,f.jsxs)(u.Z,{className:l.certificateExpiry,children:[(0,f.jsx)(y.Z,{color:"inherit",fontSize:"small"}),"\xa0",(0,f.jsx)("span",{className:"label",children:"Expires in:\xa0"}),(0,f.jsx)("span",{className:C,children:b})]}),(0,f.jsx)(v.Z,{}),(0,f.jsx)("br",{}),(0,f.jsx)(u.Z,{className:l.certificateDomains,children:(0,f.jsx)("span",{className:"label",children:"".concat(a.length," Domain (s):")})}),(0,f.jsx)(m.Z,{className:l.certificatesList,children:a.map(((e,i)=>(0,f.jsxs)(p.ZP,{className:l.certificatesListItem,children:[(0,f.jsx)(x.Z,{children:(0,f.jsx)(o.Z,{})}),(0,f.jsx)(g.Z,{primary:e})]},"".concat(e,"-").concat(i))))})]})]}),onDelete:t},i.name)}))},7032:(e,l,i)=>{i.r(l),i.d(l,{default:()=>I});var n=i(75952),t=i(11135),a=i(25787),o=i(23814),r=i(72791),s=i(78687),d=i(41320),c=i(81207),u=i(37516),v=i(61889),m=i(54639),p=i(21435),x=i(83679),g=i(51691),h=i(20165),y=i(3579),_=i(84741),f=i(40968),j=i(40306),k=i(80666),Z=i(87995),b=i(25228),C=i(43896),S=i(92217),w=i(13871),K=i(80184);const P=e=>{let{items:l=[],title:i=""}=e;return null!==l&&void 0!==l&&l.length?(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)("div",{style:{fontSize:"0.83em",fontWeight:"bold"},children:i}),(0,K.jsx)("div",{style:{display:"flex",gap:"2px",flexFlow:"column",marginLeft:"8px"},children:l.map((e=>(0,K.jsxs)("span",{style:{fontSize:"12px"},children:["- ",e]})))})]}):null},N=e=>{let{policies:l={}}=e;const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((l=>{const i=e[l]||{};return{name:l||"",identities:i.identities||[],paths:i.paths||[],allow:i.allow||[],deny:i.deny||[]}}))}(l);return i.length?(0,K.jsxs)(v.ZP,{xs:12,marginBottom:"5px",children:[(0,K.jsx)("h4",{children:"Policies"}),(0,K.jsx)(n.xuv,{withBorders:!0,sx:{maxHeight:"200px",overflow:"auto",padding:0},children:i.map((e=>(0,K.jsxs)(n.xuv,{withBorders:!0,sx:{display:"flex",flexFlow:"column",gap:"2px",borderLeft:0,borderRight:0,borderTop:0},children:[(0,K.jsxs)("div",{children:[(0,K.jsx)("b",{style:{fontSize:"0.83em",fontWeight:"bold"},children:"Policy Name:"})," ",e.name]}),(0,K.jsx)(P,{title:"Allow",items:null===e||void 0===e?void 0:e.allow}),(0,K.jsx)(P,{title:"Deny",items:null===e||void 0===e?void 0:e.deny}),(0,K.jsx)(P,{title:"Paths",items:null===e||void 0===e?void 0:e.paths}),(0,K.jsx)(P,{title:"Identities",items:null===e||void 0===e?void 0:e.identities})]})))})]}):null},I=(0,a.Z)((e=>(0,t.Z)({...o.oZ,...o.bK,...o.Bz,...o.QV,...o.DF,...o.oO,...o.AK,warningBlock:{color:"red",fontSize:".85rem",margin:".5rem 0 .5rem 0",display:"flex",alignItems:"center","& svg ":{marginRight:".3rem",height:16,width:16}}})))((e=>{var l,i,t,a,o,P,I,A,R,F,E,z,G,q,D,T,M,V,B,W,L,H,O,U,Y,Q,X,J,$,ee,le,ie;let{classes:ne}=e;const te=(0,d.TL)(),ae=(0,s.v9)((e=>e.tenants.tenantInfo)),[oe,re]=(0,r.useState)(0),[se,de]=(0,r.useState)(""),[ce,ue]=(0,r.useState)(!1),[ve,me]=(0,r.useState)("vault"),[pe,xe]=(0,r.useState)("1"),[ge,he]=(0,r.useState)(""),[ye,_e]=(0,r.useState)(!1),[fe,je]=(0,r.useState)({fsGroup:"1000",fsGroupChangePolicy:"Always",runAsGroup:"1000",runAsNonRoot:!0,runAsUser:"1000"}),[ke,Ze]=(0,r.useState)([]),[be,Ce]=(0,r.useState)(null),[Se,we]=(0,r.useState)(null),[Ke,Pe]=(0,r.useState)(null),[Ne,Ie]=(0,r.useState)(null),[Ae,Re]=(0,r.useState)(null),[Fe,Ee]=(0,r.useState)(!1),[ze,Ge]=(0,r.useState)(!1),[qe,De]=(0,r.useState)(null),[Te,Me]=(0,r.useState)(null),[Ve,Be]=(0,r.useState)(null),[We,Le]=(0,r.useState)([]),[He,Oe]=(0,r.useState)(!1),[Ue,Ye]=(0,r.useState)(!1),[Qe,Xe]=(0,r.useState)(!1),[Je,$e]=(0,r.useState)(null),[el,ll]=(0,r.useState)(null),[il,nl]=(0,r.useState)(null),[tl,al]=(0,r.useState)(null),[ol,rl]=(0,r.useState)(null),[sl,dl]=(0,r.useState)({}),cl=e=>{dl((0,_.h)(sl,e))},[ul,vl]=(0,r.useState)(!1);(0,r.useEffect)((()=>{let e=[];if(ce){var l,i,n,t,a,o,r,s,d,c,u,v,m,p,x,g,h,y,_,j,k,Z,b,C,S,w,K,P;if(e=[{fieldKey:"replicas",required:!0,value:pe,customValidation:parseInt(pe)<1,customValidationMessage:"Replicas needs to be 1 or greater"},{fieldKey:"kes_securityContext_runAsUser",required:!0,value:fe.runAsUser,customValidation:""===fe.runAsUser||parseInt(fe.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"kes_securityContext_runAsGroup",required:!0,value:fe.runAsGroup,customValidation:""===fe.runAsGroup||parseInt(fe.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"kes_securityContext_fsGroup",required:!0,value:fe.fsGroup,customValidation:""===fe.fsGroup||parseInt(fe.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}],Fe&&(e=[...e,{fieldKey:"serverKey",required:!1,value:(null===tl||void 0===tl?void 0:tl.encoded_key)||""},{fieldKey:"serverCert",required:!1,value:(null===tl||void 0===tl?void 0:tl.encoded_cert)||""},{fieldKey:"clientKey",required:!1,value:(null===Ve||void 0===Ve?void 0:Ve.encoded_key)||""},{fieldKey:"clientCert",required:!1,value:(null===Ve||void 0===Ve?void 0:Ve.encoded_cert)||""}]),"vault"===ve)e=[...e,{fieldKey:"vault_endpoint",required:!0,value:null===be||void 0===be?void 0:be.endpoint},{fieldKey:"vault_id",required:!0,value:null===be||void 0===be||null===(l=be.approle)||void 0===l?void 0:l.id},{fieldKey:"vault_secret",required:!0,value:null===be||void 0===be||null===(i=be.approle)||void 0===i?void 0:i.secret},{fieldKey:"vault_ping",required:!1,value:null===be||void 0===be||null===(n=be.status)||void 0===n?void 0:n.ping,customValidation:parseInt(null===be||void 0===be||null===(t=be.status)||void 0===t?void 0:t.ping)<0,customValidationMessage:"Value needs to be 0 or greater"},{fieldKey:"vault_retry",required:!1,value:null===be||void 0===be||null===(a=be.approle)||void 0===a?void 0:a.retry,customValidation:parseInt(null===be||void 0===be||null===(o=be.approle)||void 0===o?void 0:o.retry)<0,customValidationMessage:"Value needs to be 0 or greater"}];if("aws"===ve)e=[...e,{fieldKey:"aws_endpoint",required:!0,value:null===Se||void 0===Se||null===(r=Se.secretsmanager)||void 0===r?void 0:r.endpoint},{fieldKey:"aws_region",required:!0,value:null===Se||void 0===Se||null===(s=Se.secretsmanager)||void 0===s?void 0:s.region},{fieldKey:"aws_accessKey",required:!0,value:null===Se||void 0===Se||null===(d=Se.secretsmanager)||void 0===d||null===(c=d.credentials)||void 0===c?void 0:c.accesskey},{fieldKey:"aws_secretKey",required:!0,value:null===Se||void 0===Se||null===(u=Se.secretsmanager)||void 0===u||null===(v=u.credentials)||void 0===v?void 0:v.secretkey}];if("gemalto"===ve)e=[...e,{fieldKey:"gemalto_endpoint",required:!0,value:null===Ke||void 0===Ke||null===(m=Ke.keysecure)||void 0===m?void 0:m.endpoint},{fieldKey:"gemalto_token",required:!0,value:null===Ke||void 0===Ke||null===(p=Ke.keysecure)||void 0===p||null===(x=p.credentials)||void 0===x?void 0:x.token},{fieldKey:"gemalto_domain",required:!0,value:null===Ke||void 0===Ke||null===(g=Ke.keysecure)||void 0===g||null===(h=g.credentials)||void 0===h?void 0:h.domain},{fieldKey:"gemalto_retry",required:!1,value:null===Ke||void 0===Ke||null===(y=Ke.keysecure)||void 0===y||null===(_=y.credentials)||void 0===_?void 0:_.retry,customValidation:parseInt(null===Ke||void 0===Ke||null===(j=Ke.keysecure)||void 0===j||null===(k=j.credentials)||void 0===k?void 0:k.retry)<0,customValidationMessage:"Value needs to be 0 or greater"}];if("azure"===ve)e=[...e,{fieldKey:"azure_endpoint",required:!0,value:null===Ne||void 0===Ne||null===(Z=Ne.keyvault)||void 0===Z?void 0:Z.endpoint},{fieldKey:"azure_tenant_id",required:!0,value:null===Ne||void 0===Ne||null===(b=Ne.keyvault)||void 0===b||null===(C=b.credentials)||void 0===C?void 0:C.tenant_id},{fieldKey:"azure_client_id",required:!0,value:null===Ne||void 0===Ne||null===(S=Ne.keyvault)||void 0===S||null===(w=S.credentials)||void 0===w?void 0:w.client_id},{fieldKey:"azure_client_secret",required:!0,value:null===Ne||void 0===Ne||null===(K=Ne.keyvault)||void 0===K||null===(P=K.credentials)||void 0===P?void 0:P.client_secret}]}const N=(0,f.R)(e);Ye(0===Object.keys(N).length),dl(N)}),[Fe,ce,ve,null===tl||void 0===tl?void 0:tl.encoded_key,null===tl||void 0===tl?void 0:tl.encoded_cert,null===Ve||void 0===Ve?void 0:Ve.encoded_key,null===Ve||void 0===Ve?void 0:Ve.encoded_cert,null===il||void 0===il?void 0:il.encoded_key,null===il||void 0===il?void 0:il.encoded_cert,null===ol||void 0===ol?void 0:ol.encoded_key,null===ol||void 0===ol?void 0:ol.encoded_cert,fe,be,Se,Ke,Ne,Ae,pe]);const ml=()=>{!ye&&null!==ae&&void 0!==ae&&ae.namespace&&null!==ae&&void 0!==ae&&ae.name&&(_e(!0),c.Z.invoke("GET","/api/v1/namespaces/".concat(null===ae||void 0===ae?void 0:ae.namespace,"/tenants/").concat(null===ae||void 0===ae?void 0:ae.name,"/encryption")).then((e=>{de(e.raw),e.policies&&Ze(e.policies),e.vault?(me("vault"),Ce(e.vault)):e.aws?(me("aws"),we(e.aws)):e.gemalto?(me("gemalto"),Pe(e.gemalto)):e.gcp?(me("gcp"),Re(e.gcp)):e.azure&&(me("azure"),Ie(e.azure)),ue(!0),he(e.image),xe(e.replicas),e.securityContext&&je(e.securityContext),(e.server_tls||e.minio_mtls||e.kms_mtls)&&Ee(!0),e.server_tls&&De(e.server_tls),e.minio_mtls&&Me(e.minio_mtls),e.kms_mtls&&($e(e.kms_mtls.crt),ll(e.kms_mtls.ca)),_e(!1)})).catch((e=>{console.error(e),_e(!1)})))};(0,r.useEffect)((()=>{ml()}),[ae]);const pl=e=>{Le([...We,e.name]),e.name===(null===qe||void 0===qe?void 0:qe.name)&&De(null),e.name===(null===Te||void 0===Te?void 0:Te.name)&&Me(null),e.name===(null===Je||void 0===Je?void 0:Je.name)&&$e(null),e.name===(null===el||void 0===el?void 0:el.name)&&ll(null)};return(0,K.jsxs)(r.Fragment,{children:[ul&&(0,K.jsx)(j.Z,{isOpen:ul,title:ce?"Enable encryption at rest for tenant?":"Disable encryption at rest for tenant?",confirmText:ce?"Enable":"Disable",cancelText:"Cancel",onClose:()=>vl(!1),onConfirm:()=>{var e,l,i,n,t,a,o,r,s,d,u,v,m,p,x,g,h,y,_,f,j,k,b,C,S,w,K,P,N,I,A,R,F,E,z,G,q,D;if(ce){let T={};switch(ve){case"gemalto":T={gemalto:{keysecure:{endpoint:(null===Ke||void 0===Ke||null===(e=Ke.keysecure)||void 0===e?void 0:e.endpoint)||"",credentials:{token:(null===Ke||void 0===Ke||null===(l=Ke.keysecure)||void 0===l||null===(i=l.credentials)||void 0===i?void 0:i.token)||"",domain:(null===Ke||void 0===Ke||null===(n=Ke.keysecure)||void 0===n||null===(t=n.credentials)||void 0===t?void 0:t.domain)||"",retry:parseInt(null===Ke||void 0===Ke||null===(a=Ke.keysecure)||void 0===a||null===(o=a.credentials)||void 0===o?void 0:o.retry)}}}};break;case"aws":T={aws:{secretsmanager:{endpoint:(null===Se||void 0===Se||null===(r=Se.secretsmanager)||void 0===r?void 0:r.endpoint)||"",region:(null===Se||void 0===Se||null===(s=Se.secretsmanager)||void 0===s?void 0:s.region)||"",kmskey:(null===Se||void 0===Se||null===(d=Se.secretsmanager)||void 0===d?void 0:d.kmskey)||"",credentials:{accesskey:(null===Se||void 0===Se||null===(u=Se.secretsmanager)||void 0===u||null===(v=u.credentials)||void 0===v?void 0:v.accesskey)||"",secretkey:(null===Se||void 0===Se||null===(m=Se.secretsmanager)||void 0===m||null===(p=m.credentials)||void 0===p?void 0:p.secretkey)||"",token:(null===Se||void 0===Se||null===(x=Se.secretsmanager)||void 0===x||null===(g=x.credentials)||void 0===g?void 0:g.token)||""}}}};break;case"azure":T={azure:{keyvault:{endpoint:(null===Ne||void 0===Ne||null===(h=Ne.keyvault)||void 0===h?void 0:h.endpoint)||"",credentials:{tenant_id:(null===Ne||void 0===Ne||null===(y=Ne.keyvault)||void 0===y||null===(_=y.credentials)||void 0===_?void 0:_.tenant_id)||"",client_id:(null===Ne||void 0===Ne||null===(f=Ne.keyvault)||void 0===f||null===(j=f.credentials)||void 0===j?void 0:j.client_id)||"",client_secret:(null===Ne||void 0===Ne||null===(k=Ne.keyvault)||void 0===k||null===(b=k.credentials)||void 0===b?void 0:b.client_secret)||""}}}};break;case"gcp":T={gcp:{secretmanager:{project_id:(null===Ae||void 0===Ae||null===(C=Ae.secretmanager)||void 0===C?void 0:C.project_id)||"",endpoint:(null===Ae||void 0===Ae||null===(S=Ae.secretmanager)||void 0===S?void 0:S.endpoint)||"",credentials:{client_email:(null===Ae||void 0===Ae||null===(w=Ae.secretmanager)||void 0===w||null===(K=w.credentials)||void 0===K?void 0:K.client_email)||"",client_id:(null===Ae||void 0===Ae||null===(P=Ae.secretmanager)||void 0===P||null===(N=P.credentials)||void 0===N?void 0:N.client_id)||"",private_key_id:(null===Ae||void 0===Ae||null===(I=Ae.secretmanager)||void 0===I||null===(A=I.credentials)||void 0===A?void 0:A.private_key_id)||"",private_key:(null===Ae||void 0===Ae||null===(R=Ae.secretmanager)||void 0===R||null===(F=R.credentials)||void 0===F?void 0:F.private_key)||""}}}};break;case"vault":T={vault:{endpoint:(null===be||void 0===be?void 0:be.endpoint)||"",engine:(null===be||void 0===be?void 0:be.engine)||"",namespace:(null===be||void 0===be?void 0:be.namespace)||"",prefix:(null===be||void 0===be?void 0:be.prefix)||"",approle:{engine:(null===be||void 0===be||null===(E=be.approle)||void 0===E?void 0:E.engine)||"",id:(null===be||void 0===be||null===(z=be.approle)||void 0===z?void 0:z.id)||"",secret:(null===be||void 0===be||null===(G=be.approle)||void 0===G?void 0:G.secret)||"",retry:parseInt(null===be||void 0===be||null===(q=be.approle)||void 0===q?void 0:q.retry)},status:{ping:parseInt(null===be||void 0===be||null===(D=be.status)||void 0===D?void 0:D.ping)}}}}let M={},V={},B={};null!==Ve&&void 0!==Ve&&Ve.encoded_key&&null!==Ve&&void 0!==Ve&&Ve.encoded_cert&&(V={minio_mtls:{key:null===Ve||void 0===Ve?void 0:Ve.encoded_key,crt:null===Ve||void 0===Ve?void 0:Ve.encoded_cert}}),null!==tl&&void 0!==tl&&tl.encoded_key&&null!==tl&&void 0!==tl&&tl.encoded_cert&&(M={server_tls:{key:null===tl||void 0===tl?void 0:tl.encoded_key,crt:null===tl||void 0===tl?void 0:tl.encoded_cert}});let W=null,L=null;null!==il&&void 0!==il&&il.encoded_key&&null!==il&&void 0!==il&&il.encoded_cert&&(W={key:null===il||void 0===il?void 0:il.encoded_key,crt:null===il||void 0===il?void 0:il.encoded_cert}),null!==ol&&void 0!==ol&&ol.encoded_cert&&(L={ca:null===ol||void 0===ol?void 0:ol.encoded_cert}),(W||L)&&(B={kms_mtls:{...W,...L}});const H={raw:oe?se:"",secretsToBeDeleted:We||[],replicas:pe,securityContext:fe,image:ge,...V,...M,...B,...T};ze||(Ge(!0),c.Z.invoke("PUT","/api/v1/namespaces/".concat(null===ae||void 0===ae?void 0:ae.namespace,"/tenants/").concat(null===ae||void 0===ae?void 0:ae.name,"/encryption"),H).then((()=>{vl(!1),Ge(!1),ml()})).catch((e=>{Ge(!1),te((0,Z.Ih)(e))})))}else ze||(Ge(!0),c.Z.invoke("DELETE","/api/v1/namespaces/".concat(null===ae||void 0===ae?void 0:ae.namespace,"/tenants/").concat(null===ae||void 0===ae?void 0:ae.name,"/encryption"),{}).then((()=>{vl(!1),Ge(!1),ml()})).catch((e=>{Ge(!1),te((0,Z.Ih)(e))})))},confirmationContent:(0,K.jsxs)(g.Z,{children:[ce?"Data will be encrypted using and external KMS":"Current encrypted information will not be accessible",ce&&(0,K.jsxs)("div",{className:ne.warningBlock,children:[(0,K.jsx)(n.e6P,{}),(0,K.jsx)("span",{children:"The content of the KES config secret will be overwritten."})]})]})}),(0,K.jsxs)(v.ZP,{container:!0,spacing:1,children:[(0,K.jsx)(v.ZP,{item:!0,xs:!0,children:(0,K.jsx)(n.NZf,{children:"Encryption"})}),(0,K.jsx)(v.ZP,{item:!0,xs:4,justifyContent:"end",textAlign:"right",children:(0,K.jsx)(u.Z,{label:"",indicatorLabels:["Enabled","Disabled"],checked:ce,value:"tenant_encryption",id:"tenant-encryption",name:"tenant-encryption",onChange:()=>{ue(!ce)},description:""})}),(0,K.jsx)(v.ZP,{xs:12,children:(0,K.jsx)(w.Z,{})}),ce&&(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsxs)(b.Z,{value:oe,onChange:(e,l)=>{re(l)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,K.jsx)(C.Z,{id:"kms-options",label:"Options"}),(0,K.jsx)(C.Z,{id:"kms-raw-configuration",label:"Raw Edit"})]})}),oe?(0,K.jsx)(r.Fragment,{children:(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(S.Z,{value:se,mode:"yaml",onBeforeChange:(e,l,i)=>{de(i)},editorHeight:"550px"})})}):(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(N,{policies:ke}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.encryptionTypeOptions,children:(0,K.jsx)(x.Z,{currentSelection:ve,id:"encryptionType",name:"encryptionType",label:"KMS",onChange:e=>{me(e.target.value)},selectorOptions:[{label:"Vault",value:"vault"},{label:"AWS",value:"aws"},{label:"Gemalto",value:"gemalto"},{label:"GCP",value:"gcp"},{label:"Azure",value:"azure"}]})}),"vault"===ve&&(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"vault_endpoint",name:"vault_endpoint",onChange:e=>Ce({...be,endpoint:e.target.value}),label:"Endpoint",tooltip:"Endpoint is the Hashicorp Vault endpoint",value:(null===be||void 0===be?void 0:be.endpoint)||"",error:sl.vault_ping||"",required:!0})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"vault_engine",name:"vault_engine",onChange:e=>Ce({...be,engine:e.target.value}),label:"Engine",tooltip:"Engine is the Hashicorp Vault K/V engine path. If empty, defaults to 'kv'",value:(null===be||void 0===be?void 0:be.engine)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"vault_namespace",name:"vault_namespace",onChange:e=>Ce({...be,namespace:e.target.value}),label:"Namespace",tooltip:"Namespace is an optional Hashicorp Vault namespace. An empty namespace means no particular namespace is used.",value:(null===be||void 0===be?void 0:be.namespace)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"vault_prefix",name:"vault_prefix",onChange:e=>Ce({...be,prefix:e.target.value}),label:"Prefix",tooltip:"Prefix is an optional prefix / directory within the K/V engine. If empty, keys will be stored at the K/V engine top level",value:(null===be||void 0===be?void 0:be.prefix)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(n.NZf,{children:"App Role"})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:ne.fieldGroup,children:[(0,K.jsx)("legend",{className:ne.descriptionText,children:"App Role"}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"vault_approle_engine",name:"vault_approle_engine",onChange:e=>Ce({...be,approle:{...null===be||void 0===be?void 0:be.approle,engine:e.target.value}}),label:"Engine",tooltip:"AppRoleEngine is the AppRole authentication engine path. If empty, defaults to 'approle'",value:(null===be||void 0===be||null===(l=be.approle)||void 0===l?void 0:l.engine)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{type:He?"text":"password",id:"vault_id",name:"vault_id",onChange:e=>Ce({...be,approle:{...null===be||void 0===be?void 0:be.approle,id:e.target.value}}),label:"AppRole ID",tooltip:"AppRoleSecret is the AppRole access secret for authenticating to Hashicorp Vault via the AppRole method",value:(null===be||void 0===be||null===(i=be.approle)||void 0===i?void 0:i.id)||"",required:!0,error:sl.vault_id||"",overlayIcon:He?(0,K.jsx)(h.Z,{}):(0,K.jsx)(y.Z,{}),overlayAction:()=>Oe(!He)})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{type:Qe?"text":"password",id:"vault_secret",name:"vault_secret",onChange:e=>Ce({...be,approle:{...null===be||void 0===be?void 0:be.approle,secret:e.target.value}}),label:"AppRole Secret",tooltip:"AppRoleSecret is the AppRole access secret for authenticating to Hashicorp Vault via the AppRole method",value:(null===be||void 0===be||null===(t=be.approle)||void 0===t?void 0:t.secret)||"",required:!0,error:sl.vault_secret||"",overlayIcon:Qe?(0,K.jsx)(h.Z,{}):(0,K.jsx)(y.Z,{}),overlayAction:()=>Xe(!Qe)})}),(0,K.jsx)(v.ZP,{xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{type:"number",min:"0",id:"vault_retry",name:"vault_retry",onChange:e=>Ce({...be,approle:{...null===be||void 0===be?void 0:be.approle,retry:e.target.value}}),label:"Retry (Seconds)",error:sl.vault_retry||"",value:(null===be||void 0===be||null===(a=be.approle)||void 0===a?void 0:a.retry)||""})})]})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,style:{marginTop:15},children:(0,K.jsxs)("fieldset",{className:ne.fieldGroup,children:[(0,K.jsx)("legend",{className:ne.descriptionText,children:"Status"}),(0,K.jsx)(p.Z,{type:"number",min:"0",id:"vault_ping",name:"vault_ping",onChange:e=>Ce({...be,status:{...null===be||void 0===be?void 0:be.status,ping:e.target.value}}),label:"Ping (Seconds)",tooltip:"controls how often to Vault health status is checked. If not set, defaults to 10s",error:sl.vault_ping||"",value:(null===be||void 0===be||null===(o=be.status)||void 0===o?void 0:o.ping)||""})]})})]}),"azure"===ve&&(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"azure_endpoint",name:"azure_endpoint",onChange:e=>Ie({...Ne,keyvault:{...null===Ne||void 0===Ne?void 0:Ne.keyvault,endpoint:e.target.value}}),label:"Endpoint",tooltip:"Endpoint is the Azure KeyVault endpoint",error:sl.azure_endpoint||"",value:(null===Ne||void 0===Ne||null===(P=Ne.keyvault)||void 0===P?void 0:P.endpoint)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:ne.fieldGroup,children:[(0,K.jsx)("legend",{className:ne.descriptionText,children:"Credentials"}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"azure_tenant_id",name:"azure_tenant_id",onChange:e=>{var l;return Ie({...Ne,keyvault:{...null===Ne||void 0===Ne?void 0:Ne.keyvault,credentials:{...null===Ne||void 0===Ne||null===(l=Ne.keyvault)||void 0===l?void 0:l.credentials,tenant_id:e.target.value}}})},label:"Tenant ID",tooltip:"TenantID is the ID of the Azure KeyVault tenant",value:(null===Ne||void 0===Ne||null===(I=Ne.keyvault)||void 0===I||null===(A=I.credentials)||void 0===A?void 0:A.tenant_id)||"",error:sl.azure_tenant_id||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"azure_client_id",name:"azure_client_id",onChange:e=>{var l;return Ie({...Ne,keyvault:{...null===Ne||void 0===Ne?void 0:Ne.keyvault,credentials:{...null===Ne||void 0===Ne||null===(l=Ne.keyvault)||void 0===l?void 0:l.credentials,client_id:e.target.value}}})},label:"Client ID",tooltip:"ClientID is the ID of the client accessing Azure KeyVault",value:(null===Ne||void 0===Ne||null===(R=Ne.keyvault)||void 0===R||null===(F=R.credentials)||void 0===F?void 0:F.client_id)||"",error:sl.azure_client_id||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"azure_client_secret",name:"azure_client_secret",onChange:e=>{var l;return Ie({...Ne,keyvault:{...null===Ne||void 0===Ne?void 0:Ne.keyvault,credentials:{...null===Ne||void 0===Ne||null===(l=Ne.keyvault)||void 0===l?void 0:l.credentials,client_secret:e.target.value}}})},label:"Client Secret",tooltip:"ClientSecret is the client secret accessing the Azure KeyVault",value:(null===Ne||void 0===Ne||null===(E=Ne.keyvault)||void 0===E||null===(z=E.credentials)||void 0===z?void 0:z.client_secret)||"",error:sl.azure_client_secret||""})})]})})]}),"gcp"===ve&&(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"gcp_project_id",name:"gcp_project_id",onChange:e=>Re({...Ae,secretmanager:{...null===Ae||void 0===Ae?void 0:Ae.secretmanager,project_id:e.target.value}}),label:"Project ID",tooltip:"ProjectID is the GCP project ID",value:(null===Ae||void 0===Ae?void 0:Ae.secretmanager.project_id)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"gcp_endpoint",name:"gcp_endpoint",onChange:e=>Re({...Ae,secretmanager:{...null===Ae||void 0===Ae?void 0:Ae.secretmanager,endpoint:e.target.value}}),label:"Endpoint",tooltip:"Endpoint is the GCP project ID. If empty defaults to: secretmanager.googleapis.com:443",value:(null===Ae||void 0===Ae?void 0:Ae.secretmanager.endpoint)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:ne.fieldGroup,children:[(0,K.jsx)("legend",{className:ne.descriptionText,children:"Credentials"}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"gcp_client_email",name:"gcp_client_email",onChange:e=>Re({...Ae,secretmanager:{...null===Ae||void 0===Ae?void 0:Ae.secretmanager,credentials:{...null===Ae||void 0===Ae?void 0:Ae.secretmanager.credentials,client_email:e.target.value}}}),label:"Client Email",tooltip:"Is the Client email of the GCP service account used to access the SecretManager",value:(null===Ae||void 0===Ae||null===(G=Ae.secretmanager.credentials)||void 0===G?void 0:G.client_email)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"gcp_client_id",name:"gcp_client_id",onChange:e=>Re({...Ae,secretmanager:{...null===Ae||void 0===Ae?void 0:Ae.secretmanager,credentials:{...null===Ae||void 0===Ae?void 0:Ae.secretmanager.credentials,client_id:e.target.value}}}),label:"Client ID",tooltip:"Is the Client ID of the GCP service account used to access the SecretManager",value:(null===Ae||void 0===Ae||null===(q=Ae.secretmanager.credentials)||void 0===q?void 0:q.client_id)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"gcp_private_key_id",name:"gcp_private_key_id",onChange:e=>Re({...Ae,secretmanager:{...null===Ae||void 0===Ae?void 0:Ae.secretmanager,credentials:{...null===Ae||void 0===Ae?void 0:Ae.secretmanager.credentials,private_key_id:e.target.value}}}),label:"Private Key ID",tooltip:"Is the private key ID of the GCP service account used to access the SecretManager",value:(null===Ae||void 0===Ae||null===(D=Ae.secretmanager.credentials)||void 0===D?void 0:D.private_key_id)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"gcp_private_key",name:"gcp_private_key",onChange:e=>Re({...Ae,secretmanager:{...null===Ae||void 0===Ae?void 0:Ae.secretmanager,credentials:{...null===Ae||void 0===Ae?void 0:Ae.secretmanager.credentials,private_key:e.target.value}}}),label:"Private Key",tooltip:"Is the private key of the GCP service account used to access the SecretManager",value:(null===Ae||void 0===Ae||null===(T=Ae.secretmanager.credentials)||void 0===T?void 0:T.private_key)||""})})]})})]}),"aws"===ve&&(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"aws_endpoint",name:"aws_endpoint",onChange:e=>we({...Se,secretsmanager:{...null===Se||void 0===Se?void 0:Se.secretsmanager,endpoint:e.target.value}}),label:"Endpoint",tooltip:"Endpoint is the AWS SecretsManager endpoint. AWS SecretsManager endpoints have the following schema: secrestmanager[-fips].<region>.amanzonaws.com",value:(null===Se||void 0===Se||null===(M=Se.secretsmanager)||void 0===M?void 0:M.endpoint)||"",required:!0,error:sl.aws_endpoint||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"aws_region",name:"aws_region",onChange:e=>we({...Se,secretsmanager:{...null===Se||void 0===Se?void 0:Se.secretsmanager,region:e.target.value}}),label:"Region",tooltip:"Region is the AWS region the SecretsManager is located",value:(null===Se||void 0===Se||null===(V=Se.secretsmanager)||void 0===V?void 0:V.region)||"",error:sl.aws_region||"",required:!0})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"aws_kmsKey",name:"aws_kmsKey",onChange:e=>we({...Se,secretsmanager:{...null===Se||void 0===Se?void 0:Se.secretsmanager,kmskey:e.target.value}}),label:"KMS Key",tooltip:"KMSKey is the AWS-KMS key ID (CMK-ID) used to en/decrypt secrets managed by the SecretsManager. If empty, the default AWS KMS key is used",value:(null===Se||void 0===Se||null===(B=Se.secretsmanager)||void 0===B?void 0:B.kmskey)||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:ne.fieldGroup,children:[(0,K.jsx)("legend",{className:ne.descriptionText,children:"Credentials"}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"aws_accessKey",name:"aws_accessKey",onChange:e=>{var l;return we({...Se,secretsmanager:{...null===Se||void 0===Se?void 0:Se.secretsmanager,credentials:{...null===Se||void 0===Se||null===(l=Se.secretsmanager)||void 0===l?void 0:l.credentials,accesskey:e.target.value}}})},label:"Access Key",tooltip:"AccessKey is the access key for authenticating to AWS",value:(null===Se||void 0===Se||null===(W=Se.secretsmanager)||void 0===W||null===(L=W.credentials)||void 0===L?void 0:L.accesskey)||"",error:sl.aws_accessKey||"",required:!0})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"aws_secretKey",name:"aws_secretKey",onChange:e=>{var l;return we({...Se,secretsmanager:{...null===Se||void 0===Se?void 0:Se.secretsmanager,credentials:{...null===Se||void 0===Se||null===(l=Se.secretsmanager)||void 0===l?void 0:l.credentials,secretkey:e.target.value}}})},label:"Secret Key",tooltip:"SecretKey is the secret key for authenticating to AWS",value:(null===Se||void 0===Se||null===(H=Se.secretsmanager)||void 0===H||null===(O=H.credentials)||void 0===O?void 0:O.secretkey)||"",error:sl.aws_secretKey||"",required:!0})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"aws_token",name:"aws_token",onChange:e=>{var l;return we({...Se,secretsmanager:{...null===Se||void 0===Se?void 0:Se.secretsmanager,credentials:{...null===Se||void 0===Se||null===(l=Se.secretsmanager)||void 0===l?void 0:l.credentials,token:e.target.value}}})},label:"Token",tooltip:"SessionToken is an optional session token for authenticating to AWS when using STS",value:(null===Se||void 0===Se||null===(U=Se.secretsmanager)||void 0===U||null===(Y=U.credentials)||void 0===Y?void 0:Y.token)||""})})]})})]}),"gemalto"===ve&&(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{id:"gemalto_endpoint",name:"gemalto_endpoint",onChange:e=>Pe({...Ke,keysecure:{...null===Ke||void 0===Ke?void 0:Ke.keysecure,endpoint:e.target.value}}),label:"Endpoint",tooltip:"Endpoint is the endpoint to the KeySecure server",value:(null===Ke||void 0===Ke||null===(Q=Ke.keysecure)||void 0===Q?void 0:Q.endpoint)||"",error:sl.gemalto_endpoint||"",required:!0})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,K.jsxs)("fieldset",{className:ne.fieldGroup,children:[(0,K.jsx)("legend",{className:ne.descriptionText,children:"Credentials"}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"gemalto_token",name:"gemalto_token",onChange:e=>{var l;return Pe({...Ke,keysecure:{...null===Ke||void 0===Ke?void 0:Ke.keysecure,credentials:{...null===Ke||void 0===Ke||null===(l=Ke.keysecure)||void 0===l?void 0:l.credentials,token:e.target.value}}})},label:"Token",tooltip:"Token is the refresh authentication token to access the KeySecure server",value:(null===Ke||void 0===Ke||null===(X=Ke.keysecure)||void 0===X||null===(J=X.credentials)||void 0===J?void 0:J.token)||"",error:sl.gemalto_token||"",required:!0})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{id:"gemalto_domain",name:"gemalto_domain",onChange:e=>{var l;return Pe({...Ke,keysecure:{...null===Ke||void 0===Ke?void 0:Ke.keysecure,credentials:{...null===Ke||void 0===Ke||null===(l=Ke.keysecure)||void 0===l?void 0:l.credentials,domain:e.target.value}}})},label:"Domain",tooltip:"Domain is the isolated namespace within the KeySecure server. If empty, defaults to the top-level / root domain",value:(null===Ke||void 0===Ke||null===($=Ke.keysecure)||void 0===$||null===(ee=$.credentials)||void 0===ee?void 0:ee.domain)||"",error:sl.gemalto_domain||"",required:!0})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,className:ne.formFieldRow,children:(0,K.jsx)(p.Z,{type:"number",min:"0",id:"gemalto_retry",name:"gemalto_retry",onChange:e=>{var l;return Pe({...Ke,keysecure:{...null===Ke||void 0===Ke?void 0:Ke.keysecure,credentials:{...null===Ke||void 0===Ke||null===(l=Ke.keysecure)||void 0===l?void 0:l.credentials,retry:e.target.value}}})},label:"Retry (seconds)",value:(null===Ke||void 0===Ke||null===(le=Ke.keysecure)||void 0===le||null===(ie=le.credentials)||void 0===ie?void 0:ie.retry)||"",error:sl.gemalto_retry||""})})]})})]})]}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(n.NZf,{children:"Additional Configuration for KES"})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(u.Z,{value:"enableCustomCertsForKES",id:"enableCustomCertsForKES",name:"enableCustomCertsForKES",checked:Fe,onChange:()=>Ee(!Fe),label:"Custom Certificates"})}),Fe&&(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:ne.fieldGroup,children:[(0,K.jsx)("legend",{className:ne.descriptionText,children:"Encryption server certificates"}),qe?(0,K.jsx)(k.Z,{certificateInfo:qe,onDelete:()=>pl(qe)}):(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(m.Z,{onChange:(e,l)=>{al({encoded_key:e||"",id:(null===tl||void 0===tl?void 0:tl.id)||"",key:l||"",cert:(null===tl||void 0===tl?void 0:tl.cert)||"",encoded_cert:(null===tl||void 0===tl?void 0:tl.encoded_cert)||""}),cl("serverKey")},accept:".key,.pem",id:"serverKey",name:"serverKey",label:"Key",value:null===tl||void 0===tl?void 0:tl.key}),(0,K.jsx)(m.Z,{onChange:(e,l)=>{al({encoded_key:(null===tl||void 0===tl?void 0:tl.encoded_key)||"",id:(null===tl||void 0===tl?void 0:tl.id)||"",key:(null===tl||void 0===tl?void 0:tl.key)||"",cert:l||"",encoded_cert:e||""}),cl("serverCert")},accept:".cer,.crt,.cert,.pem",id:"serverCert",name:"serverCert",label:"Cert",value:null===tl||void 0===tl?void 0:tl.cert})]})]})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:ne.fieldGroup,children:[(0,K.jsx)("legend",{className:ne.descriptionText,children:"MinIO mTLS certificates (connection between MinIO and the Encryption server)"}),Te?(0,K.jsx)(k.Z,{certificateInfo:Te,onDelete:()=>pl(Te)}):(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(m.Z,{onChange:(e,l)=>{Be({encoded_key:e||"",id:(null===Ve||void 0===Ve?void 0:Ve.id)||"",key:l||"",cert:(null===Ve||void 0===Ve?void 0:Ve.cert)||"",encoded_cert:(null===Ve||void 0===Ve?void 0:Ve.encoded_cert)||""}),cl("clientKey")},accept:".key,.pem",id:"clientKey",name:"clientKey",label:"Key",value:null===Ve||void 0===Ve?void 0:Ve.key}),(0,K.jsx)(m.Z,{onChange:(e,l)=>{Be({encoded_key:(null===Ve||void 0===Ve?void 0:Ve.encoded_key)||"",id:(null===Ve||void 0===Ve?void 0:Ve.id)||"",key:(null===Ve||void 0===Ve?void 0:Ve.key)||"",cert:l||"",encoded_cert:e||""}),cl("clientCert")},accept:".cer,.crt,.cert,.pem",id:"clientCert",name:"clientCert",label:"Cert",value:null===Ve||void 0===Ve?void 0:Ve.cert})]})]})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:ne.fieldGroup,children:[(0,K.jsx)("legend",{className:ne.descriptionText,children:"KMS mTLS certificates (connection between the Encryption server and the KMS)"}),Je?(0,K.jsx)(k.Z,{certificateInfo:Je,onDelete:()=>pl(Je)}):(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(m.Z,{onChange:(e,l)=>{nl({encoded_key:e||"",id:(null===il||void 0===il?void 0:il.id)||"",key:l||"",cert:(null===il||void 0===il?void 0:il.cert)||"",encoded_cert:(null===il||void 0===il?void 0:il.encoded_cert)||""})},accept:".key,.pem",id:"kms_mtls_key",name:"kms_mtls_key",label:"Key",value:null===il||void 0===il?void 0:il.key}),(0,K.jsx)(m.Z,{onChange:(e,l)=>nl({encoded_key:(null===il||void 0===il?void 0:il.encoded_key)||"",id:(null===il||void 0===il?void 0:il.id)||"",key:(null===il||void 0===il?void 0:il.key)||"",cert:l||"",encoded_cert:e||""}),accept:".cer,.crt,.cert,.pem",id:"kms_mtls_cert",name:"kms_mtls_cert",label:"Cert",value:(null===il||void 0===il?void 0:il.cert)||""})]}),el?(0,K.jsx)(k.Z,{certificateInfo:el,onDelete:()=>pl(el)}):(0,K.jsx)(m.Z,{onChange:(e,l)=>rl({encoded_key:(null===ol||void 0===ol?void 0:ol.encoded_key)||"",id:(null===ol||void 0===ol?void 0:ol.id)||"",key:(null===ol||void 0===ol?void 0:ol.key)||"",cert:l||"",encoded_cert:e||""}),accept:".cer,.crt,.cert,.pem",id:"kms_mtls_ca",name:"kms_mtls_ca",label:"CA",value:(null===ol||void 0===ol?void 0:ol.cert)||""})]})})]}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{type:"text",id:"image",name:"image",onChange:e=>he(e.target.value),label:"Image",tooltip:"KES container image",placeholder:"minio/kes:2023-10-03T00-48-37Z",value:ge})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{type:"number",min:"1",id:"replicas",name:"replicas",onChange:e=>xe(e.target.value),label:"Replicas",tooltip:"Numer of KES pod replicas",value:pe,required:!0,error:sl.replicas||""})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(n.NZf,{children:"SecurityContext for KES"})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsxs)("div",{className:"".concat(ne.multiContainer," ").concat(ne.responsiveContainer),children:[(0,K.jsx)("div",{className:"".concat(ne.formFieldRow," ").concat(ne.rightSpacer),children:(0,K.jsx)(p.Z,{type:"number",id:"kes_securityContext_runAsUser",name:"kes_securityContext_runAsUser",onChange:e=>{je({...fe,runAsUser:e.target.value})},label:"Run As User",value:fe.runAsUser,required:!0,error:sl.kes_securityContext_runAsUser||"",min:"0"})}),(0,K.jsx)("div",{className:"".concat(ne.formFieldRow," ").concat(ne.rightSpacer),children:(0,K.jsx)(p.Z,{type:"number",id:"kes_securityContext_runAsGroup",name:"kes_securityContext_runAsGroup",onChange:e=>{je({...fe,runAsGroup:e.target.value})},label:"Run As Group",value:fe.runAsGroup,required:!0,error:sl.kes_securityContext_runAsGroup||"",min:"0"})}),(0,K.jsx)("div",{className:"".concat(ne.formFieldRow," ").concat(ne.rightSpacer),children:(0,K.jsx)(p.Z,{type:"number",id:"kes_securityContext_fsGroup",name:"kes_securityContext_fsGroup",onChange:e=>{je({...fe,fsGroup:e.target.value})},label:"FsGroup",value:fe.fsGroup,required:!0,error:sl.kes_securityContext_fsGroup||"",min:"0"})})]})}),(0,K.jsx)(v.ZP,{item:!0,xs:12,children:(0,K.jsx)(u.Z,{value:"kesSecurityContextRunAsNonRoot",id:"kes_securityContext_runAsNonRoot",name:"kes_securityContext_runAsNonRoot",checked:fe.runAsNonRoot,onChange:e=>{const l=e.target.checked;je({...fe,runAsNonRoot:l})},label:"Do not run as Root"})})]}),(0,K.jsx)(v.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,K.jsx)(n.zxk,{id:"save-encryption",type:"submit",variant:"callAction",disabled:!Ue,onClick:()=>vl(!0),label:"Save"})})]})]})}))},22512:(e,l,i)=>{i.d(l,{Z:()=>s});var n=i(72791),t=i(20890),a=i(11135),o=i(25787),r=i(80184);const s=(0,o.Z)((e=>{var l;return(0,a.Z)({errorBlock:{color:(null===(l=e.palette)||void 0===l?void 0:l.error.main)||"#C83B51"}})}))((e=>{let{classes:l,errorMessage:i,withBreak:a=!0}=e;return(0,r.jsxs)(n.Fragment,{children:[a&&(0,r.jsx)("br",{}),(0,r.jsx)(t.Z,{component:"p",variant:"body1",className:l.errorBlock,children:i})]})}))}}]);
//# sourceMappingURL=367.ca5c7e28.chunk.js.map
"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[942],{45902:(e,s,n)=>{n.d(s,{Z:()=>l});n(72791);var t=n(36314),a=n(80184);const l=e=>{let{label:s=null,value:n="-",orientation:l="column",stkProps:r={},lblProps:o={},valProps:c={}}=e;return(0,a.jsxs)(t.Z,{direction:{xs:"column",sm:l},...r,children:[(0,a.jsx)("label",{style:{marginRight:5,fontWeight:600},...o,children:s}),(0,a.jsx)("label",{style:{marginRight:5,fontWeight:500},...c,children:n})]})}},5450:(e,s,n)=>{n.d(s,{Z:()=>v});var t=n(72791),a=n(57482),l=n(79836),r=n(53382),o=n(53994),c=n(56890),i=n(35855),d=n(64554),u=n(56125),m=n(20890),x=n(85172),p=n(95678),h=n(39281),j=n(35527),Z=n(80184);const b=e=>{const{event:s}=e,[n,a]=t.useState(!1);return(0,Z.jsxs)(t.Fragment,{children:[(0,Z.jsxs)(i.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,Z.jsx)(o.Z,{component:"th",scope:"row",onClick:()=>a(!n),children:s.event_type}),(0,Z.jsx)(o.Z,{onClick:()=>a(!n),children:s.reason}),(0,Z.jsx)(o.Z,{onClick:()=>a(!n),children:s.seen}),(0,Z.jsx)(o.Z,{onClick:()=>a(!n),children:s.message.length>=30?"".concat(s.message.slice(0,30),"..."):s.message}),(0,Z.jsx)(o.Z,{onClick:()=>a(!n),children:n?(0,Z.jsx)(p.Z,{}):(0,Z.jsx)(x.Z,{})})]}),(0,Z.jsx)(i.Z,{children:(0,Z.jsx)(o.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,Z.jsx)(u.Z,{in:n,timeout:"auto",unmountOnExit:!0,children:(0,Z.jsx)(d.Z,{sx:{margin:1},children:(0,Z.jsx)(m.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:s.message})})})})})]})},v=e=>{let{events:s,loading:n}=e;return n?(0,Z.jsx)(a.Z,{}):(0,Z.jsx)(h.Z,{component:j.Z,children:(0,Z.jsxs)(l.Z,{"aria-label":"collapsible table",children:[(0,Z.jsx)(c.Z,{children:(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(o.Z,{children:"Type"}),(0,Z.jsx)(o.Z,{children:"Reason"}),(0,Z.jsx)(o.Z,{children:"Age"}),(0,Z.jsx)(o.Z,{children:"Message"}),(0,Z.jsx)(o.Z,{})]})}),(0,Z.jsx)(r.Z,{children:s.map((e=>(0,Z.jsx)(b,{event:e},"".concat(e.event_type,"-").concat(e.seen))))})]})})}},89942:(e,s,n)=>{n.r(s),n.d(s,{default:()=>w});var t=n(72791),a=n(11135),l=n(25787),r=n(23814),o=n(61889),c=n(25228),i=n(43896),d=n(57689),u=n(11087),m=n(81207),x=n(45248),p=n(5450),h=n(78687),j=n(64554),Z=n(81918),b=n(87995),v=n(41320),g=n(45902),f=n(80184);const y={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},k=e=>{let{title:s}=e;return(0,f.jsx)(j.Z,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,f.jsx)("h3",{children:s})})},S=e=>{let{describeInfo:s}=e;return(0,f.jsx)(t.Fragment,{children:(0,f.jsxs)("div",{id:"pvc-describe-summary-content",children:[(0,f.jsx)(k,{title:"Summary"}),(0,f.jsxs)(j.Z,{sx:{...y},children:[(0,f.jsx)(g.Z,{label:"Name",value:s.name}),(0,f.jsx)(g.Z,{label:"Namespace",value:s.namespace}),(0,f.jsx)(g.Z,{label:"Capacity",value:s.capacity}),(0,f.jsx)(g.Z,{label:"Status",value:s.status}),(0,f.jsx)(g.Z,{label:"Storage Class",value:s.storageClass}),(0,f.jsx)(g.Z,{label:"Access Modes",value:s.accessModes.join(", ")}),(0,f.jsx)(g.Z,{label:"Finalizers",value:s.finalizers.join(", ")}),(0,f.jsx)(g.Z,{label:"Volume",value:s.volume}),(0,f.jsx)(g.Z,{label:"Volume Mode",value:s.volumeMode})]})]})})},C=e=>{let{annotations:s}=e;return(0,f.jsx)(t.Fragment,{children:(0,f.jsxs)("div",{id:"pvc-describe-annotations-content",children:[(0,f.jsx)(k,{title:"Annotations"}),(0,f.jsx)(j.Z,{children:s.map(((e,s)=>(0,f.jsx)(Z.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},s)))})]})})},N=e=>{let{labels:s}=e;return(0,f.jsx)(t.Fragment,{children:(0,f.jsxs)("div",{id:"pvc-describe-labels-content",children:[(0,f.jsx)(k,{title:"Labels"}),(0,f.jsx)(j.Z,{children:s.map(((e,s)=>(0,f.jsx)(Z.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},s)))})]})})},P=(0,h.$j)((e=>({loadingTenant:e.tenants.loadingTenant})),{setErrorSnackMessage:b.Ih}),T=(0,l.Z)((e=>(0,a.Z)({...r.OR,...r.qg})))(P((e=>{let{tenant:s,namespace:n,pvcName:a,propLoading:l}=e;const[r,d]=(0,t.useState)(),[u,x]=(0,t.useState)(!0),[p,h]=(0,t.useState)(0),j=(0,v.TL)();(0,t.useEffect)((()=>{l&&x(!0)}),[l]),(0,t.useEffect)((()=>{u&&m.Z.invoke("GET","/api/v1/namespaces/".concat(n,"/tenants/").concat(s,"/pvcs/").concat(a,"/describe")).then((e=>{d(e),x(!1)})).catch((e=>{j((0,b.Ih)(e)),x(!1)}))}),[u,a,n,s,j]);return(0,f.jsx)(t.Fragment,{children:r&&(0,f.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,f.jsxs)(c.Z,{value:p,onChange:(e,s)=>{h(s)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,f.jsx)(i.Z,{id:"pvc-describe-summary",label:"Summary"}),(0,f.jsx)(i.Z,{id:"pvc-describe-annotations",label:"Annotations"}),(0,f.jsx)(i.Z,{id:"pvc-describe-labels",label:"Labels"})]}),((e,s)=>{switch(e){case 0:return(0,f.jsx)(S,{describeInfo:s});case 1:return(0,f.jsx)(C,{annotations:s.annotations});case 2:return(0,f.jsx)(N,{labels:s.labels})}})(p,r)]})})}))),w=(0,l.Z)((e=>(0,a.Z)({breadcrumLink:{textDecoration:"none",color:"black"},...r.Bz})))((e=>{let{classes:s}=e;const n=(0,v.TL)(),{tenantName:a,PVCName:l,tenantNamespace:r}=(0,d.UO)(),[h,j]=(0,t.useState)(0),[Z,g]=(0,t.useState)(!0),[y,k]=(0,t.useState)([]);return(0,t.useEffect)((()=>{Z&&m.Z.invoke("GET","/api/v1/namespaces/".concat(r,"/tenants/").concat(a,"/pvcs/").concat(l,"/events")).then((e=>{for(let s=0;s<e.length;s++){let n=Date.now()/1e3|0;e[s].seen=(0,x.v1)((n-e[s].last_seen).toString())}k(e),g(!1)})).catch((e=>{n((0,b.Ih)(e)),g(!1)}))}),[Z,l,r,a,n]),(0,f.jsxs)(t.Fragment,{children:[(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsxs)("h1",{className:s.sectionTitle,children:[(0,f.jsx)(u.rU,{to:"/namespaces/".concat(r,"/tenants/").concat(a,"/volumes"),className:s.breadcrumLink,children:"PVCs"})," ","> ",l]})}),(0,f.jsxs)(o.ZP,{container:!0,children:[(0,f.jsx)(o.ZP,{item:!0,xs:12,children:(0,f.jsxs)(c.Z,{value:h,onChange:(e,s)=>{j(s)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,f.jsx)(i.Z,{label:"Events",id:"simple-tab-0"}),(0,f.jsx)(i.Z,{label:"Describe",id:"simple-tab-1"})]})}),0===h&&(0,f.jsxs)(t.Fragment,{children:[(0,f.jsx)("h1",{className:s.sectionTitle,children:"Events"}),(0,f.jsx)(p.Z,{events:y,loading:Z})]}),1===h&&(0,f.jsx)(T,{tenant:a||"",namespace:r||"",pvcName:l||"",propLoading:Z})]})]})}))},36314:(e,s,n)=>{n.d(s,{Z:()=>N});var t=n(63366),a=n(87462),l=n(72791),r=n(30831),o=n(82466),c=n(94419),i=n(21217),d=n(93457),u=n(86083),m=n(78519),x=n(85080),p=n(51184),h=n(45682),j=n(80184);const Z=["component","direction","spacing","divider","children","className","useFlexGap"],b=(0,x.Z)(),v=(0,d.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,s)=>s.root});function g(e){return(0,u.Z)({props:e,name:"MuiStack",defaultTheme:b})}function f(e,s){const n=l.Children.toArray(e).filter(Boolean);return n.reduce(((e,t,a)=>(e.push(t),a<n.length-1&&e.push(l.cloneElement(s,{key:"separator-".concat(a)})),e)),[])}const y=e=>{let{ownerState:s,theme:n}=e,t=(0,a.Z)({display:"flex",flexDirection:"column"},(0,p.k9)({theme:n},(0,p.P$)({values:s.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(s.spacing){const e=(0,h.hB)(n),a=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof s.spacing&&null!=s.spacing[n]||"object"===typeof s.direction&&null!=s.direction[n])&&(e[n]=!0),e)),{}),l=(0,p.P$)({values:s.direction,base:a}),r=(0,p.P$)({values:s.spacing,base:a});"object"===typeof l&&Object.keys(l).forEach(((e,s,n)=>{if(!l[e]){const t=s>0?l[n[s-1]]:"column";l[e]=t}}));const c=(n,t)=>{return s.useFlexGap?{gap:(0,h.NA)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((a=t?l[t]:s.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[a]))]:(0,h.NA)(e,n)}};var a};t=(0,o.Z)(t,(0,p.k9)({theme:n},r,c))}return t=(0,p.dt)(n.breakpoints,t),t};var k=n(66934),S=n(31402);const C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:s=v,useThemeProps:n=g,componentName:o="MuiStack"}=e,d=s(y),u=l.forwardRef((function(e,s){const l=n(e),u=(0,m.Z)(l),{component:x="div",direction:p="column",spacing:h=0,divider:b,children:v,className:g,useFlexGap:y=!1}=u,k=(0,t.Z)(u,Z),S={direction:p,spacing:h,useFlexGap:y},C=(0,c.Z)({root:["root"]},(e=>(0,i.Z)(o,e)),{});return(0,j.jsx)(d,(0,a.Z)({as:x,ownerState:S,ref:s,className:(0,r.Z)(C.root,g)},k,{children:b?f(v,b):v}))}));return u}({createStyledComponent:(0,k.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,s)=>s.root}),useThemeProps:e=>(0,S.Z)({props:e,name:"MuiStack"})}),N=C}}]);
//# sourceMappingURL=942.82cd3d7e.chunk.js.map
"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[873],{45902:function(e,n,t){var a=t(1413),s=(t(72791),t(53767)),r=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,i=e.value,o=void 0===i?"-":i,c=e.orientation,l=void 0===c?"column":c,d=e.stkProps,u=void 0===d?{}:d,x=e.lblProps,m=void 0===x?{}:x,h=e.valProps,p=void 0===h?{}:h;return(0,r.jsxs)(s.Z,(0,a.Z)((0,a.Z)({direction:{xs:"column",sm:l}},u),{},{children:[(0,r.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:600}},m),{},{children:t})),(0,r.jsx)("label",(0,a.Z)((0,a.Z)({style:{marginRight:5,fontWeight:500}},p),{},{children:o}))]}))}},5450:function(e,n,t){var a=t(29439),s=t(72791),r=t(57482),i=t(79836),o=t(53382),c=t(53994),l=t(56890),d=t(35855),u=t(64554),x=t(56125),m=t(20890),h=t(85172),p=t(95678),j=t(39281),f=t(35527),Z=t(80184),v=function(e){var n=e.event,t=s.useState(!1),r=(0,a.Z)(t,2),i=r[0],o=r[1];return(0,Z.jsxs)(s.Fragment,{children:[(0,Z.jsxs)(d.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,Z.jsx)(c.Z,{component:"th",scope:"row",onClick:function(){return o(!i)},children:n.event_type}),(0,Z.jsx)(c.Z,{onClick:function(){return o(!i)},children:n.reason}),(0,Z.jsx)(c.Z,{onClick:function(){return o(!i)},children:n.seen}),(0,Z.jsx)(c.Z,{onClick:function(){return o(!i)},children:n.message.length>=30?"".concat(n.message.slice(0,30),"..."):n.message}),(0,Z.jsx)(c.Z,{onClick:function(){return o(!i)},children:i?(0,Z.jsx)(p.Z,{}):(0,Z.jsx)(h.Z,{})})]}),(0,Z.jsx)(d.Z,{children:(0,Z.jsx)(c.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,Z.jsx)(x.Z,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,Z.jsx)(u.Z,{sx:{margin:1},children:(0,Z.jsx)(m.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:n.message})})})})})]})};n.Z=function(e){var n=e.events;return e.loading?(0,Z.jsx)(r.Z,{}):(0,Z.jsx)(j.Z,{component:f.Z,children:(0,Z.jsxs)(i.Z,{"aria-label":"collapsible table",children:[(0,Z.jsx)(l.Z,{children:(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(c.Z,{children:"Type"}),(0,Z.jsx)(c.Z,{children:"Reason"}),(0,Z.jsx)(c.Z,{children:"Age"}),(0,Z.jsx)(c.Z,{children:"Message"}),(0,Z.jsx)(c.Z,{})]})}),(0,Z.jsx)(o.Z,{children:n.map((function(e){return(0,Z.jsx)(v,{event:e},"".concat(e.event_type,"-").concat(e.seen))}))})]})})}},14873:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var a=t(29439),s=t(1413),r=t(72791),i=t(57689),o=t(11087),c=t(11135),l=t(25787),d=t(23814),u=t(61889),x=t(25228),m=t(43896),h=t(78687),p=t(98390),j=t(27391),f=t(35527),Z=t(63466),v=t(81207),b=t(59573),g=t(41320),y=t(87995),k=t(80184),C=(0,l.Z)((function(e){return(0,c.Z)((0,s.Z)((0,s.Z)({logList:{background:"#fff",minHeight:400,height:"calc(100vh - 304px)",overflow:"auto",fontSize:13,padding:"25px 45px 0",border:"1px solid #EAEDEE",borderRadius:4}},d.qg),{},{actionsTray:(0,s.Z)((0,s.Z)({},d.OR.actionsTray),{},{padding:"15px 0 0"}),logerror_tab:{color:"#A52A2A",paddingLeft:25},ansidefault:{color:"#000",lineHeight:"16px"},highlight:{"& span":{backgroundColor:"#082F5238"}}},d.Bz))}))((function(e){var n=e.classes,t=e.tenant,i=e.namespace,o=e.podName,c=e.propLoading,l=(0,g.TL)(),d=(0,h.v9)((function(e){return e.tenants.loadingTenant})),x=(0,r.useState)(""),m=(0,a.Z)(x,2),C=m[0],S=m[1],w=(0,r.useState)([]),L=(0,a.Z)(w,2),N=L[0],P=L[1],E=(0,r.useState)(!0),T=(0,a.Z)(E,2),F=T[0],I=T[1],B=new p.t1({minWidth:5,fixedHeight:!1});(0,r.useEffect)((function(){c&&I(!0)}),[c]),(0,r.useEffect)((function(){d&&I(!0)}),[d]);var A=function(e,t){if(!e)return null;var a=(e=e.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),s=""!==C&&e.toLowerCase().includes(C.toLowerCase());return a.startsWith("   ")?(0,k.jsx)("div",{className:"".concat(s?n.highlight:""),children:(0,k.jsx)("span",{className:n.tab,children:a})},t):(0,k.jsx)("div",{className:"".concat(s?n.highlight:""),children:(0,k.jsx)("span",{className:n.ansidefault,children:a})},t)};function R(e){var n=e.columnIndex,t=e.key,a=e.parent,r=e.index,i=e.style;return(0,k.jsx)(p.Z8,{cache:B,columnIndex:n,parent:a,rowIndex:r,children:(0,k.jsx)("div",{style:(0,s.Z)({},i),children:A(N[r],r)})},t)}return(0,r.useEffect)((function(){F&&v.Z.invoke("GET","/api/v1/namespaces/".concat(i,"/tenants/").concat(t,"/pods/").concat(o)).then((function(e){P(e.split("\n")),I(!1)})).catch((function(e){l((0,y.Ih)(e)),I(!1)}))}),[F,o,i,t,l]),(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:(0,k.jsx)(j.Z,{placeholder:"Highlight Line",className:n.searchField,id:"search-resource",label:"",onChange:function(e){S(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,k.jsx)(Z.Z,{position:"start",children:(0,k.jsx)(b.W1M,{})})},variant:"standard"})}),(0,k.jsx)(u.ZP,{item:!0,xs:12,children:(0,k.jsx)("br",{})}),(0,k.jsx)(u.ZP,{item:!0,xs:12,children:(0,k.jsx)(f.Z,{children:(0,k.jsx)("div",{className:n.logList,children:N.length>=1&&(0,k.jsx)(p.qj,{children:function(e){var n=e.width,t=e.height;return(0,k.jsx)(p.aV,{rowHeight:function(e){return B.rowHeight(e)},overscanRowCount:15,rowCount:N.length,rowRenderer:R,width:n,height:t})}})})})})]})})),S=t(45248),w=t(5450),L=function(e){var n=e.tenant,t=e.namespace,s=e.podName,i=e.propLoading,o=(0,g.TL)(),c=(0,h.v9)((function(e){return e.tenants.loadingTenant})),l=(0,r.useState)([]),d=(0,a.Z)(l,2),x=d[0],m=d[1],p=(0,r.useState)(!0),j=(0,a.Z)(p,2),f=j[0],Z=j[1];return(0,r.useEffect)((function(){i&&Z(!0)}),[i]),(0,r.useEffect)((function(){c&&Z(!0)}),[c]),(0,r.useEffect)((function(){f&&v.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(s,"/events")).then((function(e){for(var n=0;n<e.length;n++){var t=Date.now()/1e3|0;e[n].seen=(0,S.v1)((t-e[n].last_seen).toString())}m(e),Z(!1)})).catch((function(e){o((0,y.Ih)(e)),Z(!1)}))}),[f,s,t,n,o]),(0,k.jsx)(r.Fragment,{children:(0,k.jsx)(u.ZP,{item:!0,xs:12,children:(0,k.jsx)(w.Z,{events:x,loading:f})})})},N=t(64554),P=t(81918),E=t(79836),T=t(53382),F=t(53994),I=t(56890),B=t(35855),A=t(39281),R=t(45902),D={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},V=function(e){var n=e.title;return(0,k.jsx)(N.Z,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,k.jsx)("h3",{children:n})})},H=function(e){var n=e.describeInfo;return(0,k.jsx)(r.Fragment,{children:(0,k.jsxs)("div",{id:"pod-describe-summary-content",children:[(0,k.jsx)(V,{title:"Summary"}),(0,k.jsxs)(N.Z,{sx:(0,s.Z)({},D),children:[(0,k.jsx)(R.Z,{label:"Name",value:n.name}),(0,k.jsx)(R.Z,{label:"Namespace",value:n.namespace}),(0,k.jsx)(R.Z,{label:"Node",value:n.nodeName}),(0,k.jsx)(R.Z,{label:"Start time",value:n.startTime}),(0,k.jsx)(R.Z,{label:"Status",value:n.phase}),(0,k.jsx)(R.Z,{label:"QoS Class",value:n.qosClass}),(0,k.jsx)(R.Z,{label:"IP",value:n.podIP})]})]})})},M=function(e){var n=e.annotations;return(0,k.jsx)(r.Fragment,{children:(0,k.jsxs)("div",{id:"pod-describe-annotations-content",children:[(0,k.jsx)(V,{title:"Annotations"}),(0,k.jsx)(N.Z,{children:n.map((function(e,n){return(0,k.jsx)(P.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)}))})]})})},O=function(e){var n=e.labels;return(0,k.jsx)(r.Fragment,{children:(0,k.jsxs)("div",{id:"pod-describe-labels-content",children:[(0,k.jsx)(V,{title:"Labels"}),(0,k.jsx)(N.Z,{children:n.map((function(e,n){return(0,k.jsx)(P.Z,{style:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)}))})]})})},_=function(e){var n=e.conditions;return(0,k.jsx)("div",{id:"pod-describe-conditions-content",children:(0,k.jsx)(q,{title:"Conditions",columns:["type","status"],columnsLabels:["Type","Status"],items:n})})},W=function(e){var n=e.tolerations;return(0,k.jsx)("div",{id:"pod-describe-tolerations-content",children:(0,k.jsx)(q,{title:"Tolerations",columns:["effect","key","operator","tolerationSeconds"],columnsLabels:["Effect","Key","Operator","Seconds of toleration"],items:n})})},z=function(e){var n=e.volumes;return(0,k.jsx)(r.Fragment,{children:(0,k.jsx)("div",{id:"pod-describe-volumes-content",children:n.map((function(e,n){return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(V,{title:"Volume ".concat(e.name)}),(0,k.jsxs)(N.Z,{sx:(0,s.Z)({},D),children:[e.pvc&&(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(R.Z,{label:"Type",value:"Persistant Volume Claim"}),(0,k.jsx)(R.Z,{label:"Claim Name",value:e.pvc.claimName})]}),e.projected&&(0,k.jsx)(R.Z,{label:"Type",value:"Projected"})]})]},n)}))})})},q=function(e){var n=e.title,t=e.items,a=e.columns,s=e.columnsLabels;return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(V,{title:n}),(0,k.jsx)(N.Z,{children:(0,k.jsx)(A.Z,{component:f.Z,children:(0,k.jsxs)(E.Z,{"aria-label":"collapsible table",children:[(0,k.jsx)(I.Z,{children:(0,k.jsx)(B.Z,{children:s.map((function(e,n){return(0,k.jsx)(F.Z,{children:e},n)}))})}),(0,k.jsx)(T.Z,{children:t.map((function(e,n){return(0,k.jsx)(B.Z,{children:a.map((function(n,t){return(0,k.jsx)(F.Z,{children:e[n]},t)}))},n)}))})]})})})]})},G=function(e){var n=e.containers;return(0,k.jsx)(r.Fragment,{children:(0,k.jsx)("div",{id:"pod-describe-containers-content",children:n.map((function(e,n){var t,a;return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(V,{title:"Container ".concat(e.name)}),(0,k.jsxs)(N.Z,{style:{wordBreak:"break-all"},sx:(0,s.Z)({},D),children:[(0,k.jsx)(R.Z,{label:"Image",value:e.image}),(0,k.jsx)(R.Z,{label:"Ready",value:"".concat(e.ready)}),(0,k.jsx)(R.Z,{label:"Ports",value:e.ports.join(", ")}),(0,k.jsx)(R.Z,{label:"Host Ports",value:e.hostPorts.join(", ")}),(0,k.jsx)(R.Z,{label:"Arguments",value:e.args.join(", ")}),(0,k.jsx)(R.Z,{label:"Started",value:null===(t=e.state)||void 0===t?void 0:t.started}),(0,k.jsx)(R.Z,{label:"State",value:null===(a=e.state)||void 0===a?void 0:a.state})]}),(0,k.jsxs)(N.Z,{style:{wordBreak:"break-all"},sx:(0,s.Z)({},D),children:[(0,k.jsx)(R.Z,{label:"Image ID",value:e.imageID}),(0,k.jsx)(R.Z,{label:"Container ID",value:e.containerID})]}),(0,k.jsx)(q,{title:"Mounts",columns:["name","mountPath"],columnsLabels:["Name","Mount Path"],items:e.mounts}),(0,k.jsx)(q,{title:"Environment Variables",columns:["key","value"],columnsLabels:["Key","Value"],items:e.environmentVariables})]},n)}))})})},U=function(e){var n=e.tenant,t=e.namespace,s=e.podName,i=e.propLoading,o=(0,g.TL)(),c=(0,h.v9)((function(e){return e.tenants.loadingTenant})),l=(0,r.useState)(),d=(0,a.Z)(l,2),p=d[0],j=d[1],f=(0,r.useState)(!0),Z=(0,a.Z)(f,2),b=Z[0],C=Z[1],S=(0,r.useState)(0),w=(0,a.Z)(S,2),L=w[0],N=w[1];(0,r.useEffect)((function(){i&&C(!0)}),[i]),(0,r.useEffect)((function(){c&&C(!0)}),[c]),(0,r.useEffect)((function(){b&&v.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(s,"/describe")).then((function(e){var n=P(e);j(n),C(!1)})).catch((function(e){o((0,y.Ih)(e)),C(!1)}))}),[b,s,t,n,o]);var P=function(e){return e.containers=e.containers.map((function(e){return e.environmentVariables=e.environmentVariables.filter((function(e){return null!==e})),e})),e};return(0,k.jsx)(r.Fragment,{children:p&&(0,k.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,k.jsxs)(x.Z,{value:L,onChange:function(e,n){N(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(m.Z,{id:"pod-describe-summary",label:"Summary"}),(0,k.jsx)(m.Z,{id:"pod-describe-annotations",label:"Annotations"}),(0,k.jsx)(m.Z,{id:"pod-describe-labels",label:" Labels"}),(0,k.jsx)(m.Z,{id:"pod-describe-conditions",label:"Conditions"}),(0,k.jsx)(m.Z,{id:"pod-describe-tolerations",label:"Tolerations"}),(0,k.jsx)(m.Z,{id:"pod-describe-volumes",label:"Volumes"}),(0,k.jsx)(m.Z,{id:"pod-describe-containers",label:"Containers"})]}),function(e,n){switch(e){case 0:return(0,k.jsx)(H,{describeInfo:n});case 1:return(0,k.jsx)(M,{annotations:n.annotations});case 2:return(0,k.jsx)(O,{labels:n.labels});case 3:return(0,k.jsx)(_,{conditions:n.conditions});case 4:return(0,k.jsx)(W,{tolerations:n.tolerations});case 5:return(0,k.jsx)(z,{volumes:n.volumes});case 6:return(0,k.jsx)(G,{containers:n.containers})}}(L,p)]})})},$=(0,l.Z)((function(e){return(0,c.Z)((0,s.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},d.Bz))}))((function(e){var n=e.classes,t=(0,i.UO)(),c=t.tenantNamespace,l=t.tenantName,d=t.podName,h=(0,r.useState)(0),p=(0,a.Z)(h,2),j=p[0],f=p[1],Z=(0,r.useState)(!0),v=(0,a.Z)(Z,2),b=v[0],g=v[1];function y(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return(0,r.useEffect)((function(){b&&g(!1)}),[b]),(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(u.ZP,{item:!0,xs:12,children:(0,k.jsxs)("h1",{className:n.sectionTitle,children:[(0,k.jsx)(o.rU,{to:"/namespaces/".concat(c||"","/tenants/").concat(l||"","/pods"),className:n.breadcrumLink,children:"Pods"})," ","> ",d]})}),(0,k.jsxs)(u.ZP,{container:!0,children:[(0,k.jsx)(u.ZP,{item:!0,xs:9,children:(0,k.jsxs)(x.Z,{value:j,onChange:function(e,n){f(n)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(m.Z,(0,s.Z)({label:"Events"},y(0))),(0,k.jsx)(m.Z,(0,s.Z)({label:"Describe"},y(1))),(0,k.jsx)(m.Z,(0,s.Z)({label:"Logs"},y(2)))]})}),0===j&&(0,k.jsx)(L,{tenant:l||"",namespace:c||"",podName:d||"",propLoading:b}),1===j&&(0,k.jsx)(U,{tenant:l||"",namespace:c||"",podName:d||"",propLoading:b}),2===j&&(0,k.jsx)(C,{tenant:l||"",namespace:c||"",podName:d||"",propLoading:b})]})]})}))},53767:function(e,n,t){var a=t(4942),s=t(63366),r=t(87462),i=t(72791),o=t(51184),c=t(45682),l=t(78519),d=t(82466),u=t(66934),x=t(31402),m=t(80184),h=["component","direction","spacing","divider","children"];function p(e,n){var t=i.Children.toArray(e).filter(Boolean);return t.reduce((function(e,a,s){return e.push(a),s<t.length-1&&e.push(i.cloneElement(n,{key:"separator-".concat(s)})),e}),[])}var j=(0,u.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,t=e.theme,s=(0,r.Z)({display:"flex",flexDirection:"column"},(0,o.k9)({theme:t},(0,o.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var i=(0,c.hB)(t),l=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),u=(0,o.P$)({values:n.direction,base:l}),x=(0,o.P$)({values:n.spacing,base:l});"object"===typeof u&&Object.keys(u).forEach((function(e,n,t){if(!u[e]){var a=n>0?u[t[n-1]]:"column";u[e]=a}}));s=(0,d.Z)(s,(0,o.k9)({theme:t},x,(function(e,t){return{"& > :not(style) + :not(style)":(0,a.Z)({margin:0},"margin".concat((s=t?u[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[s])),(0,c.NA)(i,e))};var s})))}return s=(0,o.dt)(t.breakpoints,s)})),f=i.forwardRef((function(e,n){var t=(0,x.Z)({props:e,name:"MuiStack"}),a=(0,l.Z)(t),i=a.component,o=void 0===i?"div":i,c=a.direction,d=void 0===c?"column":c,u=a.spacing,f=void 0===u?0:u,Z=a.divider,v=a.children,b=(0,s.Z)(a,h),g={direction:d,spacing:f};return(0,m.jsx)(j,(0,r.Z)({as:o,ownerState:g,ref:n},b,{children:Z?p(v,Z):v}))}));n.Z=f}}]);
//# sourceMappingURL=873.0fff6407.chunk.js.map
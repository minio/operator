"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[292],{37798:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(72791),i=n(26181),s=n.n(i),r=n(75952),l=n(11135),o=n(25787),c=n(56028),d=n(61889),m=n(28029),u=n(63466),p=n(78029),x=n.n(p),h=n(23814),g=n(27454),v=n(80184);const f=(0,o.Z)((e=>(0,l.Z)({container:{display:"flex",flexFlow:"column",padding:"20px 0 8px 0"},inputWithCopy:{"& .MuiInputBase-root ":{width:"100%",background:"#FBFAFA","& .MuiInputBase-input":{height:".8rem"},"& .MuiInputAdornment-positionEnd":{marginRight:".5rem","& .MuiButtonBase-root":{height:"2rem"}}},"& .MuiButtonBase-root .min-icon":{width:".8rem",height:".8rem"}},inputLabel:{...h.YI.inputLabel,fontSize:".8rem"}})))((e=>{let{label:t="",value:n="",classes:a={}}=e;return(0,v.jsxs)("div",{className:a.container,children:[(0,v.jsxs)("div",{className:a.inputLabel,children:[t,":"]}),(0,v.jsx)("div",{className:a.inputWithCopy,children:(0,v.jsx)(m.Z,{value:n,readOnly:!0,endAdornment:(0,v.jsx)(u.Z,{position:"end",children:(0,v.jsx)(g.Z,{tooltip:"Copy",children:(0,v.jsx)(x(),{text:n,children:(0,v.jsx)(r.zxk,{id:"copy-clipboard","aria-label":"copy",onClick:()=>{},onMouseDown:()=>{},style:{width:"28px",height:"28px",padding:"0px"},icon:(0,v.jsx)(r.TIy,{})})})})})})})]})})),y=(e,t)=>{let n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+t),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},j=(0,o.Z)((e=>(0,l.Z)({warningBlock:{color:"red",fontSize:".85rem",margin:".5rem 0 .5rem 0",display:"flex",alignItems:"center","& svg ":{marginRight:".3rem",height:16,width:16}},credentialTitle:{padding:".8rem 0 0 0",fontWeight:600,fontSize:".9rem"},buttonContainer:{display:"flex",justifyContent:"flex-end",marginTop:"1rem"},credentialsPanel:{overflowY:"auto",maxHeight:350},promptTitle:{display:"flex",alignItems:"center"},buttonSpacer:{marginRight:".9rem"}})))((e=>{let{classes:t,newServiceAccount:n,open:i,closeModal:l,entity:o}=e;if(!n)return null;const m=s()(n,"console",null),u=s()(n,"idp",!1);return(0,v.jsx)(c.Z,{modalOpen:i,onClose:()=>{l()},title:(0,v.jsx)("div",{className:t.promptTitle,children:(0,v.jsxs)("div",{children:["New ",o," Created"]})}),titleIcon:(0,v.jsx)(r.tVY,{}),children:(0,v.jsxs)(d.ZP,{container:!0,children:[(0,v.jsxs)(d.ZP,{item:!0,xs:12,className:t.formScrollable,children:["A new ",o," has been created with the following details:",!u&&m&&(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(d.ZP,{item:!0,xs:12,className:t.credentialsPanel,children:[(0,v.jsx)("div",{className:t.credentialTitle,children:"Console Credentials"}),Array.isArray(m)&&m.map(((e,t)=>(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f,{label:"Access Key",value:e.accessKey}),(0,v.jsx)(f,{label:"Secret Key",value:e.secretKey})]}))),!Array.isArray(m)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f,{label:"Access Key",value:m.accessKey}),(0,v.jsx)(f,{label:"Secret Key",value:m.secretKey})]})]})}),(null===m||void 0===m)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f,{label:"Access Key",value:n.accessKey||""}),(0,v.jsx)(f,{label:"Secret Key",value:n.secretKey||""})]}),u?(0,v.jsx)("div",{className:t.warningBlock,children:"Please Login via the configured external identity provider."}):(0,v.jsxs)("div",{className:t.warningBlock,children:[(0,v.jsx)(r.e6P,{}),(0,v.jsx)("span",{children:"Write these down, as this is the only time the secret will be displayed."})]})]}),(0,v.jsx)(d.ZP,{item:!0,xs:12,className:t.buttonContainer,children:!u&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(g.Z,{tooltip:"Download credentials in a JSON file formatted for import using mc alias import. This will only include the default login credentials.",children:(0,v.jsx)(r.zxk,{id:"download-button",label:"Download for import",className:t.buttonSpacer,onClick:()=>{let e={};if(m)if(Array.isArray(m)){e=m.map((e=>({url:e.url,accessKey:e.accessKey,secretKey:e.secretKey,api:"s3v4",path:"auto"})))[0]}else e={url:m.url,accessKey:m.accessKey,secretKey:m.secretKey,api:"s3v4",path:"auto"};else e={url:n.url,accessKey:n.accessKey,secretKey:n.secretKey,api:"s3v4",path:"auto"};y("credentials.json",JSON.stringify({...e}))},icon:(0,v.jsx)(r._8t,{}),variant:"callAction"})}),Array.isArray(m)&&m.length>1&&(0,v.jsx)(g.Z,{tooltip:"Download all access credentials to a JSON file. NOTE: This file is not formatted for import using mc alias import. If you plan to import this alias from the file, please use the Download for Import button. ",children:(0,v.jsx)(r.zxk,{id:"download-all-button",label:"Download all access credentials",className:t.buttonSpacer,onClick:()=>{let e={};if(m&&Array.isArray(m)&&m.length>1){e=m.map((e=>({accessKey:e.accessKey,secretKey:e.secretKey})))}y("all_credentials.json",JSON.stringify({...e}))},icon:(0,v.jsx)(r._8t,{}),variant:"callAction",color:"primary"})})]})})]})})}))},92217:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(72791),i=n(61889),s=n(30829),r=n(96040),l=n(64554),o=n(11135),c=n(25787),d=n(75952),m=n(23814),u=n(78029),p=n.n(u),x=n(14910),h=n(27454),g=n(80184);const v=(0,c.Z)((e=>(0,o.Z)({...m.YI})))((e=>{let{value:t,label:n="",tooltip:o="",mode:c="json",classes:m,onBeforeChange:u,readOnly:v=!1,editorHeight:f="250px"}=e;return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(i.ZP,{item:!0,xs:12,sx:{marginBottom:"10px"},children:(0,g.jsxs)(s.Z,{className:m.inputLabel,children:[(0,g.jsx)("span",{children:n}),""!==o&&(0,g.jsx)("div",{className:m.tooltipContainer,children:(0,g.jsx)(r.Z,{title:o,placement:"top-start",children:(0,g.jsx)("div",{className:m.tooltip,children:(0,g.jsx)(d.byK,{})})})})]})}),(0,g.jsx)(i.ZP,{item:!0,xs:12,style:{maxHeight:f,overflow:"auto",border:"1px solid #eaeaea"},children:(0,g.jsx)(x.Z,{value:t,language:c,onChange:e=>{u(null,null,e.target.value)},id:"code_wrapper",padding:15,style:{fontSize:12,backgroundColor:"#fefefe",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace",minHeight:f||"initial",color:"#000000"}})}),(0,g.jsx)(i.ZP,{item:!0,xs:12,sx:{background:"#f7f7f7",border:"1px solid #eaeaea",borderTop:0},children:(0,g.jsx)(l.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:(0,g.jsx)(h.Z,{tooltip:"Copy to Clipboard",children:(0,g.jsx)(p(),{text:t,children:(0,g.jsx)(d.zxk,{type:"button",id:"copy-code-mirror",icon:(0,g.jsx)(d.TIy,{}),color:"primary",variant:"regular"})})})})})]})}))},54639:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(72791),i=n(26181),s=n.n(i),r=n(61889),l=n(30829),o=n(96040),c=n(13400),d=n(99663),m=n(86711),u=n(11135),p=n(25787),x=n(23814);var h=n(75952),g=n(22512),v=n(80184);const f=(0,p.Z)((e=>(0,u.Z)({...x.YI,...x.Hr,valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}},...x.bV,inputLabel:{...x.YI.inputLabel,fontWeight:"normal"},textBoxContainer:{...x.YI.textBoxContainer,maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"}})))((e=>{let{label:t,classes:n,onChange:i,id:u,name:p,disabled:x=!1,tooltip:f="",required:y,error:j="",accept:b="",value:Z=""}=e;const[C,N]=(0,a.useState)(!1);return(0,v.jsx)(a.Fragment,{children:(0,v.jsxs)(r.ZP,{item:!0,xs:12,className:"".concat(n.fileInputField," ").concat(n.fieldBottom," ").concat(n.fieldContainer," ").concat(""!==j?n.errorInField:""),children:[""!==t&&(0,v.jsxs)(l.Z,{htmlFor:u,className:"".concat(""!==j?n.fieldLabelError:""," ").concat(n.inputLabel),children:[(0,v.jsxs)("span",{children:[t,y?"*":""]}),""!==f&&(0,v.jsx)("div",{className:n.tooltipContainer,children:(0,v.jsx)(o.Z,{title:f,placement:"top-start",children:(0,v.jsx)("div",{className:n.tooltip,children:(0,v.jsx)(h.byK,{})})})})]}),C||""===Z?(0,v.jsxs)("div",{className:n.textBoxContainer,children:[(0,v.jsx)("input",{type:"file",name:p,onChange:e=>{const t=s()(e,"target.files[0].name","");((e,t)=>{const n=e.target.files[0],a=new FileReader;a.readAsDataURL(n),a.onload=()=>{const e=a.result;if(e){const n=e.toString().split("base64,");2===n.length&&t(n[1])}}})(e,(e=>{i(e,t)}))},accept:b,required:y,disabled:x,className:n.fileInputField}),""!==Z&&(0,v.jsx)(c.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>{N(!1)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,v.jsx)(m.Z,{})}),""!==j&&(0,v.jsx)(g.Z,{errorMessage:j})]}):(0,v.jsxs)("div",{className:n.fileReselect,children:[(0,v.jsx)("div",{className:n.valueString,children:Z}),(0,v.jsx)(c.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>{N(!0)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,v.jsx)(d.Z,{})})]})]})})}))},13871:(e,t,n)=>{n.d(t,{Z:()=>s});var a,i=n(30168);const s=(0,n(26088).Z)("hr")(a||(a=(0,i.Z)(["\n  border-top: 0;\n  border-left: 0;\n  border-right: 0;\n  border-color: #999999;\n  background-color: transparent;\n"])))},56028:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(72791),i=n(78687),s=n(13400),r=n(48888),l=n(5289),o=n(65661),c=n(39157),d=n(11135),m=n(25787),u=n(23814),p=n(41320),x=n(29823),h=n(86352),g=n(87995),v=n(80184);const f=(0,m.Z)((e=>(0,d.Z)({...u.Qw,content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765},...u.sN})))((e=>{let{onClose:t,modalOpen:n,title:d,children:m,classes:u,wideLimit:f=!0,noContentPadding:y,titleIcon:j=null}=e;const b=(0,p.TL)(),[Z,C]=(0,a.useState)(!1),N=(0,i.v9)((e=>e.system.modalSnackBar));(0,a.useEffect)((()=>{b((0,g.MK)(""))}),[b]),(0,a.useEffect)((()=>{if(N){if(""===N.message)return void C(!1);"error"!==N.type&&C(!0)}}),[N]);const S=f?{classes:{paper:u.customDialogSize}}:{maxWidth:"lg",fullWidth:!0};let _="";return N&&(_=N.detailedErrorMsg,(""===N.detailedErrorMsg||N.detailedErrorMsg.length<5)&&(_=N.message)),(0,v.jsxs)(l.Z,{open:n,classes:u,...S,scroll:"paper",onClose:(e,n)=>{"backdropClick"!==n&&t()},className:u.root,children:[(0,v.jsxs)(o.Z,{className:u.title,children:[(0,v.jsxs)("div",{className:u.titleText,children:[j," ",d]}),(0,v.jsx)("div",{className:u.closeContainer,children:(0,v.jsx)(s.Z,{"aria-label":"close",id:"close",className:u.closeButton,onClick:t,disableRipple:!0,size:"small",children:(0,v.jsx)(x.Z,{})})})]}),(0,v.jsx)(h.Z,{isModal:!0}),(0,v.jsx)(r.Z,{open:Z,className:u.snackBarModal,onClose:()=>{C(!1),b((0,g.MK)(""))},message:_,ContentProps:{className:"".concat(u.snackBar," ").concat(N&&"error"===N.type?u.errorSnackBar:"")},autoHideDuration:N&&"error"===N.type?1e4:5e3}),(0,v.jsx)(c.Z,{className:y?"":u.content,children:m})]})}))},27454:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(72791),i=n(96040),s=n(80184);const r=e=>{let{tooltip:t,children:n,errorProps:r=null,placement:l}=e;return(0,s.jsx)(i.Z,{title:t,placement:l,children:(0,s.jsx)("span",{children:r?(0,a.cloneElement)(n,{...r}):n})})}},80505:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ge});var a=n(72791),i=n(26181),s=n.n(i),r=n(78687),l=n(61889),o=n(57482),c=n(11135),d=n(23814),m=n(28371),u=n(41320),p=n(25787),x=n(35527),h=n(13400),g=n(94721),v=n(84741),f=n(40968),y=n(37516),j=n(21435),b=n(42419),Z=n(75952),C=n(76773),N=n(90673),S=n(80007),_=n(80184);const T=(0,p.Z)((e=>(0,c.Z)({configSectionItem:{marginRight:15,marginBottom:15,"& .multiContainer":{border:"1px solid red"}},tenantCustomizationFields:{marginLeft:30,width:"88%",margin:"auto"},containerItem:{marginRight:15},fieldGroup:{...d.QV.fieldGroup,paddingTop:15,marginBottom:25},responsiveSectionItem:{"@media (max-width: 900px)":{flexFlow:"column",alignItems:"flex-start","& div > div":{marginBottom:5,marginRight:0}}},wrapperContainer:{display:"flex",marginBottom:15},envVarRow:{display:"flex",alignItems:"center",justifyContent:"flex-start","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1,"& div label":{minWidth:50}}},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}},rowActions:{display:"flex",justifyContent:"flex-end","@media (max-width: 900px)":{flex:1}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},...d.oO,...d.AK,...d.DF})))((e=>{let{classes:t}=e;const n=(0,u.TL)(),i=(0,r.v9)((e=>e.createTenant.fields.configure.exposeMinIO)),s=(0,r.v9)((e=>e.createTenant.fields.configure.exposeConsole)),o=(0,r.v9)((e=>e.createTenant.fields.configure.exposeSFTP)),c=(0,r.v9)((e=>e.createTenant.fields.configure.setDomains)),d=(0,r.v9)((e=>e.createTenant.fields.configure.consoleDomain)),m=(0,r.v9)((e=>e.createTenant.fields.configure.minioDomains)),p=(0,r.v9)((e=>e.createTenant.fields.configure.tenantCustom)),T=(0,r.v9)((e=>e.createTenant.fields.configure.envVars)),A=(0,r.v9)((e=>e.createTenant.fields.configure.tenantSecurityContext)),k=(0,r.v9)((e=>e.createTenant.fields.configure.customRuntime)),w=(0,r.v9)((e=>e.createTenant.fields.configure.runtimeClassName)),[P,I]=(0,a.useState)({}),R=(0,a.useCallback)(((e,t)=>{n((0,C.HM)({pageName:"configure",field:e,value:t}))}),[n]);(0,a.useEffect)((()=>{let e=[];if(p&&(e=[{fieldKey:"tenant_securityContext_runAsUser",required:!0,value:A.runAsUser,customValidation:""===A.runAsUser||parseInt(A.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"tenant_securityContext_runAsGroup",required:!0,value:A.runAsGroup,customValidation:""===A.runAsGroup||parseInt(A.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"tenant_securityContext_fsGroup",required:!0,value:A.fsGroup,customValidation:""===A.fsGroup||parseInt(A.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]),c){const t=m.map(((e,t)=>({fieldKey:"minio-domain-".concat(t.toString()),required:!1,value:e,pattern:/^(https?):\/\/([a-zA-Z0-9\-.]+)(:[0-9]+)?$/,customPatternMessage:"MinIO domain is not in the form of http|https://subdomain.domain"})));e=[...e,...t,{fieldKey:"console_domain",required:!1,value:d,pattern:/^(https?):\/\/([a-zA-Z0-9\-.]+)(:[0-9]+)?(\/[a-zA-Z0-9\-./]*)?$/,customPatternMessage:"Console domain is not in the form of http|https://subdomain.domain:port/subpath1/subpath2"}]}const t=(0,f.R)(e);n((0,C.NO)({pageName:"configure",valid:0===Object.keys(t).length})),I(t)}),[n,p,A,c,d,m]);const D=e=>{I((0,v.h)(P,e))};return(0,_.jsxs)(x.Z,{className:t.paperWrapper,children:[(0,_.jsxs)("div",{className:t.headerElement,children:[(0,_.jsx)(S.Z,{children:"Configure"}),(0,_.jsx)("span",{className:t.descriptionText,children:"Basic configurations for tenant management"})]}),(0,_.jsxs)("div",{className:t.headerElement,children:[(0,_.jsx)("h4",{className:t.h3Section,children:"Services"}),(0,_.jsx)("span",{className:t.descriptionText,children:"Whether the tenant's services should request an external IP via LoadBalancer service type."})]}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,_.jsx)(y.Z,{value:"expose_minio",id:"expose_minio",name:"expose_minio",checked:i,onChange:e=>{const t=e.target.checked;R("exposeMinIO",t)},label:"Expose MinIO Service"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,_.jsx)(y.Z,{value:"expose_console",id:"expose_console",name:"expose_console",checked:s,onChange:e=>{const t=e.target.checked;R("exposeConsole",t)},label:"Expose Console Service"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,_.jsx)(y.Z,{value:"expose_sftp",id:"expose_sftp",name:"expose_sftp",checked:o,onChange:e=>{const t=e.target.checked;R("exposeSFTP",t)},label:"Expose SFTP Service"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,_.jsx)(y.Z,{value:"custom_domains",id:"custom_domains",name:"custom_domains",checked:c,onChange:e=>{const t=e.target.checked;R("setDomains",t)},label:"Set Custom Domains"})}),c&&(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.tenantCustomizationFields,children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"Custom Domains for MinIO"}),(0,_.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(t.configSectionItem),children:[(0,_.jsx)("div",{className:t.containerItem,children:(0,_.jsx)(j.Z,{id:"console_domain",name:"console_domain",onChange:e=>{R("consoleDomain",e.target.value),D("tenant_securityContext_runAsUser")},label:"Console Domain",value:d,placeholder:"Eg. http://subdomain.domain:port/subpath1/subpath2",error:P.console_domain||""})}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h4",{children:"MinIO Domains"}),(0,_.jsx)("div",{className:"".concat(t.responsiveSectionItem),children:m.map(((e,a)=>(0,_.jsxs)("div",{className:"".concat(t.containerItem," ").concat(t.wrapperContainer),children:[(0,_.jsx)(j.Z,{id:"minio-domain-".concat(a.toString()),name:"minio-domain-".concat(a.toString()),onChange:e=>{((e,t)=>{const n=[...m];n[t]=e,R("minioDomains",n)})(e.target.value,a)},label:"MinIO Domain ".concat(a+1),value:e,placeholder:"Eg. http://subdomain.domain",error:P["minio-domain-".concat(a.toString())]||""}),(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>n((0,C.x_)()),disabled:a!==m.length-1,children:(0,_.jsx)(b.Z,{})})}),(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>n((0,C.JL)(a)),disabled:m.length<=1,children:(0,_.jsx)(Z.HFL,{})})})]},"minio-domain-key-".concat(a.toString()))))})]})]})]})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,_.jsx)(y.Z,{value:"tenantConfig",id:"tenant_configuration",name:"tenant_configuration",checked:p,onChange:e=>{const t=e.target.checked;R("tenantCustom",t)},label:"Security Context"})}),p&&(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.tenantCustomizationFields,children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"SecurityContext for MinIO"}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:"".concat(t.configSectionItem),children:(0,_.jsxs)("div",{className:"".concat(t.multiContainer," ").concat(t.responsiveSectionItem),children:[(0,_.jsx)("div",{className:t.containerItem,children:(0,_.jsx)(j.Z,{type:"number",id:"tenant_securityContext_runAsUser",name:"tenant_securityContext_runAsUser",onChange:e=>{R("tenantSecurityContext",{...A,runAsUser:e.target.value}),D("tenant_securityContext_runAsUser")},label:"Run As User",value:A.runAsUser,required:!0,error:P.tenant_securityContext_runAsUser||"",min:"0"})}),(0,_.jsx)("div",{className:t.containerItem,children:(0,_.jsx)(j.Z,{type:"number",id:"tenant_securityContext_runAsGroup",name:"tenant_securityContext_runAsGroup",onChange:e=>{R("tenantSecurityContext",{...A,runAsGroup:e.target.value}),D("tenant_securityContext_runAsGroup")},label:"Run As Group",value:A.runAsGroup,required:!0,error:P.tenant_securityContext_runAsGroup||"",min:"0"})})]})}),(0,_.jsx)("br",{}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:"".concat(t.configSectionItem),children:(0,_.jsxs)("div",{className:"".concat(t.multiContainer," ").concat(t.responsiveSectionItem),children:[(0,_.jsx)("div",{className:t.containerItem,children:(0,_.jsx)(j.Z,{type:"number",id:"tenant_securityContext_fsGroup",name:"tenant_securityContext_fsGroup",onChange:e=>{R("tenantSecurityContext",{...A,fsGroup:e.target.value}),D("tenant_securityContext_fsGroup")},label:"FsGroup",value:A.fsGroup,required:!0,error:P.tenant_securityContext_fsGroup||"",min:"0"})}),(0,_.jsx)("div",{className:t.containerItem,children:(0,_.jsx)("div",{className:t.configSectionItem,children:(0,_.jsx)(N.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",value:A.fsGroupChangePolicy,onChange:e=>{R("tenantSecurityContext",{...A,fsGroupChangePolicy:e.target.value})},options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})})]})}),(0,_.jsx)("br",{}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,_.jsx)("div",{className:t.multiContainer,children:(0,_.jsx)(y.Z,{value:"tenantSecurityContextRunAsNonRoot",id:"tenant_securityContext_runAsNonRoot",name:"tenant_securityContext_runAsNonRoot",checked:A.runAsNonRoot,onChange:e=>{const t=e.target.checked;R("tenantSecurityContext",{...A,runAsNonRoot:t})},label:"Do not run as Root"})})})]})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.configSectionItem,children:(0,_.jsx)(y.Z,{value:"customRuntime",id:"tenant_custom_runtime",name:"tenant_custom_runtime",checked:k,onChange:e=>{const t=e.target.checked;R("customRuntime",t)},label:"Custom Runtime Configurations"})}),k&&(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.tenantCustomizationFields,children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"Custom Runtime Configurations"}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:"".concat(t.configSectionItem),children:(0,_.jsx)("div",{className:t.containerItem,children:(0,_.jsx)(j.Z,{id:"tenant_runtime_runtimeClassName",name:"tenant_runtime_runtimeClassName",onChange:e=>{R("runtimeClassName",e.target.value),D("tenant_runtime_runtimeClassName")},label:"Runtime Class Name",value:w,error:P.tenant_runtime_runtimeClassName||""})})})]})}),(0,_.jsx)(g.Z,{}),(0,_.jsxs)("div",{className:t.headerElement,children:[(0,_.jsx)(S.Z,{children:"Additional Environment Variables"}),(0,_.jsx)("span",{className:t.descriptionText,children:"Define additional environment variables to be used by your MinIO pods"})]}),(0,_.jsx)(l.ZP,{container:!0,children:T.map(((e,a)=>(0,_.jsxs)(l.ZP,{item:!0,xs:12,className:"".concat(t.formFieldRow," ").concat(t.envVarRow),children:[(0,_.jsx)(l.ZP,{item:!0,xs:5,className:t.fileItem,children:(0,_.jsx)(j.Z,{id:"env_var_key",name:"env_var_key",label:"Key",value:e.key,onChange:e=>{const t=[...T];n((0,C.Ct)(t.map(((t,n)=>n===a?{key:e.target.value,value:t.value}:t))))},index:a},"env_var_key_".concat(a.toString()))}),(0,_.jsx)(l.ZP,{item:!0,xs:5,className:t.fileItem,children:(0,_.jsx)(j.Z,{id:"env_var_value",name:"env_var_value",label:"Value",value:e.value,onChange:e=>{const t=[...T];n((0,C.Ct)(t.map(((t,n)=>n===a?{key:t.key,value:e.target.value}:t))))},index:a},"env_var_value_".concat(a.toString()))}),(0,_.jsxs)(l.ZP,{item:!0,xs:2,className:t.rowActions,children:[(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{const e=[...T];e.push({key:"",value:""}),n((0,C.Ct)(e))},disabled:a!==T.length-1,children:(0,_.jsx)(b.Z,{})})}),(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{const e=T.filter(((e,t)=>t!==a));n((0,C.Ct)(e))},disabled:T.length<=1,children:(0,_.jsx)(Z.HFL,{})})})]})]},"tenant-envVar-".concat(a.toString()))))})]})}));var A=n(83679),k=n(20890),w=n(96040),P=n(72455),I=n(27247);const R=(0,P.Z)((e=>(0,c.Z)({adUserDnRows:{display:"flex",marginBottom:10},buttonTray:{marginLeft:10,display:"flex",height:38,"& button":{background:"#EAEAEA"}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},...d.QV,...d.DF,...d.oO,...d.AK}))),D=()=>{const e=(0,u.TL)(),t=R(),n=(0,r.v9)((e=>e.createTenant.fields.identityProvider.idpSelection)),i=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADURL)),s=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADSkipTLS)),o=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADServerInsecure)),c=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADGroupSearchBaseDN)),d=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADGroupSearchFilter)),m=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADUserDNs)),p=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADGroupDNs)),x=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADLookupBindDN)),g=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADLookupBindPassword)),Z=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADUserDNSearchBaseDN)),N=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADUserDNSearchFilter)),S=(0,r.v9)((e=>e.createTenant.fields.identityProvider.ADServerStartTLS)),[T,A]=(0,a.useState)({}),P=(0,a.useCallback)(((t,n)=>{e((0,C.HM)({pageName:"identityProvider",field:t,value:n}))}),[e]),D=e=>{A((0,v.h)(T,e))};return(0,a.useEffect)((()=>{let t=[];"AD"===n&&(t=[...t,{fieldKey:"AD_URL",required:!0,value:i},{fieldKey:"ad_lookupBindDN",required:!0,value:x}]);const a=(0,f.R)(t);e((0,C.NO)({pageName:"identityProvider",valid:0===Object.keys(a).length})),A(a)}),[x,n,i,c,d,m,p,e]),(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"AD_URL",name:"AD_URL",onChange:e=>{P("ADURL",e.target.value),D("AD_URL")},label:"LDAP Server Address",value:i,placeholder:"ldap-server:636",error:T.AD_URL||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(y.Z,{value:"ad_skipTLS",id:"ad_skipTLS",name:"ad_skipTLS",checked:s,onChange:e=>{const t=e.target.checked;P("ADSkipTLS",t)},label:"Skip TLS Verification"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(y.Z,{value:"ad_serverInsecure",id:"ad_serverInsecure",name:"ad_serverInsecure",checked:o,onChange:e=>{const t=e.target.checked;P("ADServerInsecure",t)},label:"Server Insecure"})}),o?(0,_.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,_.jsx)(k.Z,{className:t.error,variant:"caption",display:"block",gutterBottom:!0,children:"Warning: All traffic with Active Directory will be unencrypted"}),(0,_.jsx)("br",{})]}):null,(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(y.Z,{value:"ad_serverStartTLS",id:"ad_serverStartTLS",name:"ad_serverStartTLS",checked:S,onChange:e=>{const t=e.target.checked;P("ADServerStartTLS",t)},label:"Start TLS connection to AD/LDAP server"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"ad_lookupBindDN",name:"ad_lookupBindDN",onChange:e=>{P("ADLookupBindDN",e.target.value),D("ad_lookupBindDN")},label:"Lookup Bind DN",value:x,placeholder:"cn=admin,dc=min,dc=io",error:T.ad_lookupBindDN||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"ad_lookupBindPassword",name:"ad_lookupBindPassword",onChange:e=>{P("ADLookupBindPassword",e.target.value)},label:"Lookup Bind Password",value:g,placeholder:"admin"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"ad_userDNSearchBaseDN",name:"ad_userDNSearchBaseDN",onChange:e=>{P("ADUserDNSearchBaseDN",e.target.value)},label:"User DN Search Base DN",value:Z,placeholder:"dc=min,dc=io"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"ad_userDNSearchFilter",name:"ad_userDNSearchFilter",onChange:e=>{P("ADUserDNSearchFilter",e.target.value)},label:"User DN Search Filter",value:N,placeholder:"(sAMAcountName=%s)"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"ad_groupSearchBaseDN",name:"ad_groupSearchBaseDN",onChange:e=>{P("ADGroupSearchBaseDN",e.target.value)},label:"Group Search Base DN",value:c,placeholder:"ou=hwengg,dc=min,dc=io;ou=swengg,dc=min,dc=io"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"ad_groupSearchFilter",name:"ad_groupSearchFilter",onChange:e=>{P("ADGroupSearchFilter",e.target.value)},label:"Group Search Filter",value:d,placeholder:"(&(objectclass=groupOfNames)(member=%s))"})}),(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"List of user DNs (Distinguished Names) to be Tenant Administrators"}),(0,_.jsx)(l.ZP,{item:!0,xs:12,children:m.map(((n,i)=>(0,_.jsx)(a.Fragment,{children:(0,_.jsxs)("div",{className:t.adUserDnRows,children:[(0,_.jsx)(j.Z,{id:"ad-userdn-".concat(i.toString()),label:"",placeholder:"",name:"ad-userdn-".concat(i.toString()),value:m[i],onChange:t=>{e((0,C.hK)({index:i,userDN:t.target.value})),D("ad-userdn-".concat(i.toString()))},index:i,error:T["ad-userdn-".concat(i.toString())]||""},"csv-ad-userdn-".concat(i.toString())),(0,_.jsxs)("div",{className:t.buttonTray,children:[(0,_.jsx)(w.Z,{title:"Add User","aria-label":"add",children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{e((0,C.Y$)())},children:(0,_.jsx)(b.Z,{})})}),(0,_.jsx)(w.Z,{title:"Remove","aria-label":"add",children:(0,_.jsx)(h.Z,{size:"small",style:{marginLeft:16},onClick:()=>{m.length>1&&e((0,C.GU)(i))},children:(0,_.jsx)(I.Z,{})})})]})]})},"identityField-".concat(i.toString()))))})]}),(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"List of group DNs (Distinguished Names) to be Tenant Administrators"}),(0,_.jsx)(l.ZP,{item:!0,xs:12,children:p.map(((n,i)=>(0,_.jsx)(a.Fragment,{children:(0,_.jsxs)("div",{className:t.adUserDnRows,children:[(0,_.jsx)(j.Z,{id:"ad-groupdn-".concat(i.toString()),label:"",placeholder:"",name:"ad-groupdn-".concat(i.toString()),value:p[i],onChange:t=>{e((0,C.in)({index:i,userDN:t.target.value})),D("ad-groupdn-".concat(i.toString()))},index:i,error:T["ad-groupdn-".concat(i.toString())]||""},"csv-ad-groupdn-".concat(i.toString())),(0,_.jsxs)("div",{className:t.buttonTray,children:[(0,_.jsx)(w.Z,{title:"Add Group","aria-label":"add",children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{e((0,C.Fe)())},children:(0,_.jsx)(b.Z,{})})}),(0,_.jsx)(w.Z,{title:"Remove","aria-label":"add",children:(0,_.jsx)(h.Z,{size:"small",style:{marginLeft:16},onClick:()=>{p.length>1&&e((0,C.Hu)(i))},children:(0,_.jsx)(I.Z,{})})})]})]})},"identityField-".concat(i.toString()))))})]})]})},F=(0,P.Z)((e=>(0,c.Z)({buttonTray:{marginLeft:10,display:"flex",height:38,"& button":{background:"#EAEAEA"}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},...d.QV,...d.DF,...d.oO,...d.AK}))),K=()=>{const e=(0,u.TL)(),t=F(),n=(0,r.v9)((e=>e.createTenant.fields.identityProvider.idpSelection)),i=(0,r.v9)((e=>e.createTenant.fields.identityProvider.openIDConfigurationURL)),s=(0,r.v9)((e=>e.createTenant.fields.identityProvider.openIDClientID)),o=(0,r.v9)((e=>e.createTenant.fields.identityProvider.openIDSecretID)),c=(0,r.v9)((e=>e.createTenant.fields.identityProvider.openIDClaimName)),d=(0,r.v9)((e=>e.createTenant.fields.identityProvider.openIDScopes)),[m,p]=(0,a.useState)({}),x=(0,a.useCallback)(((t,n)=>{e((0,C.HM)({pageName:"identityProvider",field:t,value:n}))}),[e]),h=e=>{p((0,v.h)(m,e))};return(0,a.useEffect)((()=>{let t=[];"OpenID"===n&&(t=[...t,{fieldKey:"openID_CONFIGURATION_URL",required:!0,value:i},{fieldKey:"openID_clientID",required:!0,value:s},{fieldKey:"openID_secretID",required:!0,value:o},{fieldKey:"openID_claimName",required:!1,value:c}]);const a=(0,f.R)(t);e((0,C.NO)({pageName:"identityProvider",valid:0===Object.keys(a).length})),p(a)}),[n,s,o,i,c,e]),(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"openID_CONFIGURATION_URL",name:"openID_CONFIGURATION_URL",onChange:e=>{x("openIDConfigurationURL",e.target.value),h("openID_CONFIGURATION_URL")},label:"Configuration URL",value:i,placeholder:"https://your-identity-provider.com/.well-known/openid-configuration",error:m.openID_CONFIGURATION_URL||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"openID_clientID",name:"openID_clientID",onChange:e=>{x("openIDClientID",e.target.value),h("openID_clientID")},label:"Client ID",value:s,error:m.openID_clientID||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"openID_secretID",name:"openID_secretID",onChange:e=>{x("openIDSecretID",e.target.value),h("openID_secretID")},label:"Secret ID",value:o,error:m.openID_secretID||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"openID_claimName",name:"openID_claimName",onChange:e=>{x("openIDClaimName",e.target.value),h("openID_claimName")},label:"Claim Name",value:c,placeholder:"policy",error:m.openID_claimName||""})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"openID_scopes",name:"openID_scopes",onChange:e=>{x("openIDScopes",e.target.value),h("openID_scopes")},label:"Scopes",value:d})})]})};var E=n(22918);const L=(0,P.Z)((e=>(0,c.Z)({buttonTray:{marginLeft:10,display:"flex",height:38,"& button":{background:"#EAEAEA"}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},shortened:{gridTemplateColumns:"auto auto 50px 50px",display:"grid",gridGap:15,marginBottom:10,"& input":{fontWeight:400}},...d.QV,...d.DF,...d.oO,...d.AK}))),z=()=>{const e=(0,u.TL)(),t=L(),n=(0,r.v9)((e=>e.createTenant.fields.identityProvider.idpSelection)),i=(0,r.v9)((e=>e.createTenant.fields.identityProvider.accessKeys)),s=(0,r.v9)((e=>e.createTenant.fields.identityProvider.secretKeys)),[l,o]=(0,a.useState)({}),c=e=>{o((0,v.h)(l,e))};return(0,a.useEffect)((()=>{let t=[];if("Built-in"===n){t=[...t];for(var a=0;a<i.length;a++)t.push({fieldKey:"accesskey-".concat(a.toString()),required:!0,value:i[a],pattern:/^[a-zA-Z0-9-]{8,63}$/,customPatternMessage:"Keys must be at least length 8"}),t.push({fieldKey:"secretkey-".concat(a.toString()),required:!0,value:s[a],pattern:/^[a-zA-Z0-9-]{8,63}$/,customPatternMessage:"Keys must be at least length 8"})}const r=(0,f.R)(t);e((0,C.NO)({pageName:"identityProvider",valid:0===Object.keys(r).length})),o(r)}),[n,i,s,e]),(0,_.jsxs)(a.Fragment,{children:["Add additional users",i.map(((n,r)=>(0,_.jsx)(a.Fragment,{children:(0,_.jsxs)("div",{className:t.shortened,children:[(0,_.jsx)(j.Z,{id:"accesskey-".concat(r.toString()),label:"",placeholder:"Access Key",name:"accesskey-".concat(r.toString()),value:i[r],onChange:t=>{e((0,C.ys)({index:r,accessKey:t.target.value})),c("accesskey-".concat(r.toString()))},index:r,error:l["accesskey-".concat(r.toString())]||""},"csv-accesskey-".concat(r.toString())),(0,_.jsx)(j.Z,{id:"secretkey-".concat(r.toString()),label:"",placeholder:"Secret Key",name:"secretkey-".concat(r.toString()),value:s[r],onChange:t=>{e((0,C.OL)({index:r,secretKey:t.target.value})),c("secretkey-".concat(r.toString()))},index:r,error:l["secretkey-".concat(r.toString())]||""},"csv-secretkey-".concat(r.toString())),(0,_.jsxs)("div",{className:t.buttonTray,children:[(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{e((0,C.x$)())},disabled:r!==i.length-1,children:(0,_.jsx)(b.Z,{})})}),(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{e((0,C.iA)(r))},disabled:i.length<=1,children:(0,_.jsx)(Z.HFL,{})})}),(0,_.jsx)(w.Z,{title:"Randomize Credentials","aria-label":"add",children:(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{onClick:()=>{e((0,C.ys)({index:r,accessKey:(0,v.z)(16)})),e((0,C.OL)({index:r,secretKey:(0,v.z)(16)}))},size:"small",children:(0,_.jsx)(E.Z,{})})})})]})]})},"identityField-".concat(r.toString()))))]})};var O=n(68456);const M=(0,P.Z)((e=>(0,c.Z)({protocolRadioOptions:{display:"flex",flexFlow:"column",marginBottom:10,"& label":{fontSize:16,fontWeight:600},"& div":{display:"flex",flexFlow:"row",alignItems:"top"}},...d.QV,...d.oO,...d.AK}))),G=()=>{const e=(0,u.TL)(),t=M(),n=(0,r.v9)((e=>e.createTenant.fields.identityProvider.idpSelection));return(0,_.jsxs)(x.Z,{className:t.paperWrapper,children:[(0,_.jsxs)("div",{className:t.headerElement,children:[(0,_.jsx)(S.Z,{children:"Identity Provider"}),(0,_.jsx)("span",{className:t.descriptionText,children:"Access to the tenant can be controlled via an external Identity Manager."})]}),(0,_.jsx)(l.ZP,{item:!0,xs:12,padding:"10px",children:(0,_.jsx)(A.Z,{currentSelection:n,id:"idp-options",name:"idp-options",label:"Protocol",onChange:t=>{e((0,C.BH)(t.target.value))},selectorOptions:[{label:(0,_.jsx)(O.YH,{}),value:"Built-in"},{label:(0,_.jsx)(O.mo,{}),value:"OpenID"},{label:(0,_.jsx)(O.QT,{}),value:"AD"}]})}),"Built-in"===n&&(0,_.jsx)(z,{}),"OpenID"===n&&(0,_.jsx)(K,{}),"AD"===n&&(0,_.jsx)(D,{})]})};var B=n(54639),V=n(88070);const q=(0,p.Z)((e=>(0,c.Z)({minioCertificateRows:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1}},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}},minioCertsContainer:{marginBottom:15},minioCACertsRow:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1,"& div label":{minWidth:50}}},rowActions:{display:"flex",justifyContent:"flex-end","@media (max-width: 900px)":{flex:1}},overlayAction:{marginLeft:10,"& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},...d.QV,...d.oO,...d.AK})))((e=>{let{classes:t}=e;const n=(0,u.TL)(),i=(0,r.v9)((e=>e.createTenant.fields.security.enableTLS)),s=(0,r.v9)((e=>e.createTenant.fields.security.enableAutoCert)),o=(0,r.v9)((e=>e.createTenant.fields.security.enableCustomCerts)),c=(0,r.v9)((e=>e.createTenant.certificates.minioServerCertificates)),d=(0,r.v9)((e=>e.createTenant.certificates.minioClientCertificates)),m=(0,r.v9)((e=>e.createTenant.certificates.minioCAsCertificates)),p=(0,a.useCallback)(((e,t)=>{n((0,C.HM)({pageName:"security",field:e,value:t}))}),[n]);return(0,a.useEffect)((()=>{n(i?s||o?(0,C.NO)({pageName:"security",valid:!0}):(0,C.NO)({pageName:"security",valid:!1}):(0,C.NO)({pageName:"security",valid:!0}))}),[i,s,o,n]),(0,_.jsxs)(x.Z,{className:t.paperWrapper,children:[(0,_.jsx)("div",{className:t.headerElement,children:(0,_.jsx)(S.Z,{children:"Security"})}),(0,_.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsx)(y.Z,{value:"enableTLS",id:"enableTLS",name:"enableTLS",checked:i,onChange:e=>{const t=e.target.checked;p("enableTLS",t)},label:"TLS",description:"Securing all the traffic using TLS. This is required for Encryption Configuration"})}),i&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsx)(y.Z,{value:"enableAutoCert",id:"enableAutoCert",name:"enableAutoCert",checked:s,onChange:e=>{const t=e.target.checked;p("enableAutoCert",t)},label:"AutoCert",description:"The internode certificates will be generated and managed by MinIO Operator"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsx)(y.Z,{value:"enableCustomCerts",id:"enableCustomCerts",name:"enableCustomCerts",checked:o,onChange:e=>{const t=e.target.checked;p("enableCustomCerts",t)},label:"Custom Certificates",description:"Certificates used to terminated TLS at MinIO"})}),o&&(0,_.jsxs)(a.Fragment,{children:[!s&&(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsx)(V.Z,{})}),(0,_.jsxs)(l.ZP,{item:!0,xs:12,className:t.minioCertsContainer,children:[(0,_.jsx)("h5",{children:"MinIO Server Certificates"}),c.map(((e,a)=>(0,_.jsxs)(l.ZP,{item:!0,xs:12,className:t.minioCertificateRows,children:[(0,_.jsxs)(l.ZP,{item:!0,xs:10,className:t.fileItem,children:[(0,_.jsx)(B.Z,{onChange:(t,a)=>{n((0,C.aN)({id:e.id,key:"cert",fileName:a,value:t}))},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert}),(0,_.jsx)(B.Z,{onChange:(t,a)=>{n((0,C.aN)({id:e.id,key:"key",fileName:a,value:t}))},accept:".key,.pem",id:"tlsKey",name:"tlsKey",label:"Key",value:e.key})]}),(0,_.jsxs)(l.ZP,{item:!0,xs:2,className:t.rowActions,children:[(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{n((0,C.Mg)())},disabled:a!==c.length-1,children:(0,_.jsx)(b.Z,{})})}),(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{n((0,C.XX)(e.id))},disabled:c.length<=1,children:(0,_.jsx)(Z.HFL,{})})})]})]},"minio-certs-".concat(e.id))))]}),(0,_.jsxs)(l.ZP,{item:!0,xs:12,className:t.minioCertsContainer,children:[(0,_.jsx)("h5",{children:"MinIO Client Certificates"}),d.map(((e,a)=>(0,_.jsxs)(l.ZP,{item:!0,xs:12,className:t.minioCertificateRows,children:[(0,_.jsxs)(l.ZP,{item:!0,xs:10,className:t.fileItem,children:[(0,_.jsx)(B.Z,{onChange:(t,a)=>{n((0,C.fE)({id:e.id,key:"cert",fileName:a,value:t}))},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert}),(0,_.jsx)(B.Z,{onChange:(t,a)=>{n((0,C.fE)({id:e.id,key:"key",fileName:a,value:t}))},accept:".key,.pem",id:"tlsKey",name:"tlsKey",label:"Key",value:e.key})]}),(0,_.jsxs)(l.ZP,{item:!0,xs:2,className:t.rowActions,children:[(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{n((0,C.ee)())},disabled:a!==d.length-1,children:(0,_.jsx)(b.Z,{})})}),(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{n((0,C.o_)(e.id))},disabled:d.length<=1,children:(0,_.jsx)(Z.HFL,{})})})]})]},"minio-certs-".concat(e.id))))]}),(0,_.jsxs)(l.ZP,{item:!0,xs:12,className:t.minioCertsContainer,children:[(0,_.jsx)("h5",{children:"MinIO CA Certificates"}),m.map(((e,a)=>(0,_.jsxs)(l.ZP,{item:!0,xs:12,className:t.minioCACertsRow,children:[(0,_.jsx)(l.ZP,{item:!0,xs:6,children:(0,_.jsx)(B.Z,{onChange:(t,a)=>{n((0,C.Eq)({id:e.id,key:"cert",fileName:a,value:t}))},accept:".cer,.crt,.cert,.pem",id:"tlsCert",name:"tlsCert",label:"Cert",value:e.cert})}),(0,_.jsx)(l.ZP,{item:!0,xs:6,children:(0,_.jsxs)("div",{className:t.rowActions,children:[(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{n((0,C.fK)())},disabled:a!==m.length-1,children:(0,_.jsx)(b.Z,{})})}),(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{n((0,C.IG)(e.id))},disabled:m.length<=1,children:(0,_.jsx)(Z.HFL,{})})})]})})]},"minio-CA-certs-".concat(e.id))))]})]})]})]})]})})),U=e=>{let{children:t}=e;return(0,_.jsx)("h1",{style:{margin:0,marginBottom:".8rem",fontSize:"1.3rem"},children:t})},H=(0,P.Z)((e=>(0,c.Z)({...d.QV,...d.DF,...d.oO,...d.AK}))),W=()=>{const e=(0,u.TL)(),t=H(),n=(0,r.v9)((e=>e.createTenant.fields.encryption.encryptionTab)),i=(0,r.v9)((e=>e.createTenant.fields.encryption.vaultEndpoint)),s=(0,r.v9)((e=>e.createTenant.fields.encryption.vaultEngine)),o=(0,r.v9)((e=>e.createTenant.fields.encryption.vaultNamespace)),c=(0,r.v9)((e=>e.createTenant.fields.encryption.vaultPrefix)),d=(0,r.v9)((e=>e.createTenant.fields.encryption.vaultAppRoleEngine)),m=(0,r.v9)((e=>e.createTenant.fields.encryption.vaultId)),p=(0,r.v9)((e=>e.createTenant.fields.encryption.vaultSecret)),x=(0,r.v9)((e=>e.createTenant.fields.encryption.vaultRetry)),h=(0,r.v9)((e=>e.createTenant.fields.encryption.vaultPing)),[g,y]=(0,a.useState)({});(0,a.useEffect)((()=>{let t=[];n||(t=[...t,{fieldKey:"vault_endpoint",required:!0,value:i},{fieldKey:"vault_id",required:!0,value:m},{fieldKey:"vault_secret",required:!0,value:p},{fieldKey:"vault_ping",required:!1,value:h,customValidation:parseInt(h)<0,customValidationMessage:"Value needs to be 0 or greater"},{fieldKey:"vault_retry",required:!1,value:x,customValidation:parseInt(x)<0,customValidationMessage:"Value needs to be 0 or greater"}]);const a=(0,f.R)(t);e((0,C.NO)({pageName:"encryption",valid:0===Object.keys(a).length})),y(a)}),[n,i,s,m,p,h,x,e]);const b=(0,a.useCallback)(((t,n)=>{e((0,C.HM)({pageName:"encryption",field:t,value:n}))}),[e]),Z=e=>{y((0,v.h)(g,e))};return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"vault_endpoint",name:"vault_endpoint",onChange:e=>{b("vaultEndpoint",e.target.value),Z("vault_endpoint")},label:"Endpoint",tooltip:"Endpoint is the Hashicorp Vault endpoint",value:i,error:g.vault_endpoint||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"vault_engine",name:"vault_engine",onChange:e=>{b("vaultEngine",e.target.value),Z("vault_engine")},label:"Engine",tooltip:"Engine is the Hashicorp Vault K/V engine path. If empty, defaults to 'kv'",value:s})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"vault_namespace",name:"vault_namespace",onChange:e=>{b("vaultNamespace",e.target.value)},label:"Namespace",tooltip:"Namespace is an optional Hashicorp Vault namespace. An empty namespace means no particular namespace is used.",value:o})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"vault_prefix",name:"vault_prefix",onChange:e=>{b("vaultPrefix",e.target.value)},label:"Prefix",tooltip:"Prefix is an optional prefix / directory within the K/V engine. If empty, keys will be stored at the K/V engine top level",value:c})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"App Role"}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"vault_approle_engine",name:"vault_approle_engine",onChange:e=>{b("vaultAppRoleEngine",e.target.value)},label:"Engine",tooltip:"AppRoleEngine is the AppRole authentication engine path. If empty, defaults to 'approle'",value:d})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"vault_id",name:"vault_id",onChange:e=>{b("vaultId",e.target.value),Z("vault_id")},label:"AppRole ID",tooltip:"AppRoleSecret is the AppRole access secret for authenticating to Hashicorp Vault via the AppRole method",value:m,error:g.vault_id||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"vault_secret",name:"vault_secret",onChange:e=>{b("vaultSecret",e.target.value),Z("vault_secret")},label:"AppRole Secret",tooltip:"AppRoleSecret is the AppRole access secret for authenticating to Hashicorp Vault via the AppRole method",value:p,error:g.vault_secret||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{type:"number",min:"0",id:"vault_retry",name:"vault_retry",onChange:e=>{b("vaultRetry",e.target.value),Z("vault_retry")},label:"Retry (Seconds)",value:x,error:g.vault_retry||""})})]})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,style:{marginTop:15},children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"Status"}),(0,_.jsx)(j.Z,{type:"number",min:"0",id:"vault_ping",name:"vault_ping",onChange:e=>{b("vaultPing",e.target.value),Z("vault_ping")},label:"Ping (Seconds)",value:h,error:g.vault_ping||""})]})})]})},Q=(0,P.Z)((e=>(0,c.Z)({...d.QV,...d.DF,...d.oO,...d.AK}))),$=()=>{const e=(0,u.TL)(),t=Q(),n=(0,r.v9)((e=>e.createTenant.fields.encryption.encryptionTab)),i=(0,r.v9)((e=>e.createTenant.fields.encryption.azureEndpoint)),s=(0,r.v9)((e=>e.createTenant.fields.encryption.azureTenantID)),o=(0,r.v9)((e=>e.createTenant.fields.encryption.azureClientID)),c=(0,r.v9)((e=>e.createTenant.fields.encryption.azureClientSecret)),[d,m]=(0,a.useState)({});(0,a.useEffect)((()=>{let t=[];n||(t=[...t,{fieldKey:"azure_endpoint",required:!0,value:i},{fieldKey:"azure_tenant_id",required:!0,value:s},{fieldKey:"azure_client_id",required:!0,value:o},{fieldKey:"azure_client_secret",required:!0,value:c}]);const a=(0,f.R)(t);e((0,C.NO)({pageName:"encryption",valid:0===Object.keys(a).length})),m(a)}),[n,i,s,o,c,e]);const p=(0,a.useCallback)(((t,n)=>{e((0,C.HM)({pageName:"encryption",field:t,value:n}))}),[e]),x=e=>{m((0,v.h)(d,e))};return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"azure_endpoint",name:"azure_endpoint",onChange:e=>{p("azureEndpoint",e.target.value),x("azure_endpoint")},label:"Endpoint",tooltip:"Endpoint is the Azure KeyVault endpoint",value:i,error:d.azure_endpoint||""})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"Credentials"}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"azure_tenant_id",name:"azure_tenant_id",onChange:e=>{p("azureTenantID",e.target.value),x("azure_tenant_id")},label:"Tenant ID",tooltip:"TenantID is the ID of the Azure KeyVault tenant",value:s,error:d.azure_tenant_id||""})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"azure_client_id",name:"azure_client_id",onChange:e=>{p("azureClientID",e.target.value),x("azure_client_id")},label:"Client ID",tooltip:"ClientID is the ID of the client accessing Azure KeyVault",value:o,error:d.azure_client_id||""})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"azure_client_secret",name:"azure_client_secret",onChange:e=>{p("azureClientSecret",e.target.value),x("azure_client_secret")},label:"Client Secret",tooltip:"ClientSecret is the client secret accessing the Azure KeyVault",value:c,error:d.azure_client_secret||""})})]})})]})},Y=(0,P.Z)((e=>(0,c.Z)({...d.QV,...d.DF,...d.oO,...d.AK}))),J=()=>{const e=Y(),t=(0,u.TL)(),n=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpProjectID)),i=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpEndpoint)),s=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpClientEmail)),o=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpClientID)),c=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpPrivateKeyID)),d=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpPrivateKey)),m=(0,a.useCallback)(((e,n)=>{t((0,C.HM)({pageName:"encryption",field:e,value:n}))}),[t]);return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,_.jsx)(j.Z,{id:"gcp_project_id",name:"gcp_project_id",onChange:e=>{m("gcpProjectID",e.target.value)},label:"Project ID",tooltip:"ProjectID is the GCP project ID.",value:n})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,_.jsx)(j.Z,{id:"gcp_endpoint",name:"gcp_endpoint",onChange:e=>{m("gcpEndpoint",e.target.value)},label:"Endpoint",tooltip:"Endpoint is the GCP project ID. If empty defaults to: secretmanager.googleapis.com:443",value:i})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsxs)("fieldset",{className:e.fieldGroup,children:[(0,_.jsx)("legend",{className:e.descriptionText,children:"Credentials"}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,_.jsx)(j.Z,{id:"gcp_client_email",name:"gcp_client_email",onChange:e=>{m("gcpClientEmail",e.target.value)},label:"Client Email",tooltip:"Is the Client email of the GCP service account used to access the SecretManager",value:s})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,_.jsx)(j.Z,{id:"gcp_client_id",name:"gcp_client_id",onChange:e=>{m("gcpClientID",e.target.value)},label:"Client ID",tooltip:"Is the Client ID of the GCP service account used to access the SecretManager",value:o})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,_.jsx)(j.Z,{id:"gcp_private_key_id",name:"gcp_private_key_id",onChange:e=>{m("gcpPrivateKeyID",e.target.value)},label:"Private Key ID",tooltip:"Is the private key ID of the GCP service account used to access the SecretManager",value:c})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:e.formFieldRow,children:(0,_.jsx)(j.Z,{id:"gcp_private_key",name:"gcp_private_key",onChange:e=>{m("gcpPrivateKey",e.target.value)},label:"Private Key",tooltip:"Is the private key of the GCP service account used to access the SecretManager",value:d})})]})})]})},X=(0,P.Z)((e=>(0,c.Z)({...d.QV,...d.DF,...d.oO,...d.AK}))),ee=()=>{const e=(0,u.TL)(),t=X(),n=(0,r.v9)((e=>e.createTenant.fields.encryption.encryptionTab)),i=(0,r.v9)((e=>e.createTenant.fields.encryption.gemaltoEndpoint)),s=(0,r.v9)((e=>e.createTenant.fields.encryption.gemaltoToken)),o=(0,r.v9)((e=>e.createTenant.fields.encryption.gemaltoDomain)),c=(0,r.v9)((e=>e.createTenant.fields.encryption.gemaltoRetry)),[d,m]=(0,a.useState)({});(0,a.useEffect)((()=>{let t=[];n||(t=[...t,{fieldKey:"gemalto_endpoint",required:!0,value:i},{fieldKey:"gemalto_token",required:!0,value:s},{fieldKey:"gemalto_domain",required:!0,value:o},{fieldKey:"gemalto_retry",required:!1,value:c,customValidation:parseInt(c)<0,customValidationMessage:"Value needs to be 0 or greater"}]);const a=(0,f.R)(t);e((0,C.NO)({pageName:"encryption",valid:0===Object.keys(a).length})),m(a)}),[n,i,s,o,c,e]);const p=(0,a.useCallback)(((t,n)=>{e((0,C.HM)({pageName:"encryption",field:t,value:n}))}),[e]),x=e=>{m((0,v.h)(d,e))};return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"gemalto_endpoint",name:"gemalto_endpoint",onChange:e=>{p("gemaltoEndpoint",e.target.value),x("gemalto_endpoint")},label:"Endpoint",tooltip:"Endpoint is the endpoint to the KeySecure server",value:i,error:d.gemalto_endpoint||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"Credentials"}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"gemalto_token",name:"gemalto_token",onChange:e=>{p("gemaltoToken",e.target.value),x("gemalto_token")},label:"Token",tooltip:"Token is the refresh authentication token to access the KeySecure server",value:s,error:d.gemalto_token||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"gemalto_domain",name:"gemalto_domain",onChange:e=>{p("gemaltoDomain",e.target.value),x("gemalto_domain")},label:"Domain",tooltip:"Domain is the isolated namespace within the KeySecure server. If empty, defaults to the top-level / root domain",value:o,error:d.gemalto_domain||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{type:"number",min:"0",id:"gemalto_retry",name:"gemalto_retry",onChange:e=>{p("gemaltoRetry",e.target.value),x("gemalto_retry")},label:"Retry (seconds)",value:c,error:d.gemalto_retry||""})})]})})]})},te=(0,P.Z)((e=>(0,c.Z)({...d.QV,...d.DF,...d.oO,...d.AK}))),ne=()=>{const e=(0,u.TL)(),t=te(),n=(0,r.v9)((e=>e.createTenant.fields.encryption.encryptionTab)),i=(0,r.v9)((e=>e.createTenant.fields.encryption.awsEndpoint)),s=(0,r.v9)((e=>e.createTenant.fields.encryption.awsRegion)),o=(0,r.v9)((e=>e.createTenant.fields.encryption.awsKMSKey)),c=(0,r.v9)((e=>e.createTenant.fields.encryption.awsAccessKey)),d=(0,r.v9)((e=>e.createTenant.fields.encryption.awsSecretKey)),m=(0,r.v9)((e=>e.createTenant.fields.encryption.awsToken)),[p,x]=(0,a.useState)({});(0,a.useEffect)((()=>{let t=[];n||(t=[...t,{fieldKey:"aws_endpoint",required:!0,value:i},{fieldKey:"aws_region",required:!0,value:s},{fieldKey:"aws_accessKey",required:!0,value:c},{fieldKey:"aws_secretKey",required:!0,value:d}]);const a=(0,f.R)(t);e((0,C.NO)({pageName:"encryption",valid:0===Object.keys(a).length})),x(a)}),[n,i,s,d,c,e]);const h=(0,a.useCallback)(((t,n)=>{e((0,C.HM)({pageName:"encryption",field:t,value:n}))}),[e]),g=e=>{x((0,v.h)(p,e))};return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"aws_endpoint",name:"aws_endpoint",onChange:e=>{h("awsEndpoint",e.target.value),g("aws_endpoint")},label:"Endpoint",tooltip:"Endpoint is the AWS SecretsManager endpoint. AWS SecretsManager endpoints have the following schema: secrestmanager[-fips].<region>.amanzonaws.com",value:i,error:p.aws_endpoint||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"aws_region",name:"aws_region",onChange:e=>{h("awsRegion",e.target.value),g("aws_region")},label:"Region",tooltip:"Region is the AWS region the SecretsManager is located",value:s,error:p.aws_region||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"aws_kmsKey",name:"aws_kmsKey",onChange:e=>{h("awsKMSKey",e.target.value)},label:"KMS Key",tooltip:"KMSKey is the AWS-KMS key ID (CMK-ID) used to en/decrypt secrets managed by the SecretsManager. If empty, the default AWS KMS key is used",value:o})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"Credentials"}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"aws_accessKey",name:"aws_accessKey",onChange:e=>{h("awsAccessKey",e.target.value),g("aws_accessKey")},label:"Access Key",tooltip:"AccessKey is the access key for authenticating to AWS",value:c,error:p.aws_accessKey||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"aws_secretKey",name:"aws_secretKey",onChange:e=>{h("awsSecretKey",e.target.value),g("aws_secretKey")},label:"Secret Key",tooltip:"SecretKey is the secret key for authenticating to AWS",value:d,error:p.aws_secretKey||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"aws_token",name:"aws_token",tooltip:"SessionToken is an optional session token for authenticating to AWS when using STS",onChange:e=>{h("awsToken",e.target.value)},label:"Token",value:m})})]})})]})};var ae=n(25228),ie=n(43896),se=n(92217),re=n(13871);const le=(0,p.Z)((e=>(0,c.Z)({encryptionTypeOptions:{marginBottom:15},mutualTlsConfig:{marginTop:15,"& fieldset":{flex:1}},rightSpacer:{marginRight:15},responsiveContainer:{"@media (max-width: 900px)":{display:"flex",flexFlow:"column"}},...d.QV,...d.DF,...d.oO,...d.AK})))((e=>{let{classes:t}=e;const n=(0,u.TL)(),i=(0,r.v9)((e=>e.createTenant.fields.encryption.replicas)),s=(0,r.v9)((e=>e.createTenant.fields.encryption.rawConfiguration)),o=(0,r.v9)((e=>e.createTenant.fields.encryption.encryptionTab)),c=(0,r.v9)((e=>e.createTenant.fields.encryption.enableEncryption)),d=(0,r.v9)((e=>e.createTenant.fields.encryption.encryptionType)),m=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpProjectID)),p=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpEndpoint)),h=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpClientEmail)),g=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpClientID)),b=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpPrivateKeyID)),Z=(0,r.v9)((e=>e.createTenant.fields.encryption.gcpPrivateKey)),S=(0,r.v9)((e=>e.createTenant.fields.encryption.enableCustomCertsForKES)),T=(0,r.v9)((e=>e.createTenant.fields.security.enableAutoCert)),k=(0,r.v9)((e=>e.createTenant.fields.security.enableTLS)),w=(0,r.v9)((e=>e.createTenant.certificates.minioServerCertificates)),P=(0,r.v9)((e=>e.createTenant.certificates.kesServerCertificate)),I=(0,r.v9)((e=>e.createTenant.certificates.minioMTLSCertificate)),R=(0,r.v9)((e=>e.createTenant.certificates.kmsMTLSCertificate)),D=(0,r.v9)((e=>e.createTenant.certificates.kmsCA)),F=(0,r.v9)((e=>e.createTenant.fields.security.enableCustomCerts)),K=(0,r.v9)((e=>e.createTenant.fields.encryption.kesSecurityContext)),[E,L]=(0,a.useState)({});let z=!1;k&&(T||w&&w.filter((e=>e.encoded_key&&e.encoded_cert)).length>0)&&(z=!0);const O=(0,a.useCallback)(((e,t)=>{n((0,C.HM)({pageName:"encryption",field:e,value:t}))}),[n]),M=e=>{L((0,v.h)(E,e))};return(0,a.useEffect)((()=>{let e=[];c&&(e=[{fieldKey:"rawConfiguration",required:o>0,value:s},{fieldKey:"replicas",required:!0,value:i,customValidation:parseInt(i)<1,customValidationMessage:"Replicas needs to be 1 or greater"},{fieldKey:"kes_securityContext_runAsUser",required:!0,value:K.runAsUser,customValidation:""===K.runAsUser||parseInt(K.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"kes_securityContext_runAsGroup",required:!0,value:K.runAsGroup,customValidation:""===K.runAsGroup||parseInt(K.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"kes_securityContext_fsGroup",required:!0,value:K.fsGroup,customValidation:""===K.fsGroup||parseInt(K.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}],F&&(e=[...e,{fieldKey:"serverKey",required:!T,value:P.encoded_key},{fieldKey:"serverCert",required:!T,value:P.encoded_cert},{fieldKey:"clientKey",required:!T,value:I.encoded_key},{fieldKey:"clientCert",required:!T,value:I.encoded_cert}]));const t=(0,f.R)(e);n((0,C.NO)({pageName:"encryption",valid:0===Object.keys(t).length})),L(t)}),[s,o,c,d,m,p,h,g,b,Z,n,T,F,P.encoded_key,P.encoded_cert,I.encoded_key,I.encoded_cert,K,i]),(0,_.jsxs)(x.Z,{className:t.paperWrapper,children:[(0,_.jsxs)(l.ZP,{container:!0,alignItems:"center",children:[(0,_.jsx)(l.ZP,{item:!0,xs:!0,children:(0,_.jsx)(U,{children:"Encryption"})}),(0,_.jsx)(l.ZP,{item:!0,xs:4,justifyContent:"end",textAlign:"right",children:(0,_.jsx)(y.Z,{label:"",indicatorLabels:["Enabled","Disabled"],checked:c,value:"tenant_encryption",id:"tenant-encryption",name:"tenant-encryption",onChange:e=>{const t=e.target.checked;O("enableEncryption",t)},description:"",disabled:!z})})]}),(0,_.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsx)("span",{className:t.descriptionText,children:"MinIO Server-Side Encryption (SSE) protects objects as part of write operations, allowing clients to take advantage of server processing power to secure objects at the storage layer (encryption-at-rest). SSE also provides key functionality to regulatory and compliance requirements around secure locking and erasure."})}),(0,_.jsx)(l.ZP,{xs:12,children:(0,_.jsx)(re.Z,{})}),c&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsxs)(ae.Z,{value:o,onChange:(e,t)=>{O("encryptionTab",t)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,_.jsx)(ie.Z,{id:"kms-options",label:"Options"}),(0,_.jsx)(ie.Z,{id:"kms-raw-configuration",label:"Raw Edit"})]})}),o?(0,_.jsx)(a.Fragment,{children:(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsx)(se.Z,{value:s,mode:"yaml",onBeforeChange:(e,t,n)=>{O("rawConfiguration",n)},editorHeight:"550px"})})}):(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.encryptionTypeOptions,children:(0,_.jsx)(A.Z,{currentSelection:d,id:"encryptionType",name:"encryptionType",label:"KMS",onChange:e=>{O("encryptionType",e.target.value)},selectorOptions:[{label:"Vault",value:"vault"},{label:"AWS",value:"aws"},{label:"Gemalto",value:"gemalto"},{label:"GCP",value:"gcp"},{label:"Azure",value:"azure"}]})}),"vault"===d&&(0,_.jsx)(W,{}),"azure"===d&&(0,_.jsx)($,{}),"gcp"===d&&(0,_.jsx)(J,{}),"aws"===d&&(0,_.jsx)(ne,{}),"gemalto"===d&&(0,_.jsx)(ee,{})]}),(0,_.jsx)("div",{className:t.headerElement,children:(0,_.jsx)("h4",{className:t.h3Section,children:"Additional Configurations"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsx)(y.Z,{value:"enableCustomCertsForKES",id:"enableCustomCertsForKES",name:"enableCustomCertsForKES",checked:S||!T,onChange:e=>{const t=e.target.checked;O("enableCustomCertsForKES",t)},label:"Custom Certificates",disabled:!T})}),(S||!T)&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{container:!0,children:(0,_.jsx)(l.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"Encryption server certificates"}),(0,_.jsx)(B.Z,{onChange:(e,t)=>{n((0,C.uN)({key:"key",fileName:t,value:e})),M("serverKey")},accept:".key,.pem",id:"serverKey",name:"serverKey",label:"Key",error:E.serverKey||"",value:P.key,required:!T}),(0,_.jsx)(B.Z,{onChange:(e,t)=>{n((0,C.uN)({key:"cert",fileName:t,value:e})),M("serverCert")},accept:".cer,.crt,.cert,.pem",id:"serverCert",name:"serverCert",label:"Cert",error:E.serverCert||"",value:P.cert,required:!T})]})})}),(0,_.jsx)(l.ZP,{container:!0,style:{marginBottom:15},children:(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"MinIO mTLS certificates (connection between MinIO and the Encryption server)"}),(0,_.jsx)(B.Z,{onChange:(e,t)=>{n((0,C.Ud)({key:"key",fileName:t,value:e})),M("clientKey")},accept:".key,.pem",id:"clientKey",name:"clientKey",label:"Key",error:E.clientKey||"",value:I.key,required:!T}),(0,_.jsx)(B.Z,{onChange:(e,t)=>{n((0,C.Ud)({key:"cert",fileName:t,value:e})),M("clientCert")},accept:".cer,.crt,.cert,.pem",id:"clientCert",name:"clientCert",label:"Cert",error:E.clientCert||"",value:I.cert,required:!T})]})})}),(0,_.jsx)(l.ZP,{container:!0,className:t.mutualTlsConfig,children:(0,_.jsxs)("fieldset",{className:t.fieldGroup,children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"KMS mTLS certificates (connection between the Encryption server and the KMS)"}),(0,_.jsx)(B.Z,{onChange:(e,t)=>{n((0,C.Tr)({key:"key",fileName:t,value:e})),M("vault_key")},accept:".key,.pem",id:"vault_key",name:"vault_key",label:"Key",value:R.key}),(0,_.jsx)(B.Z,{onChange:(e,t)=>{n((0,C.Tr)({key:"cert",fileName:t,value:e})),M("vault_cert")},accept:".cer,.crt,.cert,.pem",id:"vault_cert",name:"vault_cert",label:"Cert",value:R.cert}),(0,_.jsx)(B.Z,{onChange:(e,t)=>{n((0,C.b9)({fileName:t,value:e})),M("vault_ca")},accept:".cer,.crt,.cert,.pem",id:"vault_ca",name:"vault_ca",label:"CA",value:D.cert})]})})]}),(0,_.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,classes:t.formFieldRow,children:(0,_.jsx)(j.Z,{type:"number",min:"1",id:"replicas",name:"replicas",onChange:e=>{O("replicas",e.target.value),M("replicas")},label:"Replicas",value:i,required:!0,error:E.replicas||""})}),(0,_.jsxs)("fieldset",{className:t.fieldGroup,style:{marginTop:15},children:[(0,_.jsx)("legend",{className:t.descriptionText,children:"SecurityContext for KES pods"}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.kesSecurityContext,children:(0,_.jsxs)("div",{className:"".concat(t.multiContainer," ").concat(t.responsiveContainer),children:[(0,_.jsx)("div",{className:"".concat(t.formFieldRow," ").concat(t.rightSpacer),children:(0,_.jsx)(j.Z,{type:"number",id:"kes_securityContext_runAsUser",name:"kes_securityContext_runAsUser",onChange:e=>{O("kesSecurityContext",{...K,runAsUser:e.target.value}),M("kes_securityContext_runAsUser")},label:"Run As User",value:K.runAsUser,required:!0,error:E.kes_securityContext_runAsUser||"",min:"0"})}),(0,_.jsx)("div",{className:"".concat(t.formFieldRow," ").concat(t.rightSpacer),children:(0,_.jsx)(j.Z,{type:"number",id:"kes_securityContext_runAsGroup",name:"kes_securityContext_runAsGroup",onChange:e=>{O("kesSecurityContext",{...K,runAsGroup:e.target.value}),M("kes_securityContext_runAsGroup")},label:"Run As Group",value:K.runAsGroup,required:!0,error:E.kes_securityContext_runAsGroup||"",min:"0"})})]})}),(0,_.jsx)("br",{}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.kesSecurityContext,children:(0,_.jsxs)("div",{className:"".concat(t.multiContainer," ").concat(t.responsiveContainer),children:[(0,_.jsx)("div",{className:"".concat(t.formFieldRow," ").concat(t.rightSpacer),children:(0,_.jsx)(j.Z,{type:"number",id:"kes_securityContext_fsGroup",name:"kes_securityContext_fsGroup",onChange:e=>{O("kesSecurityContext",{...K,fsGroup:e.target.value}),M("kes_securityContext_fsGroup")},label:"FsGroup",value:K.fsGroup,required:!0,error:E.kes_securityContext_fsGroup||"",min:"0"})}),(0,_.jsx)("div",{className:"".concat(t.formFieldRow," ").concat(t.rightSpacer),children:(0,_.jsx)(N.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",value:K.fsGroupChangePolicy,onChange:e=>{O("kesSecurityContext",{...K,fsGroupChangePolicy:e.target.value})},options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})]})}),(0,_.jsx)("br",{}),(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsx)("div",{className:t.multiContainer,children:(0,_.jsx)(y.Z,{value:"kesSecurityContextRunAsNonRoot",id:"kes_securityContext_runAsNonRoot",name:"kes_securityContext_runAsNonRoot",checked:K.runAsNonRoot,onChange:e=>{const t=e.target.checked;O("kesSecurityContext",{...K,runAsNonRoot:t})},label:"Do not run as Root"})})})]})]})]})]})]})}));var oe=n(81207),ce=n(45660),de=n(87995);const me=(0,p.Z)((e=>(0,c.Z)({overlayAction:{marginLeft:10,display:"flex",alignItems:"center","& svg":{maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},affinityConfigField:{display:"flex"},affinityFieldLabel:{display:"flex",flexFlow:"column",flex:1},radioField:{display:"flex",alignItems:"flex-start",marginTop:10,"& div:first-child":{display:"flex",flexFlow:"column",alignItems:"baseline",textAlign:"left !important"}},affinityLabelKey:{"& div:first-child":{marginBottom:0}},affinityLabelValue:{marginLeft:10,"& div:first-child":{marginBottom:0}},rowActions:{display:"flex",alignItems:"center"},affinityRow:{marginBottom:10,display:"flex"},...d.oO,...d.AK})))((e=>{let{classes:t}=e;const n=(0,u.TL)(),i=(0,r.v9)((e=>e.createTenant.fields.affinity.podAffinity)),s=(0,r.v9)((e=>e.createTenant.fields.affinity.nodeSelectorLabels)),o=(0,r.v9)((e=>e.createTenant.fields.affinity.withPodAntiAffinity)),c=(0,r.v9)((e=>e.createTenant.nodeSelectorPairs)),d=(0,r.v9)((e=>e.createTenant.tolerations)),[m,p]=(0,a.useState)({}),[g,v]=(0,a.useState)(!0),[b,T]=(0,a.useState)({}),[k,w]=(0,a.useState)([]),P=(0,a.useCallback)(((e,t)=>{n((0,C.HM)({pageName:"affinity",field:e,value:t}))}),[n]);(0,a.useEffect)((()=>{g&&oe.Z.invoke("GET","/api/v1/nodes/labels").then((e=>{v(!1),T(e);let t=[];for(let n in e)t.push({label:n,value:n});w(t)})).catch((e=>{v(!1),n((0,de.zb)(e)),T({})}))}),[n,g]),(0,a.useEffect)((()=>{if(c){const e=c.filter((e=>""!==e.key)).map((e=>"".concat(e.key,"=").concat(e.value))).filter(((e,t,n)=>n.indexOf(e)===t)).join("&");P("nodeSelectorLabels",e)}}),[c,P]),(0,a.useEffect)((()=>{let e=[];if("nodeSelector"===i){let t=!0;const n=s.split("&");1===n.length&&""===n[0]&&(t=!1),n.forEach(((e,a)=>{const i=e.split("=");2!==i.length&&(t=!1),a+1!==n.length&&(""!==i[0]&&""!==i[1]||(t=!1))})),e=[...e,{fieldKey:"labels",required:!0,value:s,customValidation:!t,customValidationMessage:"You need to add at least one label key-pair"}]}const t=(0,f.R)(e);n((0,C.NO)({pageName:"affinity",valid:0===Object.keys(t).length})),p(t)}),[n,i,s]);const I=(e,t,a)=>{const i={...d[e],[t]:a};n((0,C.iU)({index:e,tolerationValue:i}))};return(0,_.jsxs)(x.Z,{className:t.paperWrapper,children:[(0,_.jsxs)("div",{className:t.headerElement,children:[(0,_.jsx)(S.Z,{children:"Pod Placement"}),(0,_.jsx)("span",{className:t.descriptionText,children:"Configure how pods will be assigned to nodes"})]}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.affinityConfigField,children:(0,_.jsxs)(l.ZP,{item:!0,className:t.affinityFieldLabel,children:[(0,_.jsx)("div",{className:t.label,children:"Type"}),(0,_.jsx)("div",{className:"".concat(t.descriptionText," ").concat(t.affinityHelpText),children:"MinIO supports multiple configurations for Pod Affinity"}),(0,_.jsx)(l.ZP,{item:!0,className:t.radioField,children:(0,_.jsx)(A.Z,{currentSelection:i,id:"affinity-options",name:"affinity-options",label:" ",onChange:e=>{P("podAffinity",e.target.value)},selectorOptions:[{label:"None",value:"none"},{label:"Default (Pod Anti-Affinity)",value:"default"},{label:"Node Selector",value:"nodeSelector"}]})})]})}),"nodeSelector"===i&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)("br",{}),(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsx)(y.Z,{value:"with_pod_anti_affinity",id:"with_pod_anti_affinity",name:"with_pod_anti_affinity",checked:o,onChange:e=>{const t=e.target.checked;P("withPodAntiAffinity",t)},label:"With Pod Anti-Affinity"})}),(0,_.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,_.jsx)("h3",{children:"Labels"}),(0,_.jsx)("span",{className:t.error,children:m.labels}),(0,_.jsx)(l.ZP,{container:!0,children:c&&c.map(((e,a)=>(0,_.jsxs)(l.ZP,{item:!0,xs:12,className:t.affinityRow,children:[(0,_.jsxs)(l.ZP,{item:!0,xs:5,className:t.affinityLabelKey,children:[k.length>0&&(0,_.jsx)(N.Z,{onChange:e=>{const t=e.target.value,i={key:t,value:b[t][0]},s=[...c];s[a]=i,n((0,C.i$)(s))},id:"select-access-policy",name:"select-access-policy",label:"",value:e.key,options:k}),0===k.length&&(0,_.jsx)(j.Z,{id:"nodeselector-key-".concat(a.toString()),label:"",name:"nodeselector-".concat(a.toString()),value:e.key,onChange:e=>{const t=[...c];t[a]={key:t[a].key,value:e.target.value},n((0,C.i$)(t))},index:a,placeholder:"Key"})]}),(0,_.jsxs)(l.ZP,{item:!0,xs:5,className:t.affinityLabelValue,children:[k.length>0&&(0,_.jsx)(N.Z,{onChange:e=>{const t=[...c];t[a]={key:t[a].key,value:e.target.value},n((0,C.i$)(t))},id:"select-access-policy",name:"select-access-policy",label:"",value:e.value,options:b[e.key]?b[e.key].map((e=>({label:e,value:e}))):[]}),0===k.length&&(0,_.jsx)(j.Z,{id:"nodeselector-value-".concat(a.toString()),label:"",name:"nodeselector-".concat(a.toString()),value:e.value,onChange:e=>{const t=[...c];t[a]={key:t[a].key,value:e.target.value},n((0,C.i$)(t))},index:a,placeholder:"value"})]}),(0,_.jsxs)(l.ZP,{item:!0,xs:2,className:t.rowActions,children:[(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{const e=[...c];k.length>0?e.push({key:k[0].value,value:b[k[0].value][0]}):e.push({key:"",value:""}),n((0,C.i$)(e))},disabled:a!==c.length-1,children:(0,_.jsx)(Z.dtP,{})})}),(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{const e=c.filter(((e,t)=>t!==a));n((0,C.i$)(e))},disabled:c.length<=1,children:(0,_.jsx)(Z.HFL,{})})})]})]},"affinity-keyVal-".concat(a.toString()))))})]})]}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.affinityConfigField,children:(0,_.jsxs)(l.ZP,{item:!0,className:t.affinityFieldLabel,children:[(0,_.jsx)("h3",{children:"Tolerations"}),(0,_.jsx)("span",{className:t.error,children:m.tolerations}),(0,_.jsx)(l.ZP,{container:!0,children:d&&d.map(((e,a)=>{var i;return(0,_.jsxs)(l.ZP,{item:!0,xs:12,className:t.affinityRow,children:[(0,_.jsx)(ce.Z,{effect:e.effect,onEffectChange:e=>{I(a,"effect",e)},tolerationKey:e.key,onTolerationKeyChange:e=>{I(a,"key",e)},operator:e.operator,onOperatorChange:e=>{I(a,"operator",e)},value:e.value,onValueChange:e=>{I(a,"value",e)},tolerationSeconds:(null===(i=e.tolerationSeconds)||void 0===i?void 0:i.seconds)||0,onSecondsChange:e=>{I(a,"tolerationSeconds",{seconds:e})},index:a}),(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>{n((0,C.ly)())},disabled:a!==d.length-1,children:(0,_.jsx)(Z.dtP,{})})}),(0,_.jsx)("div",{className:t.overlayAction,children:(0,_.jsx)(h.Z,{size:"small",onClick:()=>n((0,C.JX)(a)),disabled:d.length<=1,children:(0,_.jsx)(Z.HFL,{})})})]},"affinity-keyVal-".concat(a.toString()))}))})]})})]})})),ue=(0,p.Z)((e=>(0,c.Z)({...d.DF,...d.AK})))((e=>{let{classes:t}=e;const n=(0,u.TL)(),i=(0,r.v9)((e=>e.createTenant.fields.configure.customImage)),s=(0,r.v9)((e=>e.createTenant.fields.configure.imageName)),o=(0,r.v9)((e=>e.createTenant.fields.configure.customDockerhub)),c=(0,r.v9)((e=>e.createTenant.fields.configure.imageRegistry)),d=(0,r.v9)((e=>e.createTenant.fields.configure.imageRegistryUsername)),m=(0,r.v9)((e=>e.createTenant.fields.configure.imageRegistryPassword)),p=(0,r.v9)((e=>e.createTenant.fields.configure.tenantCustom)),h=(0,r.v9)((e=>e.createTenant.fields.configure.kesImage)),[g,b]=(0,a.useState)({}),Z=(0,a.useCallback)(((e,t)=>{n((0,C.HM)({pageName:"configure",field:e,value:t}))}),[n]);(0,a.useEffect)((()=>{let e=[];i&&(e=[...e,{fieldKey:"image",required:!1,value:s,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/minio:VERSION'"},{fieldKey:"kesImage",required:!1,value:h,pattern:/^((.*?)\/(.*?):(.+))$/,customPatternMessage:"Format must be of form: 'minio/kes:VERSION'"}],o&&(e=[...e,{fieldKey:"registry",required:!0,value:c},{fieldKey:"registryUsername",required:!0,value:d},{fieldKey:"registryPassword",required:!0,value:m}]));const t=(0,f.R)(e);n((0,C.NO)({pageName:"configure",valid:0===Object.keys(t).length})),b(t)}),[i,s,h,o,c,d,m,n,p]);const N=e=>{b((0,v.h)(g,e))};return(0,_.jsxs)(x.Z,{className:t.paperWrapper,children:[(0,_.jsxs)("div",{className:t.headerElement,children:[(0,_.jsx)(S.Z,{children:"Container Images"}),(0,_.jsx)("span",{className:t.descriptionText,children:"Specify the container images used by the Tenant and its features."})]}),(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"image",name:"image",onChange:e=>{Z("imageName",e.target.value),N("image")},label:"MinIO",value:s,error:g.image||"",placeholder:"minio/minio:RELEASE.2023-10-07T15-07-38Z"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"kesImage",name:"kesImage",onChange:e=>{Z("kesImage",e.target.value),N("kesImage")},label:"KES",value:h,error:g.kesImage||"",placeholder:"minio/kes:2023-10-03T00-48-37Z"})})]}),i&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)("h4",{children:"Custom Container Registry"})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(y.Z,{value:"custom_docker_hub",id:"custom_docker_hub",name:"custom_docker_hub",checked:o,onChange:e=>{const t=e.target.checked;Z("customDockerhub",t)},label:"Use a private container registry"})})]}),o&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"registry",name:"registry",onChange:e=>{Z("imageRegistry",e.target.value)},label:"Endpoint",value:c,error:g.registry||"",placeholder:"https://index.docker.io/v1/",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"registryUsername",name:"registryUsername",onChange:e=>{Z("imageRegistryUsername",e.target.value)},label:"Username",value:d,error:g.registryUsername||"",required:!0})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(j.Z,{id:"registryPassword",name:"registryPassword",onChange:e=>{Z("imageRegistryPassword",e.target.value)},label:"Password",value:m,error:g.registryPassword||"",required:!0})})]})]})}));var pe=n(74794),xe=n(79836),he=n(53382),ge=n(53994),ve=n(35855),fe=n(45248);const ye=(0,p.Z)((e=>(0,c.Z)({root:{margin:4},table:{"& .MuiTableCell-root":{fontSize:13}},...d.oO,...d.AK})))((e=>{let{classes:t}=e;const n=(0,r.v9)((e=>e.createTenant.fields.tenantSize.nodes)),i=(0,r.v9)((e=>e.createTenant.fields.tenantSize.resourcesMemoryRequest)),s=(0,r.v9)((e=>e.createTenant.fields.tenantSize.ecParity)),l=(0,r.v9)((e=>e.createTenant.fields.tenantSize.distribution)),o=(0,r.v9)((e=>e.createTenant.fields.tenantSize.ecParityCalc)),c=(0,r.v9)((e=>e.createTenant.fields.tenantSize.resourcesCPURequest)),d=(0,r.v9)((e=>e.createTenant.fields.tenantSize.integrationSelection)),m=o.storageFactors.find((e=>e.erasureCode===s));return(0,_.jsxs)("div",{className:t.root,children:[(0,_.jsx)("h4",{children:"Resource Allocation"}),(0,_.jsx)(g.Z,{}),(0,_.jsx)(xe.Z,{className:t.table,"aria-label":"simple table",size:"small",children:(0,_.jsxs)(he.Z,{children:[(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"Number of Servers"}),(0,_.jsx)(ge.Z,{align:"right",children:parseInt(n)>0?n:"-"})]}),""===d.typeSelection&&""===d.storageClass&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"Drives per Server"}),(0,_.jsx)(ge.Z,{align:"right",children:l?l.disks:"-"})]}),(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"Drive Capacity"}),(0,_.jsx)(ge.Z,{align:"right",children:l?(0,fe.ae)(l.pvSize):"-"})]})]}),(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"Total Volumes"}),(0,_.jsx)(ge.Z,{align:"right",children:l?l.persistentVolumes:"-"})]}),""===d.typeSelection&&""===d.storageClass&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"Memory per Node"}),(0,_.jsxs)(ge.Z,{align:"right",children:[i," Gi"]})]}),(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{style:{borderBottom:0},scope:"row",children:"CPU Selection"}),(0,_.jsx)(ge.Z,{style:{borderBottom:0},align:"right",children:c})]})]})]})}),0===o.error&&m&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)("h4",{children:"Erasure Code Configuration"}),(0,_.jsx)(g.Z,{}),(0,_.jsx)(xe.Z,{className:t.table,"aria-label":"simple table",size:"small",children:(0,_.jsxs)(he.Z,{children:[(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"EC Parity"}),(0,_.jsx)(ge.Z,{align:"right",children:""!==s?s:"-"})]}),(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"Raw Capacity"}),(0,_.jsx)(ge.Z,{align:"right",children:(0,fe.ae)(o.rawCapacity)})]}),(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"Usable Capacity"}),(0,_.jsx)(ge.Z,{align:"right",children:(0,fe.ae)(m.maxCapacity)})]}),(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{style:{borderBottom:0},scope:"row",children:"Server Failures Tolerated"}),(0,_.jsx)(ge.Z,{style:{borderBottom:0},align:"right",children:l?Math.floor(m.maxFailureTolerations/l.disks):"-"})]})]})})]}),""!==d.typeSelection&&""!==d.storageClass&&(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)("h4",{children:"Single Instance Configuration"}),(0,_.jsx)(g.Z,{}),(0,_.jsx)(xe.Z,{className:t.table,"aria-label":"simple table",size:"small",children:(0,_.jsxs)(he.Z,{children:[(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"CPU"}),(0,_.jsx)(ge.Z,{align:"right",children:0!==d.CPU?d.CPU:"-"})]}),(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"Memory"}),(0,_.jsx)(ge.Z,{align:"right",children:0!==d.memory?"".concat(d.memory," Gi"):"-"})]}),(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{scope:"row",children:"Drives per Server"}),(0,_.jsx)(ge.Z,{align:"right",children:0!==d.drivesPerServer?"".concat(d.drivesPerServer):"-"})]}),(0,_.jsxs)(ve.Z,{children:[(0,_.jsx)(ge.Z,{style:{borderBottom:0},scope:"row",children:"Drive Size"}),(0,_.jsxs)(ge.Z,{style:{borderBottom:0},align:"right",children:[d.driveSize.driveSize,d.driveSize.sizeUnit]})]})]})})]})]})}));var je=n(19720),be=n(45884),Ze=n(46078),Ce=n(51691),Ne=n(40306),Se=n(98222);const _e=(0,P.Z)((e=>(0,c.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"},...d.oO,...d.Qw}))),Te=()=>{const e=(0,u.TL)(),t=_e(),n=(0,r.v9)((e=>e.createTenant.fields.nameTenant.namespace)),i=(0,r.v9)((e=>e.createTenant.addNSLoading)),s=(0,r.v9)((e=>e.createTenant.addNSOpen));return(0,_.jsx)(Ne.Z,{title:"New namespace",confirmText:"Create",confirmButtonProps:{variant:"callAction"},isOpen:s,titleIcon:(0,_.jsx)(Z.EjK,{}),isLoading:i,onConfirm:()=>{e((0,Se.QD)())},onClose:()=>{e((0,C.pb)())},confirmationContent:(0,_.jsxs)(a.Fragment,{children:[i&&(0,_.jsx)(o.Z,{}),(0,_.jsxs)(Ce.Z,{children:["Are you sure you want to add a namespace called",(0,_.jsx)("br",{}),(0,_.jsx)("b",{className:t.wrapText,children:n}),"?"]})]})})};var Ae=n(48573),ke=n.n(Ae);const we=e=>{let{formToRender:t}=e;const n=(0,u.TL)(),i=(0,r.v9)((e=>e.createTenant.fields.nameTenant.namespace)),s=(0,r.v9)((e=>e.createTenant.showNSCreateButton)),l=(0,r.v9)((e=>e.createTenant.validationErrors.namespace)),o=(0,r.v9)((e=>e.createTenant.addNSOpen)),c=(0,a.useMemo)((()=>ke()((()=>{n((0,Se.IO)())}),500)),[n]);(0,a.useEffect)((()=>{if(""!==i)return c(),c.cancel}),[c,i]);return(0,_.jsxs)(a.Fragment,{children:[o&&(0,_.jsx)(Te,{}),(0,_.jsx)(j.Z,{id:"namespace",name:"namespace",onChange:e=>{n((0,C.Zx)(e.target.value))},label:"Namespace",value:i,error:l||"",overlayId:"add-namespace",overlayIcon:s?(0,_.jsx)(Z.dtP,{}):null,overlayAction:()=>{n((0,C.Oj)())},required:!0})]})},Pe=()=>{const e=(0,u.TL)(),t=(0,r.v9)((e=>e.createTenant.fields.nameTenant.tenantName)),n=(0,r.v9)((e=>e.createTenant.validationErrors["tenant-name"]));return(0,_.jsx)(j.Z,{id:"tenant-name",name:"tenant-name",onChange:t=>{e((0,C.V7)(t.target.value))},label:"Name",value:t,required:!0,error:n||""})},Ie=(0,p.Z)((e=>(0,c.Z)({sizePreview:{marginLeft:10,background:"#FFFFFF",border:"1px solid #EAEAEA",padding:2,marginTop:20},...d.DF,...d.oO,...d.AK})))((e=>{let{classes:t,formToRender:n}=e;const i=(0,u.TL)(),o=(0,r.v9)((e=>e.createTenant.fields.nameTenant.selectedStorageClass)),c=(0,r.v9)((e=>e.createTenant.fields.nameTenant.selectedStorageType)),d=(0,r.v9)((e=>e.createTenant.storageClasses)),m=(0,r.v9)(Ze.$4),p=(0,a.useCallback)(((e,t)=>{i((0,C.HM)({pageName:"nameTenant",field:e,value:t}))}),[i]);return(0,a.useEffect)((()=>{const e=n===be.cy.default&&d.length>0||n!==be.cy.default&&""!==c;i((0,C.NO)({pageName:"nameTenant",valid:e}))}),[d,i,c,n]),(0,_.jsx)(a.Fragment,{children:(0,_.jsxs)(l.ZP,{container:!0,children:[(0,_.jsx)(l.ZP,{item:!0,sx:{width:"calc(100% - 320px)"},children:(0,_.jsx)(x.Z,{className:t.paperWrapper,sx:{minHeight:550},children:(0,_.jsxs)(l.ZP,{container:!0,children:[(0,_.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,_.jsxs)("div",{className:t.headerElement,children:[(0,_.jsx)(S.Z,{children:"Name"}),(0,_.jsx)("span",{className:t.descriptionText,children:"How would you like to name this new tenant?"})]}),(0,_.jsx)("div",{className:t.formFieldRow,children:(0,_.jsx)(Pe,{})})]}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(we,{formToRender:n})}),n===be.cy.default?(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(N.Z,{id:"storage_class",name:"storage_class",onChange:e=>{p("selectedStorageClass",e.target.value)},label:"Storage Class",value:o,options:d,disabled:d.length<1})}):(0,_.jsx)(l.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,_.jsx)(N.Z,{id:"storage_type",name:"storage_type",onChange:e=>{i((0,C.Qy)({storageType:e.target.value,features:m}))},label:s()(be.Hd,"".concat(n,".variantSelectorLabel"),"Storage Type"),value:c,options:s()(be.Hd,"".concat(n,".variantSelectorValues"),[])})}),n===be.cy.default?(0,_.jsx)(je.Z,{}):s()(be.Hd,"".concat(n,".sizingComponent"),null)]})})}),(0,_.jsx)(l.ZP,{item:!0,children:(0,_.jsx)("div",{className:t.sizePreview,children:(0,_.jsx)(ye,{})})})]})})})),Re=()=>{const e=(0,r.v9)(Ze.$4),[t,n]=(0,a.useState)(null);return(0,a.useEffect)((()=>{let t=be.cy.default;if(e&&0!==e.length){Object.keys(be.I8).forEach((n=>{e.includes(n)&&(t=s()(be.I8,n,be.cy.default))}))}n(t)}),[e]),null===t?null:(0,_.jsx)(Ie,{formToRender:t})},De=["nameTenant","tenantSize","configure","affinity","identityProvider","security","encryption"];var Fe=n(84218);const Ke=()=>{const e=(0,u.TL)(),t=(0,r.v9)((e=>e.createTenant.addingTenant)),n=(0,r.v9)((e=>e.createTenant.validPages)),a=(0,r.v9)((e=>e.createTenant.fields.nameTenant.selectedStorageClass)),i=!t&&""!==a&&De.every((e=>n.includes(e)));return(0,_.jsx)(Z.zxk,{id:"wizard-button-Create",variant:"callAction",color:"primary",onClick:()=>{e((0,Fe.e)())},disabled:!i,label:"Create"},"button-AddTenant-Create")};var Ee=n(37798),Le=n(57689);const ze=()=>{const e=(0,u.TL)(),t=(0,Le.s0)(),n=(0,r.v9)((e=>e.createTenant.showNewCredentials)),i=(0,r.v9)((e=>e.createTenant.createdAccount));return(0,_.jsx)(a.Fragment,{children:n&&(0,_.jsx)(Ee.default,{newServiceAccount:i,open:n,closeModal:()=>{e((0,C.dS)()),t("/tenants")},entity:"Tenant"})})};var Oe=n(47974);const Me=(0,P.Z)((e=>(0,c.Z)({pageBox:{border:"1px solid #EAEAEA"},...d.oO,...d.AK,...d.Je}))),Ge=()=>{const e=(0,u.TL)(),t=(0,Le.s0)(),n=Me(),i=(0,r.v9)(Ze.$4),c=(0,r.v9)((e=>e.createTenant.addingTenant)),[d,p]=(0,a.useState)(null);(0,a.useEffect)((()=>{let e=be.cy.default;if(i&&0!==i.length){Object.keys(be.I8).forEach((t=>{i.includes(t)&&(e=s()(be.I8,t,be.cy.default))}))}p(e)}),[i]);const x={label:"Cancel",type:"other",enabled:!0,action:()=>{e((0,C.dS)()),t("/tenants")}},h={componentRender:(0,_.jsx)(Ke,{},"create-tenant")};let g=[{label:"Setup",componentRender:(0,_.jsx)(Re,{}),buttons:[x,h]},{label:"Configure",advancedOnly:!0,componentRender:(0,_.jsx)(T,{}),buttons:[x,h]},{label:"Images",advancedOnly:!0,componentRender:(0,_.jsx)(ue,{}),buttons:[x,h]},{label:"Pod Placement",advancedOnly:!0,componentRender:(0,_.jsx)(me,{}),buttons:[x,h]},{label:"Identity Provider",advancedOnly:!0,componentRender:(0,_.jsx)(G,{}),buttons:[x,h]},{label:"Security",advancedOnly:!0,componentRender:(0,_.jsx)(q,{}),buttons:[x,h]},{label:"Encryption",advancedOnly:!0,componentRender:(0,_.jsx)(le,{}),buttons:[x,h]}];return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(ze,{}),(0,_.jsx)(Oe.Z,{label:(0,_.jsx)(Z.hbI,{onClick:()=>{e((0,C.dS)()),t("/tenants")},label:"Tenants"})}),(0,_.jsxs)(pe.Z,{children:[c&&(0,_.jsx)(l.ZP,{item:!0,xs:12,children:(0,_.jsx)(o.Z,{})}),(0,_.jsx)(l.ZP,{item:!0,xs:12,className:n.pageBox,children:(0,_.jsx)(m.Z,{wizardSteps:g})}),d===be.cy.aws&&(0,_.jsx)(l.ZP,{item:!0,xs:12,style:{marginTop:16},children:(0,_.jsx)(Z.KfX,{title:"EBS Volume Configuration.",iconComponent:(0,_.jsx)(Z.idV,{}),help:(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)("b",{children:"Performance Optimized"}),": Uses the ",(0,_.jsx)("i",{children:"gp3"})," EBS storage class class configured at 1,000Mi/s throughput and 16,000 IOPS, however the minimum volume size for this type of EBS volume is ",(0,_.jsx)("b",{children:"32Gi"}),".",(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),(0,_.jsx)("b",{children:"Storage Optimized"}),": Uses the ",(0,_.jsx)("i",{children:"sc1"})," EBS storage class, however the minimum volume size for this type of EBS volume is \xa0",(0,_.jsx)("b",{children:"16Ti"})," to unlock their maximum throughput speed of 250Mi/s."]})})})]})]})}},88070:(e,t,n)=>{n.d(t,{Z:()=>c});n(72791);var a=n(78687),i=n(64554),s=n(75952),r=n(57689),l=n(80184);const o=e=>{let{icon:t,description:n}=e;return(0,l.jsxs)(i.Z,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[t," ",(0,l.jsx)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:n})]})},c=()=>{const e=(0,r.UO)(),t=e.tenantName||"",n=e.tenantNamespace||"",c=(0,a.v9)((e=>""!==n?n:""!==e.createTenant.fields.nameTenant.namespace?e.createTenant.fields.nameTenant.namespace:"<namespace>")),d=(0,a.v9)((e=>""!==t?t:""!==e.createTenant.fields.nameTenant.tenantName?e.createTenant.fields.nameTenant.tenantName:"<tenant-name>"));return(0,l.jsx)(i.Z,{sx:{flex:1,border:"1px solid #eaeaea",borderRadius:"2px",display:"flex",flexFlow:"column",padding:"20px",marginTop:{xs:"0px"}},children:(0,l.jsxs)(i.Z,{sx:{display:"flex",flexFlow:"column"},children:[(0,l.jsx)(o,{icon:(0,l.jsx)(s.Baz,{}),description:"TLS Certificates Warning"}),(0,l.jsxs)(i.Z,{sx:{fontSize:"14px",marginBottom:"15px"},children:["Automatic certificate generation is not enabled.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"If you wish to continue only with ",(0,l.jsx)("b",{children:"custom certificates"})," make sure they are valid for the following internode hostnames, i.e.:",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsxs)("div",{style:{fontSize:"14px",fontStyle:"italic",color:"#5E5E5E"},children:["minio.",c,(0,l.jsx)("br",{}),"minio.",c,".svc",(0,l.jsx)("br",{}),"minio.",c,".svc.<cluster domain>",(0,l.jsx)("br",{}),"*.",d,"-hl.",c,".svc.<cluster domain>",(0,l.jsx)("br",{}),"*.",c,".svc.<cluster domain>"]}),(0,l.jsx)("br",{}),"Replace ",(0,l.jsx)("em",{children:"<tenant-name>"}),","," ",(0,l.jsx)("em",{children:"<namespace>"})," and",(0,l.jsx)("em",{children:"<cluster domain>"})," with the actual values for your MinIO tenant.",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),"You can learn more at our"," ",(0,l.jsx)("a",{href:"https://min.io/docs/minio/kubernetes/upstream/operations/network-encryption.html?ref=op#id5",target:"_blank",rel:"noopener",children:"documentation"}),"."]})]})})}},68456:(e,t,n)=>{n.d(t,{QT:()=>l,YH:()=>o,mo:()=>r});var a=n(61889),i=n(75952),s=n(80184);const r=()=>(0,s.jsxs)(a.ZP,{container:!0,columnGap:1,children:[(0,s.jsx)(a.ZP,{children:(0,s.jsx)(i.gyG,{width:"16px",height:"16px"})}),(0,s.jsx)(a.ZP,{item:!0,children:"Open ID"})]}),l=()=>(0,s.jsxs)(a.ZP,{container:!0,columnGap:1,children:[(0,s.jsx)(a.ZP,{children:(0,s.jsx)(i.vcZ,{width:"16px",height:"16px"})}),(0,s.jsx)(a.ZP,{item:!0,children:"LDAP / Active Directory"})]}),o=()=>(0,s.jsxs)(a.ZP,{container:!0,columnGap:1,children:[(0,s.jsx)(a.ZP,{children:(0,s.jsx)(i.oyc,{width:"16px",height:"16px"})}),(0,s.jsx)(a.ZP,{item:!0,children:"Built-in"})]})},22512:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(72791),i=n(20890),s=n(11135),r=n(25787),l=n(80184);const o=(0,r.Z)((e=>{var t;return(0,s.Z)({errorBlock:{color:(null===(t=e.palette)||void 0===t?void 0:t.error.main)||"#C83B51"}})}))((e=>{let{classes:t,errorMessage:n,withBreak:s=!0}=e;return(0,l.jsxs)(a.Fragment,{children:[s&&(0,l.jsx)("br",{}),(0,l.jsx)(i.Z,{component:"p",variant:"body1",className:t.errorBlock,children:n})]})}))},42419:(e,t,n)=>{var a=n(64836);t.Z=void 0;var i=a(n(45649)),s=n(80184),r=(0,i.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=r},99663:(e,t,n)=>{var a=n(64836);t.Z=void 0;var i=a(n(45649)),s=n(80184),r=(0,i.default)((0,s.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");t.Z=r},86711:(e,t,n)=>{var a=n(64836);t.Z=void 0;var i=a(n(45649)),s=n(80184),r=(0,i.default)((0,s.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.Z=r},22918:(e,t,n)=>{var a=n(64836);t.Z=void 0;var i=a(n(45649)),s=n(80184),r=(0,i.default)((0,s.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18zm0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9zm4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9z"}),"Casino");t.Z=r},27247:(e,t,n)=>{var a=n(64836);t.Z=void 0;var i=a(n(45649)),s=n(80184),r=(0,i.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=r},94721:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(63366),i=n(87462),s=n(72791),r=n(28182),l=n(94419),o=n(12065),c=n(66934),d=n(31402),m=n(90133),u=n(80184);const p=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],x=(0,c.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,o.Fq)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,i.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider)}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider)}})}),(e=>{let{ownerState:t}=e;return(0,i.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),h=(0,c.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),g=s.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"MuiDivider"}),{absolute:s=!1,children:o,className:c,component:g=(o?"div":"hr"),flexItem:v=!1,light:f=!1,orientation:y="horizontal",role:j=("hr"!==g?"separator":void 0),textAlign:b="center",variant:Z="fullWidth"}=n,C=(0,a.Z)(n,p),N=(0,i.Z)({},n,{absolute:s,component:g,flexItem:v,light:f,orientation:y,role:j,textAlign:b,variant:Z}),S=(e=>{const{absolute:t,children:n,classes:a,flexItem:i,light:s,orientation:r,textAlign:o,variant:c}=e,d={root:["root",t&&"absolute",c,s&&"light","vertical"===r&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===r&&"withChildrenVertical","right"===o&&"vertical"!==r&&"textAlignRight","left"===o&&"vertical"!==r&&"textAlignLeft"],wrapper:["wrapper","vertical"===r&&"wrapperVertical"]};return(0,l.Z)(d,m.V,a)})(N);return(0,u.jsx)(x,(0,i.Z)({as:g,className:(0,r.Z)(S.root,c),role:j,ref:t,ownerState:N},C,{children:o?(0,u.jsx)(h,{className:S.wrapper,ownerState:N,children:o}):null}))}))},63466:(e,t,n)=>{n.d(t,{Z:()=>Z});var a=n(63366),i=n(87462),s=n(72791),r=n(28182),l=n(94419),o=n(14036),c=n(20890),d=n(93840),m=n(52930),u=n(66934),p=n(75878),x=n(21217);function h(e){return(0,x.Z)("MuiInputAdornment",e)}const g=(0,p.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var v,f=n(31402),y=n(80184);const j=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,u.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat((0,o.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{["&.".concat(g.positionStart,"&:not(.").concat(g.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),Z=s.forwardRef((function(e,t){const n=(0,f.Z)({props:e,name:"MuiInputAdornment"}),{children:u,className:p,component:x="div",disablePointerEvents:g=!1,disableTypography:Z=!1,position:C,variant:N}=n,S=(0,a.Z)(n,j),_=(0,m.Z)()||{};let T=N;N&&_.variant,_&&!T&&(T=_.variant);const A=(0,i.Z)({},n,{hiddenLabel:_.hiddenLabel,size:_.size,disablePointerEvents:g,position:C,variant:T}),k=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:a,position:i,size:s,variant:r}=e,c={root:["root",n&&"disablePointerEvents",i&&"position".concat((0,o.Z)(i)),r,a&&"hiddenLabel",s&&"size".concat((0,o.Z)(s))]};return(0,l.Z)(c,h,t)})(A);return(0,y.jsx)(d.Z.Provider,{value:null,children:(0,y.jsx)(b,(0,i.Z)({as:x,ownerState:A,className:(0,r.Z)(k.root,p),ref:t},S,{children:"string"!==typeof u||Z?(0,y.jsxs)(s.Fragment,{children:["start"===C?v||(v=(0,y.jsx)("span",{className:"notranslate",children:"\u200b"})):null,u]}):(0,y.jsx)(c.Z,{color:"text.secondary",children:u})}))})}))}}]);
//# sourceMappingURL=292.c4ff2caa.chunk.js.map
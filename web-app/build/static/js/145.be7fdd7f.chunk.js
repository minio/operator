"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[145],{59145:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var i=n(72791),a=n(78687),s=n(11135),o=n(25787),l=n(61889),c=n(23814),r=n(41320),d=n(20890),u=n(45248),p=n(99779),m=n(11087),x=n(35527),v=n(75952),h=n(27454),b=n(80184);const f=(0,o.Z)((e=>(0,s.Z)({paperContainer:{padding:"15px",display:"flex",alignItems:"center",justifyContent:"center"},licenseInfoValue:{textTransform:"none",fontSize:14,fontWeight:"bold"},licenseContainer:{position:"relative",padding:"20px 52px 0px 28px",background:"#032F51",boxShadow:"0px 3px 7px #00000014","& h2":{color:"#FFF",marginBottom:67},"& a":{textDecoration:"none"},"& h3":{color:"#FFFFFF",marginBottom:"30px",fontWeight:"bold"},"& h6":{color:"#FFFFFF !important"}},licenseInfo:{color:"#FFFFFF",position:"relative"},licenseInfoTitle:{textTransform:"none",color:"#BFBFBF",fontSize:11},verifiedIcon:{width:96,position:"absolute",right:0,bottom:29},noUnderLine:{textDecoration:"none"},...c.Bz})))((e=>{var t,n;let{classes:a,tenant:s,loadingActivateProduct:o,loadingLicenseInfo:c,licenseInfo:r,activateProduct:f}=e;const g=null!==s&&void 0!==s&&s.subnet_license?p.ou.fromISO(null===(t=s.subnet_license)||void 0===t?void 0:t.expires_at):p.ou.now();return(0,b.jsx)(x.Z,{className:s&&s.subnet_license?a.licenseContainer:"",children:s&&s.subnet_license?(0,b.jsx)(i.Fragment,{children:(0,b.jsxs)(l.ZP,{container:!0,className:a.licenseInfo,children:[(0,b.jsxs)(l.ZP,{item:!0,xs:6,children:[(0,b.jsx)(d.Z,{variant:"button",display:"block",gutterBottom:!0,className:a.licenseInfoTitle,children:"License"}),(0,b.jsx)(d.Z,{variant:"overline",display:"block",gutterBottom:!0,className:a.licenseInfoValue,children:"Commercial License"}),(0,b.jsx)(d.Z,{variant:"button",display:"block",gutterBottom:!0,className:a.licenseInfoTitle,children:"Organization"}),(0,b.jsx)(d.Z,{variant:"overline",display:"block",gutterBottom:!0,className:a.licenseInfoValue,children:s.subnet_license.organization}),(0,b.jsx)(d.Z,{variant:"button",display:"block",gutterBottom:!0,className:a.licenseInfoTitle,children:"Registered Capacity"}),(0,b.jsx)(d.Z,{variant:"overline",display:"block",gutterBottom:!0,className:a.licenseInfoValue,children:(0,u.ae)((1099511627776*((null===(n=s.subnet_license)||void 0===n?void 0:n.storage_capacity)||0)).toString(10))}),(0,b.jsx)(d.Z,{variant:"button",display:"block",gutterBottom:!0,className:a.licenseInfoTitle,children:"Expiry Date"}),(0,b.jsx)(d.Z,{variant:"overline",display:"block",gutterBottom:!0,className:a.licenseInfoValue,children:g.toFormat("yyyy-MM-dd")})]}),(0,b.jsxs)(l.ZP,{item:!0,xs:6,children:[(0,b.jsx)(d.Z,{variant:"button",display:"block",gutterBottom:!0,className:a.licenseInfoTitle,children:"Subscription Plan"}),(0,b.jsx)(d.Z,{variant:"overline",display:"block",gutterBottom:!0,className:a.licenseInfoValue,children:s.subnet_license.plan}),(0,b.jsx)(d.Z,{variant:"button",display:"block",gutterBottom:!0,className:a.licenseInfoTitle,children:"Requestor"}),(0,b.jsx)(d.Z,{variant:"overline",display:"block",gutterBottom:!0,className:a.licenseInfoValue,children:s.subnet_license.email})]}),(0,b.jsx)("img",{className:a.verifiedIcon,src:"/verified.svg",alt:"verified"})]})}):!c&&(0,b.jsxs)(l.ZP,{className:a.paperContainer,children:[!r&&(0,b.jsx)(m.rU,{to:"/license",onClick:e=>{e.stopPropagation()},className:a.noUnderLine,children:(0,b.jsx)(h.Z,{tooltip:"Activate Product",children:(0,b.jsx)(v.zxk,{id:"activate-product",label:"Activate Product",onClick:()=>!1,variant:"callAction"})})}),r&&s&&(0,b.jsx)(h.Z,{tooltip:"Attach License",children:(0,b.jsx)(v.zxk,{id:"attach-license",disabled:o,label:"Attach License",onClick:()=>f(s.namespace,s.name),variant:"callAction"})})]})})}));var g=n(81207),j=n(87995),F=n(17238);const Z=(0,o.Z)((e=>(0,s.Z)({...c.oZ,loaderAlign:{textAlign:"center"},...c.Bz})))((e=>{let{classes:t}=e;const n=(0,r.TL)(),s=(0,a.v9)((e=>e.tenants.loadingTenant)),o=(0,a.v9)((e=>e.tenants.tenantInfo)),[c,d]=(0,i.useState)(),[u,p]=(0,i.useState)(!0),[m,x]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{u&&g.Z.invoke("GET","/api/v1/subscription/info").then((e=>{d(e),p(!1)})).catch((e=>{p(!1)}))}),[u]),(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)("h1",{className:t.sectionTitle,children:"License"}),s?(0,b.jsx)("div",{className:t.loaderAlign,children:(0,b.jsx)(v.aNw,{})}):(0,b.jsx)(i.Fragment,{children:o&&(0,b.jsx)(l.ZP,{container:!0,children:(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(f,{tenant:o,loadingLicenseInfo:u,loadingActivateProduct:m,licenseInfo:c,activateProduct:(e,t)=>{m||(x(!0),g.Z.invoke("POST","/api/v1/subscription/namespaces/".concat(e,"/tenants/").concat(t,"/activate"),{}).then((()=>{x(!1),n((0,F.V2)(!0)),p(!0)})).catch((e=>{x(!1),n((0,j.Ih)(e))})))}})})})})]})}))}}]);
//# sourceMappingURL=145.be7fdd7f.chunk.js.map
"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[583],{4681:(e,n,t)=>{t.d(n,{A:()=>l});t(5043);var s=t(9923),a=t(579);const l=e=>{let{placeholder:n="",onChange:t,overrideClass:l,value:r,id:i="search-resource",label:o="",sx:d}=e;return(0,a.jsx)(s.cl_,{placeholder:n,className:l||"",id:i,label:o,onChange:e=>{t(e.target.value)},value:r,startIcon:(0,a.jsx)(s.WIv,{}),sx:d})}},6746:(e,n,t)=>{t.d(n,{A:()=>i});var s=t(5043),a=t(9923),l=t(579);const r=e=>{const{event:n}=e,[t,r]=s.useState(!1);return(0,l.jsxs)(s.Fragment,{children:[(0,l.jsxs)(a.Hjg,{sx:{cursor:"pointer"},children:[(0,l.jsx)(a.TlP,{scope:"row",onClick:()=>r(!t),sx:{borderBottom:0},children:n.event_type}),(0,l.jsx)(a.nA6,{onClick:()=>r(!t),sx:{borderBottom:0},children:n.reason}),(0,l.jsx)(a.nA6,{onClick:()=>r(!t),sx:{borderBottom:0},children:n.seen}),(0,l.jsx)(a.nA6,{onClick:()=>r(!t),sx:{borderBottom:0},children:n.message.length>=30?`${n.message.slice(0,30)}...`:n.message}),(0,l.jsx)(a.nA6,{onClick:()=>r(!t),sx:{borderBottom:0},children:t?(0,l.jsx)(a.FUY,{}):(0,l.jsx)(a.QpL,{})})]}),(0,l.jsx)(a.Hjg,{children:(0,l.jsx)(a.nA6,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:t&&(0,l.jsx)(a.azJ,{useBackground:!0,sx:{padding:10,marginBottom:10},children:n.message})})})]})},i=e=>{let{events:n,loading:t}=e;return t?(0,l.jsx)(a.z21,{}):(0,l.jsx)(a.azJ,{withBorders:!0,customBorderPadding:"0px",children:(0,l.jsxs)(a.XIK,{"aria-label":"collapsible table",children:[(0,l.jsx)(a.ndF,{children:(0,l.jsxs)(a.Hjg,{children:[(0,l.jsx)(a.nA6,{children:"Type"}),(0,l.jsx)(a.nA6,{children:"Reason"}),(0,l.jsx)(a.nA6,{children:"Age"}),(0,l.jsx)(a.nA6,{children:"Message"}),(0,l.jsx)(a.nA6,{})]})}),(0,l.jsx)(a.BFY,{children:n.map((e=>(0,l.jsx)(r,{event:e},`${e.event_type}-${e.seen}`)))})]})})}},5367:(e,n,t)=>{t.r(n),t.d(n,{default:()=>T});var s=t(5043),a=t(9923),l=t(3216),r=t(5475),i=t(9456),o=t(5098),d=t(4574),c=t(3097),m=t.n(c),x=t(2961),u=t(4159),j=t(4681),p=t(649),h=t(579);const b=d.Ay.div((e=>{let{theme:n}=e;return{"&.highlighted":{"& span":{backgroundColor:m()(n,"signalColors.warning","#FFBD62")}},"& .ansidefault":{color:m()(n,"fontColor","#000"),lineHeight:"16px"}}})),g=e=>{let{tenant:n,namespace:t,podName:l,propLoading:r}=e;const d=(0,x.jL)(),c=(0,i.d4)((e=>e.tenants.loadingTenant)),[m,g]=(0,s.useState)(""),[v,f]=(0,s.useState)([]),[C,y]=(0,s.useState)(!0),w=new o.jS({minWidth:5,fixedHeight:!1});(0,s.useEffect)((()=>{r&&y(!0)}),[r]),(0,s.useEffect)((()=>{c&&y(!0)}),[c]);const A=(e,n)=>{if(!e)return null;let t=(e=e.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),s=""!==m&&e.toLowerCase().includes(m.toLowerCase());return t.startsWith("   ")?(0,h.jsx)(b,{className:""+(s?"highlighted":""),children:(0,h.jsx)("span",{className:"tab",children:t})},n):(0,h.jsx)(b,{className:""+(s?"highlighted":""),children:(0,h.jsx)("span",{className:"ansidefault",children:t})},n)};function k(e){let{columnIndex:n,key:t,parent:s,index:a,style:l}=e;return(0,h.jsx)(o.dl,{cache:w,columnIndex:n,parent:s,rowIndex:a,children:(0,h.jsx)("div",{style:{...l},children:A(v[a],a)})},t)}return(0,s.useEffect)((()=>{C&&p.A.invoke("GET",`/api/v1/namespaces/${t}/tenants/${n}/pods/${l}`).then((e=>{f(e.split("\n")),y(!1)})).catch((e=>{d((0,u.C9)(e)),y(!1)}))}),[C,l,t,n,d]),(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(a.xA9,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",alignItems:"center",gap:10,"& button":{flexGrow:0,marginLeft:8}},children:(0,h.jsx)(j.A,{value:m,placeholder:"Highlight Line",onChange:e=>{g(e)}})}),(0,h.jsx)(a.xA9,{item:!0,xs:12,children:(0,h.jsx)(a.azJ,{sx:{minHeight:400,height:"calc(100vh - 310px)",overflow:"hidden",fontSize:13,padding:"25px 45px 0"},useBackground:!0,withBorders:!0,children:v.length>=1&&(0,h.jsx)(o.t$,{children:e=>{let{width:n,height:t}=e;return(0,h.jsx)(o.B8,{rowHeight:e=>w.rowHeight(e),overscanRowCount:15,rowCount:v.length,rowRenderer:k,width:n,height:t})}})})})]})};var v=t(6483),f=t(6746);const C=e=>{let{tenant:n,namespace:t,podName:l,propLoading:r}=e;const o=(0,x.jL)(),d=(0,i.d4)((e=>e.tenants.loadingTenant)),[c,m]=(0,s.useState)([]),[j,b]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{r&&b(!0)}),[r]),(0,s.useEffect)((()=>{d&&b(!0)}),[d]),(0,s.useEffect)((()=>{j&&p.A.invoke("GET",`/api/v1/namespaces/${t}/tenants/${n}/pods/${l}/events`).then((e=>{for(let n=0;n<e.length;n++){let t=Date.now()/1e3|0;e[n].seen=(0,v.hr)((t-e[n].last_seen).toString())}m(e),b(!1)})).catch((e=>{o((0,u.C9)(e)),b(!1)}))}),[j,l,t,n,o]),(0,h.jsx)(s.Fragment,{children:(0,h.jsx)(a.xA9,{item:!0,xs:12,children:(0,h.jsx)(f.A,{events:c,loading:j})})})},y={display:"grid",gridTemplateColumns:"2fr 1fr",gridAutoFlow:"row",gap:2,padding:"15px",[`@media (max-width: ${a.nmC.sm}px)`]:{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}},w=e=>{let{title:n}=e;return(0,h.jsx)(a._xt,{separator:!0,sx:{marginBottom:5},children:n})},A=e=>{let{describeInfo:n}=e;return(0,h.jsx)(s.Fragment,{children:(0,h.jsxs)("div",{id:"pod-describe-summary-content",children:[(0,h.jsx)(w,{title:"Summary"}),(0,h.jsxs)(a.azJ,{sx:{...y},children:[(0,h.jsx)(a.mZW,{label:"Name",value:n.name}),(0,h.jsx)(a.mZW,{label:"Namespace",value:n.namespace}),(0,h.jsx)(a.mZW,{label:"Node",value:n.nodeName}),(0,h.jsx)(a.mZW,{label:"Start time",value:n.startTime}),(0,h.jsx)(a.mZW,{label:"Status",value:n.phase}),(0,h.jsx)(a.mZW,{label:"QoS Class",value:n.qosClass}),(0,h.jsx)(a.mZW,{label:"IP",value:n.podIP})]})]})})},k=e=>{let{annotations:n}=e;return(0,h.jsx)(s.Fragment,{children:(0,h.jsxs)("div",{id:"pod-describe-annotations-content",children:[(0,h.jsx)(w,{title:"Annotations"}),(0,h.jsx)(a.azJ,{children:n.map(((e,n)=>(0,h.jsx)(a.vwO,{id:`${e.key}-${e.value}`,sx:{margin:"0.5%"},label:`${e.key}: ${e.value}`},n)))})]})})},$=e=>{let{labels:n}=e;return(0,h.jsx)(s.Fragment,{children:(0,h.jsxs)("div",{id:"pod-describe-labels-content",children:[(0,h.jsx)(w,{title:"Labels"}),(0,h.jsx)(a.azJ,{children:n.map(((e,n)=>(0,h.jsx)(a.vwO,{id:`${e.key}-${e.value}`,sx:{margin:"0.5%"},label:`${e.key}: ${e.value}`},n)))})]})})},S=e=>{let{conditions:n}=e;return(0,h.jsx)("div",{id:"pod-describe-conditions-content",children:(0,h.jsx)(N,{title:"Conditions",columns:["type","status"],columnsLabels:["Type","Status"],items:n})})},F=e=>{let{tolerations:n}=e;return(0,h.jsx)("div",{id:"pod-describe-tolerations-content",children:(0,h.jsx)(N,{title:"Tolerations",columns:["effect","key","operator","tolerationSeconds"],columnsLabels:["Effect","Key","Operator","Seconds of toleration"],items:n})})},L=e=>{let{volumes:n}=e;return(0,h.jsx)(s.Fragment,{children:(0,h.jsx)("div",{id:"pod-describe-volumes-content",children:n.map(((e,n)=>(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(w,{title:`Volume ${e.name}`}),(0,h.jsxs)(a.azJ,{sx:{...y},children:[e.pvc&&(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(a.mZW,{label:"Type",value:"Persistant Volume Claim"}),(0,h.jsx)(a.mZW,{label:"Claim Name",value:e.pvc.claimName})]}),e.projected&&(0,h.jsx)(a.mZW,{label:"Type",value:"Projected"})]})]},n)))})})},N=e=>{let{title:n,items:t,columns:l,columnsLabels:r}=e;return(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(w,{title:n}),(0,h.jsx)(a.azJ,{children:(0,h.jsxs)(a.XIK,{"aria-label":"collapsible table",children:[(0,h.jsx)(a.ndF,{children:(0,h.jsx)(a.Hjg,{children:r.map(((e,n)=>(0,h.jsx)(a.nA6,{children:e},n)))})}),(0,h.jsx)(a.BFY,{children:t.map(((e,n)=>(0,h.jsx)(a.Hjg,{children:l.map(((n,t)=>(0,h.jsx)(a.nA6,{children:e[n]},t)))},n)))})]})})]})},W=e=>{let{containers:n}=e;return(0,h.jsx)(s.Fragment,{children:(0,h.jsx)("div",{id:"pod-describe-containers-content",children:n.map(((e,n)=>{var t,l;return(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(w,{title:`Container ${e.name}`}),(0,h.jsxs)(a.azJ,{style:{wordBreak:"break-all"},sx:{...y},children:[(0,h.jsx)(a.mZW,{label:"Image",value:e.image}),(0,h.jsx)(a.mZW,{label:"Ready",value:`${e.ready}`}),(0,h.jsx)(a.mZW,{label:"Ports",value:e.ports.join(", ")}),(0,h.jsx)(a.mZW,{label:"Host Ports",value:e.hostPorts.join(", ")}),(0,h.jsx)(a.mZW,{label:"Arguments",value:e.args.join(", ")}),(0,h.jsx)(a.mZW,{label:"Started",value:null===(t=e.state)||void 0===t?void 0:t.started}),(0,h.jsx)(a.mZW,{label:"State",value:null===(l=e.state)||void 0===l?void 0:l.state})]}),(0,h.jsxs)(a.azJ,{style:{wordBreak:"break-all"},sx:{...y},children:[(0,h.jsx)(a.mZW,{label:"Image ID",value:e.imageID}),(0,h.jsx)(a.mZW,{label:"Container ID",value:e.containerID})]}),(0,h.jsx)(N,{title:"Mounts",columns:["name","mountPath"],columnsLabels:["Name","Mount Path"],items:e.mounts}),(0,h.jsx)(N,{title:"Environment Variables",columns:["key","value"],columnsLabels:["Key","Value"],items:e.environmentVariables})]},n)}))})})},B=e=>{let{tenant:n,namespace:t,podName:l,propLoading:r}=e;const o=(0,x.jL)(),d=(0,i.d4)((e=>e.tenants.loadingTenant)),[c,m]=(0,s.useState)(),[j,b]=(0,s.useState)(!0),[g,v]=(0,s.useState)("pod-describe-summary");(0,s.useEffect)((()=>{r&&b(!0)}),[r]),(0,s.useEffect)((()=>{d&&b(!0)}),[d]),(0,s.useEffect)((()=>{j&&p.A.invoke("GET",`/api/v1/namespaces/${t}/tenants/${n}/pods/${l}/describe`).then((e=>{const n=f(e);m(n),b(!1)})).catch((e=>{o((0,u.C9)(e)),b(!1)}))}),[j,l,t,n,o]);const f=e=>(e.containers=e.containers.map((e=>(e.environmentVariables=e.environmentVariables.filter((e=>null!==e)),e))),e);return(0,h.jsx)(s.Fragment,{children:c&&(0,h.jsx)(a.xA9,{item:!0,xs:12,children:(0,h.jsx)(a.tUM,{currentTabOrPath:g,onTabClick:e=>{v(e)},horizontal:!0,options:[{tabConfig:{id:"pod-describe-summary",label:"Summary"},content:(0,h.jsx)(A,{describeInfo:c})},{tabConfig:{id:"pod-describe-annotations",label:"Annotations"},content:(0,h.jsx)(k,{annotations:c.annotations})},{tabConfig:{id:"pod-describe-labels",label:"Labels"},content:(0,h.jsx)($,{labels:c.labels})},{tabConfig:{id:"pod-describe-conditions",label:"Conditions"},content:(0,h.jsx)(S,{conditions:c.conditions})},{tabConfig:{id:"pod-describe-tolerations",label:"Tolerations"},content:(0,h.jsx)(F,{tolerations:c.tolerations})},{tabConfig:{id:"pod-describe-volumes",label:"Volumes"},content:(0,h.jsx)(L,{volumes:c.volumes})},{tabConfig:{id:"pod-describe-containers",label:"Containers"},content:(0,h.jsx)(W,{containers:c.containers})}]})})})},T=()=>{const{tenantNamespace:e,tenantName:n,podName:t}=(0,l.g)(),[i,o]=(0,s.useState)("simple-tab-0"),[d,c]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{d&&c(!1)}),[d]),(0,h.jsxs)(s.Fragment,{children:[(0,h.jsxs)(a._xt,{separator:!0,sx:{marginBottom:15},children:[(0,h.jsx)(r.N_,{to:`/namespaces/${e||""}/tenants/${n||""}/pods`,children:"Pods"})," ","> ",t]}),(0,h.jsx)(a.tUM,{options:[{tabConfig:{id:"simple-tab-0",label:"Events"},content:(0,h.jsx)(C,{tenant:n||"",namespace:e||"",podName:t||"",propLoading:d})},{tabConfig:{id:"simple-tab-1",label:"Describe"},content:(0,h.jsx)(B,{tenant:n||"",namespace:e||"",podName:t||"",propLoading:d})},{tabConfig:{id:"simple-tab-2",label:"Logs"},content:(0,h.jsx)(g,{tenant:n||"",namespace:e||"",podName:t||"",propLoading:d})}],currentTabOrPath:i,onTabClick:e=>{o(e)},horizontal:!0})]})}},1798:(e,n,t)=>{function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{A:()=>s})},8168:(e,n,t)=>{function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},s.apply(null,arguments)}t.d(n,{A:()=>s})},8587:(e,n,t)=>{function s(e,n){if(null==e)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(n.includes(s))continue;t[s]=e[s]}return t}t.d(n,{A:()=>s})},3662:(e,n,t)=>{function s(e,n){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},s(e,n)}t.d(n,{A:()=>s})}}]);
//# sourceMappingURL=583.79aac9d2.chunk.js.map
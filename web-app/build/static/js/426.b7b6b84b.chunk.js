"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[426],{426:function(n,e,t){t.r(e);var s=t(29439),c=t(1413),r=t(72791),i=t(78687),a=t(57689),o=t(11135),l=t(25787),u=t(23814),d=t(61889),Z=t(45248),x=t(81207),h=t(41320),j=t(5450),f=t(87995),p=t(80184),g=(0,i.$j)((function(n){return{loadingTenant:n.tenants.loadingTenant}}),null);e.default=(0,l.Z)((function(n){return(0,o.Z)((0,c.Z)((0,c.Z)((0,c.Z)((0,c.Z)({},u.OR),u.qg),u.VX),u.Bz))}))(g((function(n){var e=n.classes,t=(0,h.TL)(),c=(0,a.UO)(),o=(0,i.v9)((function(n){return n.tenants.loadingTenant})),l=(0,r.useState)([]),u=(0,s.Z)(l,2),g=u[0],m=u[1],v=(0,r.useState)(!0),k=(0,s.Z)(v,2),b=k[0],T=k[1],C=c.tenantName||"",w=c.tenantNamespace||"";return(0,r.useEffect)((function(){o&&T(!0)}),[o]),(0,r.useEffect)((function(){b&&x.Z.invoke("GET","/api/v1/namespaces/".concat(w,"/tenants/").concat(C,"/events")).then((function(n){for(var e=0;e<n.length;e++){var t=Date.now()/1e3|0;n[e].seen=(0,Z.v1)((t-n[e].last_seen).toString())}m(n),T(!1)})).catch((function(n){t((0,f.Ih)(n)),T(!1)}))}),[b,w,C,t]),(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)("h1",{className:e.sectionTitle,children:"Events"}),(0,p.jsx)(d.ZP,{item:!0,xs:12,children:(0,p.jsx)(j.Z,{events:g,loading:b})})]})})))},5450:function(n,e,t){var s=t(29439),c=t(72791),r=t(57482),i=t(79836),a=t(53382),o=t(53994),l=t(56890),u=t(35855),d=t(64554),Z=t(56125),x=t(20890),h=t(85172),j=t(95678),f=t(39281),p=t(35527),g=t(80184),m=function(n){var e=n.event,t=c.useState(!1),r=(0,s.Z)(t,2),i=r[0],a=r[1];return(0,g.jsxs)(c.Fragment,{children:[(0,g.jsxs)(u.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,g.jsx)(o.Z,{component:"th",scope:"row",onClick:function(){return a(!i)},children:e.event_type}),(0,g.jsx)(o.Z,{onClick:function(){return a(!i)},children:e.reason}),(0,g.jsx)(o.Z,{onClick:function(){return a(!i)},children:e.seen}),(0,g.jsx)(o.Z,{onClick:function(){return a(!i)},children:e.message.length>=30?"".concat(e.message.slice(0,30),"..."):e.message}),(0,g.jsx)(o.Z,{onClick:function(){return a(!i)},children:i?(0,g.jsx)(j.Z,{}):(0,g.jsx)(h.Z,{})})]}),(0,g.jsx)(u.Z,{children:(0,g.jsx)(o.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,g.jsx)(Z.Z,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,g.jsx)(d.Z,{sx:{margin:1},children:(0,g.jsx)(x.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:e.message})})})})})]})};e.Z=function(n){var e=n.events;return n.loading?(0,g.jsx)(r.Z,{}):(0,g.jsx)(f.Z,{component:p.Z,children:(0,g.jsxs)(i.Z,{"aria-label":"collapsible table",children:[(0,g.jsx)(l.Z,{children:(0,g.jsxs)(u.Z,{children:[(0,g.jsx)(o.Z,{children:"Type"}),(0,g.jsx)(o.Z,{children:"Reason"}),(0,g.jsx)(o.Z,{children:"Age"}),(0,g.jsx)(o.Z,{children:"Message"}),(0,g.jsx)(o.Z,{})]})}),(0,g.jsx)(a.Z,{children:e.map((function(n){return(0,g.jsx)(m,{event:n},"".concat(n.event_type,"-").concat(n.seen))}))})]})})}}}]);
//# sourceMappingURL=426.b7b6b84b.chunk.js.map
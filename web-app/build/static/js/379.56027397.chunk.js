"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[379],{45902:function(e,n,s){var t=s(1413),l=(s(72791),s(36314)),o=s(80184);n.Z=function(e){var n=e.label,s=void 0===n?null:n,i=e.value,r=void 0===i?"-":i,a=e.orientation,u=void 0===a?"column":a,c=e.stkProps,d=void 0===c?{}:c,x=e.lblProps,v=void 0===x?{}:x,f=e.valProps,m=void 0===f?{}:f;return(0,o.jsxs)(l.Z,(0,t.Z)((0,t.Z)({direction:{xs:"column",sm:u}},d),{},{children:[(0,o.jsx)("label",(0,t.Z)((0,t.Z)({style:{marginRight:5,fontWeight:600}},v),{},{children:s})),(0,o.jsx)("label",(0,t.Z)((0,t.Z)({style:{marginRight:5,fontWeight:500}},m),{},{children:r}))]}))}},51379:function(e,n,s){s.r(n),s.d(n,{default:function(){return S}});var t=s(1413),l=s(72791),o=s(78687),i=s(57689),r=s(11135),a=s(25787),u=s(23814),c=s(61889),d=s(41320),x=s(29439),v=s(27391),f=s(63466),m=s(75952),j=s(3216),p=s(17238),h=s(27454),Z=s(72455),g=s(45248),y=s(80184),b=(0,Z.Z)((function(e){return(0,r.Z)((0,t.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},u.oZ),u.OR),u.VX),u.Bz))})),C=function(e){var n=e.setPoolDetailsView,s=(0,d.TL)(),t=(0,i.s0)(),r=b(),a=(0,o.v9)((function(e){return e.tenants.loadingTenant})),u=(0,o.v9)((function(e){return e.tenants.tenantInfo})),Z=(0,l.useState)([]),C=(0,x.Z)(Z,2),A=C[0],P=C[1],N=(0,l.useState)(""),_=(0,x.Z)(N,2),F=_[0],k=_[1];(0,l.useEffect)((function(){if(u){var e=u.pools?u.pools:[];P(e)}}),[u]);var T=A.filter((function(e){var n;return!(null===(n=e.name)||void 0===n||!n.toLowerCase().includes(F.toLowerCase()))})),R=[{type:"view",onClick:function(e){s((0,p.Lm)(e.name)),n()}}];return(0,y.jsxs)(l.Fragment,{children:[(0,y.jsxs)(c.ZP,{item:!0,xs:12,className:r.actionsTray,children:[(0,y.jsx)(v.Z,{placeholder:"Filter",className:r.searchField,id:"search-resource",label:"",onChange:function(e){k(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,y.jsx)(f.Z,{position:"start",children:(0,y.jsx)(m.W1M,{})})},variant:"standard"}),(0,y.jsx)(h.Z,{tooltip:"Expand Tenant",children:(0,y.jsx)(m.zxk,{id:"expand-tenant",label:"Expand Tenant",onClick:function(){t("/namespaces/".concat((null===u||void 0===u?void 0:u.namespace)||"","/tenants/").concat((null===u||void 0===u?void 0:u.name)||"","/add-pool"))},icon:(0,y.jsx)(m.dtP,{}),variant:"callAction"})})]}),(0,y.jsx)(c.ZP,{item:!0,xs:12,className:r.tableBlock,children:(0,y.jsx)(j.Z,{itemActions:R,columns:[{label:"Name",elementKey:"name"},{label:"Total Capacity",elementKey:"capacity",renderFullObject:!0,renderFunction:function(e){return(0,g.l5)(e.volumes_per_server*e.servers*e.volume_configuration.size)}},{label:"Servers",elementKey:"servers"},{label:"Volumes/Server",elementKey:"volumes_per_server"}],isLoading:a,records:T,entityName:"Servers",idField:"name",customEmptyMessage:"No Pools found"})})]})},A=s(64554),P=s(45902),N=s(45987),_=s(36314),F=["children"],k=function(e){var n=e.children,s=void 0===n?null:n,l=(0,N.Z)(e,F);return(0,y.jsx)(_.Z,(0,t.Z)((0,t.Z)({direction:{xs:"column",sm:"row"},justifyContent:"space-between",margin:"5px 0 5px 0",spacing:{xs:1,sm:2,md:4}},l),{},{children:s}))},T={border:"#EAEAEA 1px solid",borderRadius:"3px",padding:"0px 20px",position:"relative"},R={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},w=function(){var e,n,s,r,a,u,d,x,v,f,j,p=(0,i.s0)(),h=(0,o.v9)((function(e){return e.tenants.tenantInfo})),Z=(0,o.v9)((function(e){return e.tenants.selectedPool}));if(null===h)return(0,y.jsx)(l.Fragment,{});var b=(null===(e=h.pools)||void 0===e?void 0:e.find((function(e){return e.name===Z})))||null;if(null===b)return null;var C="None";b.affinity&&(C=b.affinity.nodeAffinity?"Node Selector":"Default (Pod Anti-Affinity)");var N=function(e){var n=e.title;return(0,y.jsx)(k,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,y.jsx)("h3",{children:n})})};return(0,y.jsx)(l.Fragment,{children:(0,y.jsxs)(c.ZP,{item:!0,xs:12,sx:(0,t.Z)({},T),children:[(0,y.jsx)("div",{style:{position:"absolute",right:20,top:18},children:(0,y.jsx)(m.zxk,{icon:(0,y.jsx)(m.Jpd,{}),onClick:function(){p("/namespaces/".concat((null===h||void 0===h?void 0:h.namespace)||"","/tenants/").concat((null===h||void 0===h?void 0:h.name)||"","/edit-pool"))},label:"Edit Pool",id:"editPool"})}),(0,y.jsx)(N,{title:"Pool Configuration"}),(0,y.jsxs)(A.Z,{sx:(0,t.Z)({},R),children:[(0,y.jsx)(P.Z,{label:"Pool Name",value:b.name}),(0,y.jsx)(P.Z,{label:"Total Volumes",value:b.volumes_per_server}),(0,y.jsx)(P.Z,{label:"Volumes per server",value:b.volumes_per_server}),(0,y.jsx)(P.Z,{label:"Capacity",value:(0,g.l5)(b.volumes_per_server*b.servers*b.volume_configuration.size)}),(0,y.jsx)(P.Z,{label:"Runtime Class Name",value:b.runtimeClassName})]}),(0,y.jsx)(N,{title:"Resources"}),(0,y.jsxs)(A.Z,{sx:(0,t.Z)({},R),children:[b.resources&&(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(P.Z,{label:"CPU",value:null===(n=b.resources)||void 0===n||null===(s=n.requests)||void 0===s?void 0:s.cpu}),(0,y.jsx)(P.Z,{label:"Memory",value:(0,g.l5)(null===(r=b.resources)||void 0===r||null===(a=r.requests)||void 0===a?void 0:a.memory)})]}),(0,y.jsx)(P.Z,{label:"Volume Size",value:(0,g.l5)(b.volume_configuration.size)}),(0,y.jsx)(P.Z,{label:"Storage Class Name",value:b.volume_configuration.storage_class_name})]}),b.securityContext&&(b.securityContext.runAsNonRoot||b.securityContext.runAsUser||b.securityContext.runAsGroup||b.securityContext.fsGroup)&&(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(N,{title:"Security Context"}),(0,y.jsxs)(A.Z,{children:[null!==b.securityContext.runAsNonRoot&&(0,y.jsx)(A.Z,{sx:(0,t.Z)({},R),children:(0,y.jsx)(P.Z,{label:"Run as Non Root",value:b.securityContext.runAsNonRoot?"Yes":"No"})}),(0,y.jsxs)(A.Z,{sx:(0,t.Z)((0,t.Z)({},R),{},{gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr",md:"1fr 1fr 1fr"}}),children:[b.securityContext.runAsUser&&(0,y.jsx)(P.Z,{label:"Run as User",value:b.securityContext.runAsUser}),b.securityContext.runAsGroup&&(0,y.jsx)(P.Z,{label:"Run as Group",value:b.securityContext.runAsGroup}),b.securityContext.fsGroup&&(0,y.jsx)(P.Z,{label:"FsGroup",value:b.securityContext.fsGroup})]})]})]}),(0,y.jsx)(N,{title:"Affinity"}),(0,y.jsxs)(A.Z,{children:[(0,y.jsxs)(A.Z,{sx:(0,t.Z)({},R),children:[(0,y.jsx)(P.Z,{label:"Type",value:C}),null!==(u=b.affinity)&&void 0!==u&&u.nodeAffinity&&null!==(d=b.affinity)&&void 0!==d&&d.podAntiAffinity?(0,y.jsx)(P.Z,{label:"With Pod Anti affinity",value:"Yes"}):(0,y.jsx)("span",{})]}),(null===(x=b.affinity)||void 0===x?void 0:x.nodeAffinity)&&(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(N,{title:"Labels"}),(0,y.jsx)("ul",{children:null===(v=b.affinity)||void 0===v||null===(f=v.nodeAffinity)||void 0===f||null===(j=f.requiredDuringSchedulingIgnoredDuringExecution)||void 0===j?void 0:j.nodeSelectorTerms.map((function(e){var n;return null===(n=e.matchExpressions)||void 0===n?void 0:n.map((function(e){var n;return(0,y.jsxs)("li",{children:[e.key," - ",null===(n=e.values)||void 0===n?void 0:n.join(", ")]})}))}))})]})]}),b.tolerations&&b.tolerations.length>0&&(0,y.jsxs)(l.Fragment,{children:[(0,y.jsx)(N,{title:"Tolerations"}),(0,y.jsx)(A.Z,{children:(0,y.jsx)("ul",{children:b.tolerations.map((function(e){var n,s;return(0,y.jsx)("li",{children:"Equal"===e.operator?(0,y.jsxs)(l.Fragment,{children:["If ",(0,y.jsx)("strong",{children:e.key})," is equal to"," ",(0,y.jsx)("strong",{children:e.value})," then"," ",(0,y.jsx)("strong",{children:e.effect})," after"," ",(0,y.jsx)("strong",{children:(null===(n=e.tolerationSeconds)||void 0===n?void 0:n.seconds)||0})," ","seconds"]}):(0,y.jsxs)(l.Fragment,{children:["If ",(0,y.jsx)("strong",{children:e.key})," exists then"," ",(0,y.jsx)("strong",{children:e.effect})," after"," ",(0,y.jsx)("strong",{children:(null===(s=e.tolerationSeconds)||void 0===s?void 0:s.seconds)||0})," ","seconds"]})})}))})})]})]})})},S=(0,a.Z)((function(e){return(0,r.Z)((0,t.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},u.oZ),u.OR),u.VX),u.Bz))}))((function(e){var n=e.classes,s=(0,d.TL)(),t=(0,i.s0)(),r=(0,i.TH)().pathname,a=void 0===r?"":r,u=(0,o.v9)((function(e){return e.tenants.selectedPool})),x=(0,o.v9)((function(e){return e.tenants.poolDetailsOpen}));return(0,y.jsxs)(l.Fragment,{children:[x&&(0,y.jsx)(c.ZP,{item:!0,xs:12,children:(0,y.jsx)(m.hbI,{label:"Pools list",onClick:function(){t(a),s((0,p.AH)(!1))}})}),(0,y.jsx)("h1",{className:n.sectionTitle,children:x?"Pool Details - ".concat(u||""):"Pools"}),(0,y.jsx)(c.ZP,{container:!0,children:x?(0,y.jsx)(w,{}):(0,y.jsx)(C,{setPoolDetailsView:function(){s((0,p.AH)(!0))}})})]})}))}}]);
//# sourceMappingURL=379.56027397.chunk.js.map
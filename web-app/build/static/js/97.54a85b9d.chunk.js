"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[97],{9505:(e,t,i)=>{i.d(t,{Z:()=>l});var s=i(2791),n=i(1207);const l=(e,t)=>{const[i,l]=(0,s.useState)(!1);return[i,(i,s,a,o)=>{l(!0),n.Z.invoke(i,s,a,o).then((t=>{l(!1),e(t)})).catch((e=>{l(!1),t(e)}))}]}},97:(e,t,i)=>{i.r(t),i.d(t,{default:()=>I});var s=i(2791),n=i(9945),l=i(6444),a=i(6181),o=i.n(a),r=i(4440),x=i(184);const c=l.ZP.a((e=>{let{theme:t}=e;return{color:o()(t,"linkColor","#2781B0"),fontWeight:600}})),d=e=>{let{icon:t=null,title:i}=e;return(0,x.jsxs)(n.xuv,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:[t,(0,x.jsx)("div",{className:"title-text",children:i})]})},p=e=>{let{email:t}=e;return(0,x.jsxs)(s.Fragment,{children:[(0,x.jsx)(r.Z,{email:t}),(0,x.jsx)(n.rjZ,{item:!0,xs:12,sx:{marginTop:25},children:(0,x.jsxs)(n.xuv,{sx:{padding:"20px","& a":{color:"#2781B0",cursor:"pointer"}},children:["Login to"," ",(0,x.jsx)(c,{href:"https://subnet.min.io",target:"_blank",children:"SUBNET"})," ","to avail support for this MinIO cluster"]})})]})};var u=i(1207),h=i(7689),g=i(1320),m=i(7995),f=i(6087),j=i(3508),v=i(9505);const b=e=>{let{open:t,closeModal:i,onSet:l}=e;const a=(0,g.TL)(),[o,r]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[p,u]=(0,s.useState)(""),[h,f]=(0,s.useState)(""),[b,y]=(0,v.Z)((e=>{e.mfa_token?u(e.mfa_token):e.access_token?y("GET","/api/v1/subnet/apikey?token=".concat(e.access_token)):(l(e.apiKey),i())}),(e=>{a((0,m.Ih)(e)),i(),r(""),d(""),u(""),f("")})),w=()=>(0,x.jsxs)(n.ltY,{withBorders:!1,containerPadding:!1,children:[(0,x.jsx)(n.Wzg,{id:"subnet-email",name:"subnet-email",onChange:e=>r(e.target.value),label:"Email",value:o,overlayIcon:(0,x.jsx)(n.oyc,{})}),(0,x.jsx)(n.Wzg,{id:"subnet-password",name:"subnet-password",onChange:e=>d(e.target.value),label:"Password",type:"password",value:c})]}),k=()=>(0,x.jsx)(n.xuv,{sx:{display:"flex"},children:(0,x.jsxs)(n.xuv,{sx:{display:"flex",flexFlow:"column",flex:"2"},children:[(0,x.jsx)(n.xuv,{sx:{fontSize:14,display:"flex",flexFlow:"column",marginTop:20,marginBottom:20},children:"Two-Factor Authentication"}),(0,x.jsx)(n.xuv,{children:"Please enter the 6-digit verification code that was sent to your email address. This code will be valid for 5 minutes."}),(0,x.jsx)(n.xuv,{sx:{flex:"1",marginTop:"30px"},children:(0,x.jsx)(n.Wzg,{overlayIcon:(0,x.jsx)(n.mBM,{}),id:"subnet-otp",name:"subnet-otp",onChange:e=>f(e.target.value),placeholder:"",label:"",value:h})})]})});return t?(0,x.jsx)(j.Z,{title:"Get API Key from SUBNET",confirmText:"Get API Key",isOpen:t,titleIcon:(0,x.jsx)(n.szr,{}),isLoading:b,cancelText:"Cancel",onConfirm:()=>{""!==p?y("POST","/api/v1/subnet/login/mfa",{username:o,otp:h,mfa_token:p}):y("POST","/api/v1/subnet/login",{username:o,password:c})},onClose:i,confirmButtonProps:{variant:"callAction",disabled:!o||!c||b,hidden:!0},cancelButtonProps:{disabled:b},confirmationContent:""===p?w():k()}):null},y=l.ZP.a((e=>{let{theme:t}=e;return{color:o()(t,"linkColor","#2781B0"),fontWeight:600}})),w=e=>{let{icon:t,description:i}=e;return(0,x.jsxs)(n.xuv,{sx:{display:"flex","& .min-icon":{marginRight:"10px",height:"23px",width:"23px",marginBottom:"10px"}},children:[t," ",(0,x.jsx)(n.xuv,{className:"muted",sx:{fontSize:"14px",fontStyle:"italic"},children:i})]})},k=e=>{let{hasMargin:t=!0}=e;return(0,x.jsxs)(n.xuv,{withBorders:!0,sx:{flex:1,display:"flex",flexFlow:"column",padding:"20px",marginLeft:t?"30px":"",["@media (max-width: ".concat(n.Egj.sm,"px)")]:{marginLeft:0,marginTop:0},["@media (max-width: ".concat(n.Egj.md,"px)")]:{marginLeft:0,marginTop:t?"30px":""}},children:[(0,x.jsxs)(n.xuv,{sx:{fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",marginBottom:"16px","& .min-icon":{height:"21px",width:"21px",marginRight:"15px"}},children:[(0,x.jsx)(n.M9A,{}),(0,x.jsx)("div",{children:"Why should I register?"})]}),(0,x.jsx)(n.xuv,{sx:{fontSize:"14px",marginBottom:"15px"},children:"Registering this cluster with the MinIO Subscription Network (SUBNET) provides the following benefits in addition to the commercial license and SLA backed support."}),(0,x.jsxs)(n.xuv,{sx:{display:"flex",flexFlow:"column"},children:[(0,x.jsx)(w,{icon:(0,x.jsx)(n._qw,{}),description:"Call Home Monitoring"}),(0,x.jsx)(w,{icon:(0,x.jsx)(n.toM,{}),description:"Health Diagnostics"}),(0,x.jsx)(w,{icon:(0,x.jsx)(n.Fsz,{}),description:"Performance Analysis"}),(0,x.jsx)(w,{icon:(0,x.jsx)(n.EQx,{}),description:(0,x.jsx)(y,{href:"https://min.io/signup?ref=op",target:"_blank",children:"More Features"})})]})]})},S=e=>{let{registerEndpoint:t}=e;const i=(0,h.s0)(),[l,a]=(0,s.useState)(!1),[o,r]=(0,s.useState)(""),[c,p]=(0,s.useState)(!1),[j,v]=(0,s.useState)(!1),y=(0,g.TL)(),w=(0,s.useCallback)((()=>{if(c)return;p(!0);let e={apiKey:o};u.Z.invoke("POST",t,e).then((e=>{p(!1),e&&e.registered&&i(f.gA.LICENSE)})).catch((e=>{y((0,m.Ih)(e)),p(!1),S()}))}),[o,y,c,t,i]);(0,s.useEffect)((()=>{j&&w()}),[j,w]);const S=()=>{r(""),v(!1)};return(0,x.jsxs)(s.Fragment,{children:[(0,x.jsx)(n.xuv,{sx:{"& .title-text":{marginLeft:"27px",fontWeight:600}},children:(0,x.jsx)(d,{icon:(0,x.jsx)(n.dRy,{}),title:"Register cluster with API key"})}),(0,x.jsxs)(n.xuv,{sx:{display:"flex",flexFlow:"row",["@media (max-width: ".concat(n.Egj.sm,"px)")]:{flexFlow:"column"}},children:[(0,x.jsxs)(n.xuv,{sx:{display:"flex",flexFlow:"column",flex:"2"},children:[(0,x.jsx)(n.xuv,{sx:{fontSize:16,display:"flex",flexFlow:"column",marginTop:30,marginBottom:30},children:"Use your MinIO Subscription Network API Key to register this cluster."}),(0,x.jsxs)(n.xuv,{sx:{flex:"1"},children:[(0,x.jsx)(n.Wzg,{id:"api-key",name:"api-key",onChange:e=>r(e.target.value),label:"API Key",value:o,sx:{minWidth:"75px",marginBottom:15}}),(0,x.jsxs)(n.xuv,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:10},children:[(0,x.jsx)(n.zxk,{id:"get-from-subnet",variant:"regular",disabled:c,onClick:()=>a(!0),label:"Get from SUBNET"}),(0,x.jsx)(n.zxk,{id:"register",type:"submit",variant:"callAction",disabled:c||0===o.trim().length,onClick:()=>w(),label:"Register"}),(0,x.jsx)(b,{open:l,closeModal:()=>a(!1),onSet:e=>{r(e),v(!0)}})]})]})]}),(0,x.jsx)(k,{})]})]})};var C=i(9435);const I=()=>{const[e,t]=(0,s.useState)(!1),[i,l]=(0,s.useState)("simple-tab-0"),a=(0,s.useCallback)((()=>{u.Z.invoke("GET","/api/v1/subnet/apikey/info").then((e=>{t(!0)})).catch((e=>{t(!1)}))}),[]);(0,s.useEffect)((()=>{a()}),[a]);const o=(0,x.jsx)(s.Fragment,{children:(0,x.jsx)(n.xuv,{withBorders:!0,sx:{display:"flex",flexFlow:"column",padding:"43px"},children:e?(0,x.jsx)(p,{email:"Operator"}):(0,x.jsx)(S,{registerEndpoint:"/api/v1/subnet/apikey/register"})})});return(0,x.jsxs)(s.Fragment,{children:[(0,x.jsx)(C.Z,{label:"Register to MinIO Subscription Network"}),(0,x.jsx)(n.Xgh,{children:(0,x.jsx)(n.mQc,{currentTabOrPath:i,onTabClick:e=>{l(e)},options:[{tabConfig:{id:"simple-tab-0",label:"API Key"},content:o}],horizontal:!0})})]})}},4440:(e,t,i)=>{i.d(t,{Z:()=>l});i(2791);var s=i(9945),n=i(184);const l=e=>{let{email:t=""}=e;return(0,n.jsxs)(s.xuv,{sx:{height:"67px",color:"#ffffff",display:"flex",position:"relative",top:"-30px",left:"-32px",width:"calc(100% + 64px)",alignItems:"center",justifyContent:"space-between",backgroundColor:"#2781B0",padding:"0 25px 0 25px","& .registered-box, .reg-badge-box":{display:"flex",alignItems:"center",justifyContent:"flex-start"},"& .reg-badge-box":{marginLeft:"20px","& .min-icon":{fill:"#2781B0"}}},children:[(0,n.jsxs)(s.xuv,{className:"registered-box",children:[(0,n.jsx)(s.xuv,{sx:{fontSize:"16px",fontWeight:400},children:"Register status:"}),(0,n.jsxs)(s.xuv,{className:"reg-badge-box",children:[(0,n.jsx)(s.SA,{}),(0,n.jsx)(s.xuv,{sx:{fontWeight:600},children:"Registered"})]})]}),(0,n.jsxs)(s.xuv,{className:"registered-acc-box",sx:{alignItems:"center",justifyContent:"flex-start",display:"flex",["@media (max-width: ".concat(s.Egj.sm,"px)")]:{display:"none"}},children:[(0,n.jsx)(s.xuv,{sx:{fontSize:"16px",fontWeight:400},children:"Registered to:"}),(0,n.jsx)(s.xuv,{sx:{marginLeft:"8px",fontWeight:600},children:t})]})]})}}}]);
//# sourceMappingURL=97.54a85b9d.chunk.js.map
"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[405],{13871:function(e,n,t){var a,i=t(30168),l=(0,t(26088).Z)("hr")(a||(a=(0,i.Z)(["\n  border-top: 0;\n  border-left: 0;\n  border-right: 0;\n  border-color: #999999;\n  background-color: transparent;\n"])));n.Z=l},96405:function(e,n,t){t.r(n);var a=t(93433),i=t(29439),l=t(1413),r=t(72791),o=t(78687),s=t(51691),c=t(13400),u=t(42419),d=t(75952),v=t(11135),f=t(25787),x=t(61889),m=t(23814),h=t(21435),Z=t(41320),g=t(87995),p=t(81207),j=t(40306),y=t(45248),b=t(13871),k=t(80184),w=(0,o.$j)((function(e){return{loadingTenant:e.tenants.loadingTenant,selectedTenant:e.tenants.currentTenant,tenant:e.tenants.tenantInfo}}),null);n.default=(0,f.Z)((function(e){return(0,v.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({},m.oZ),m.bK),{},{envVarRow:{display:"flex",alignItems:"center",justifyContent:"flex-start","&:last-child":{borderBottom:0},"@media (max-width: 900px)":{flex:1,"& div label":{minWidth:50}}},rowActions:{display:"flex",justifyContent:"flex-end","@media (max-width: 900px)":{flex:1}},overlayAction:{marginLeft:10,"& svg":{width:15,height:15,maxWidth:15,maxHeight:15},"& button":{background:"#EAEAEA"}},loaderAlign:{textAlign:"center"},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}}},m.Bz),m.QV),m.DF),m.oO),m.AK))}))(w((function(e){var n=e.classes,t=(0,Z.TL)(),l=(0,o.v9)((function(e){return e.tenants.tenantInfo})),v=(0,o.v9)((function(e){return e.tenants.loadingTenant})),f=(0,r.useState)(!1),m=(0,i.Z)(f,2),w=m[0],C=m[1],A=(0,r.useState)(!1),_=(0,i.Z)(A,2),T=_[0],I=_[1],N=(0,r.useState)([]),P=(0,i.Z)(N,2),S=P[0],V=P[1],E=(0,r.useState)([]),R=(0,i.Z)(E,2),z=R[0],F=R[1],H=(0,r.useCallback)((function(){p.Z.invoke("GET","/api/v1/namespaces/".concat(null===l||void 0===l?void 0:l.namespace,"/tenants/").concat(null===l||void 0===l?void 0:l.name,"/configuration")).then((function(e){e.environmentVariables&&V(e.environmentVariables)})).catch((function(e){t((0,g.Ih)(e))}))}),[l,t]);(0,r.useEffect)((function(){l&&H()}),[l,H]);return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(j.Z,{title:"Save and Restart",confirmText:"Restart",cancelText:"Cancel",titleIcon:(0,k.jsx)(d.EjK,{}),isLoading:w,onClose:function(){return I(!1)},isOpen:T,onConfirm:function(){C(!0);var e={environmentVariables:S.filter((function(e){return""!==e.key})),keysToBeDeleted:z};p.Z.invoke("PATCH","/api/v1/namespaces/".concat(null===l||void 0===l?void 0:l.namespace,"/tenants/").concat(null===l||void 0===l?void 0:l.name,"/configuration"),e).then((function(){C(!1),I(!1),H()})).catch((function(e){t((0,g.Ih)(e)),C(!1)}))},confirmationContent:(0,k.jsx)(s.Z,{children:"Are you sure you want to save the changes and restart the service?"})}),v?(0,k.jsx)("div",{className:n.loaderAlign,children:(0,k.jsx)(d.aNw,{})}):(0,k.jsxs)(x.ZP,{container:!0,spacing:1,children:[(0,k.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,k.jsx)("h1",{className:n.sectionTitle,children:"Configuration"}),(0,k.jsx)(b.Z,{})]}),(0,k.jsx)(x.ZP,{container:!0,spacing:1,children:S.map((function(e,t){return(0,k.jsxs)(x.ZP,{item:!0,xs:12,className:"".concat(n.formFieldRow," ").concat(n.envVarRow),children:[(0,k.jsx)(x.ZP,{item:!0,xs:5,className:n.fileItem,children:(0,k.jsx)(h.Z,{id:"env_var_key",name:"env_var_key",label:"Key",value:e.key,onChange:function(e){var n=(0,a.Z)(S);V(n.map((function(n,a){return a===t?{key:e.target.value,value:n.value}:n})))},index:t},"env_var_key_".concat(t.toString()))}),(0,k.jsx)(x.ZP,{item:!0,xs:5,className:n.fileItem,children:(0,k.jsx)(h.Z,{id:"env_var_value",name:"env_var_value",label:"Value",value:e.value,onChange:function(e){var n=(0,a.Z)(S);V(n.map((function(n,a){return a===t?{key:n.key,value:e.target.value}:n})))},index:t,type:y.Gq[e.key]&&y.Gq[e.key].secret?"password":"text"},"env_var_value_".concat(t.toString()))}),(0,k.jsxs)(x.ZP,{item:!0,xs:2,className:n.rowActions,children:[(0,k.jsx)("div",{className:n.overlayAction,children:(0,k.jsx)(c.Z,{size:"small",onClick:function(){var e=(0,a.Z)(S);e.push({key:"",value:""}),V(e)},disabled:t!==S.length-1,children:(0,k.jsx)(u.Z,{})})}),(0,k.jsx)("div",{className:n.overlayAction,children:(0,k.jsx)(c.Z,{size:"small",onClick:function(){var n=S.filter((function(e,n){return n!==t}));V(n),F([].concat((0,a.Z)(z),[e.key]))},disabled:S.length<=1,children:(0,k.jsx)(d.HFL,{})})})]})]},"tenant-envVar-".concat(t.toString()))}))}),(0,k.jsx)(x.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,k.jsx)(d.zxk,{id:"save-environment-variables",type:"submit",variant:"callAction",disabled:T||w,onClick:function(){return I(!0)},label:"Save"})})]})]})})))},42419:function(e,n,t){var a=t(64836);n.Z=void 0;var i=a(t(45649)),l=t(80184),r=(0,i.default)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.Z=r}}]);
//# sourceMappingURL=405.407313e0.chunk.js.map
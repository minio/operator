"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[666],{4681:(e,n,t)=>{t.d(n,{A:()=>o});t(5043);var s=t(9923),a=t(579);const o=e=>{let{placeholder:n="",onChange:t,overrideClass:o,value:l,id:i="search-resource",label:r="",sx:c}=e;return(0,a.jsx)(s.cl_,{placeholder:n,className:o||"",id:i,label:r,onChange:e=>{t(e.target.value)},value:l,startIcon:(0,a.jsx)(s.WIv,{}),sx:c})}},6746:(e,n,t)=>{t.d(n,{A:()=>i});var s=t(5043),a=t(9923),o=t(579);const l=e=>{const{event:n}=e,[t,l]=s.useState(!1);return(0,o.jsxs)(s.Fragment,{children:[(0,o.jsxs)(a.Hjg,{sx:{cursor:"pointer"},children:[(0,o.jsx)(a.TlP,{scope:"row",onClick:()=>l(!t),sx:{borderBottom:0},children:n.event_type}),(0,o.jsx)(a.nA6,{onClick:()=>l(!t),sx:{borderBottom:0},children:n.reason}),(0,o.jsx)(a.nA6,{onClick:()=>l(!t),sx:{borderBottom:0},children:n.seen}),(0,o.jsx)(a.nA6,{onClick:()=>l(!t),sx:{borderBottom:0},children:n.message.length>=30?"".concat(n.message.slice(0,30),"..."):n.message}),(0,o.jsx)(a.nA6,{onClick:()=>l(!t),sx:{borderBottom:0},children:t?(0,o.jsx)(a.FUY,{}):(0,o.jsx)(a.QpL,{})})]}),(0,o.jsx)(a.Hjg,{children:(0,o.jsx)(a.nA6,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:t&&(0,o.jsx)(a.azJ,{useBackground:!0,sx:{padding:10,marginBottom:10},children:n.message})})})]})},i=e=>{let{events:n,loading:t}=e;return t?(0,o.jsx)(a.z21,{}):(0,o.jsx)(a.azJ,{withBorders:!0,customBorderPadding:"0px",children:(0,o.jsxs)(a.XIK,{"aria-label":"collapsible table",children:[(0,o.jsx)(a.ndF,{children:(0,o.jsxs)(a.Hjg,{children:[(0,o.jsx)(a.nA6,{children:"Type"}),(0,o.jsx)(a.nA6,{children:"Reason"}),(0,o.jsx)(a.nA6,{children:"Age"}),(0,o.jsx)(a.nA6,{children:"Message"}),(0,o.jsx)(a.nA6,{})]})}),(0,o.jsx)(a.BFY,{children:n.map((e=>(0,o.jsx)(l,{event:e},"".concat(e.event_type,"-").concat(e.seen))))})]})})}},5367:(e,n,t)=>{t.r(n),t.d(n,{default:()=>E});var s=t(5043),a=t(9923),o=t(3216),l=t(5475),i=t(9456),r=t(8064),c=t(4574),d=t(3097),p=t.n(d),m=t(2961),u=t(4159),h=t(4681),x=t(649),j=t(579);const g=c.Ay.div((e=>{let{theme:n}=e;return{"&.highlighted":{"& span":{backgroundColor:p()(n,"signalColors.warning","#FFBD62")}},"& .ansidefault":{color:p()(n,"fontColor","#000"),lineHeight:"16px"}}})),b=e=>{let{tenant:n,namespace:t,podName:o,propLoading:l}=e;const c=(0,m.jL)(),d=(0,i.d4)((e=>e.tenants.loadingTenant)),[p,b]=(0,s.useState)(""),[f,v]=(0,s.useState)([]),[y,C]=(0,s.useState)(!0),S=new r.jS({minWidth:5,fixedHeight:!1});(0,s.useEffect)((()=>{l&&C(!0)}),[l]),(0,s.useEffect)((()=>{d&&C(!0)}),[d]);const w=(e,n)=>{if(!e)return null;let t=(e=e.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),s=""!==p&&e.toLowerCase().includes(p.toLowerCase());return t.startsWith("   ")?(0,j.jsx)(g,{className:"".concat(s?"highlighted":""),children:(0,j.jsx)("span",{className:"tab",children:t})},n):(0,j.jsx)(g,{className:"".concat(s?"highlighted":""),children:(0,j.jsx)("span",{className:"ansidefault",children:t})},n)};function W(e){let{columnIndex:n,key:t,parent:s,index:a,style:o}=e;return(0,j.jsx)(r.dl,{cache:S,columnIndex:n,parent:s,rowIndex:a,children:(0,j.jsx)("div",{style:{...o},children:w(f[a],a)})},t)}return(0,s.useEffect)((()=>{y&&x.A.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(o)).then((e=>{v(e.split("\n")),C(!1)})).catch((e=>{c((0,u.C9)(e)),C(!1)}))}),[y,o,t,n,c]),(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(a.xA9,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",alignItems:"center",gap:10,"& button":{flexGrow:0,marginLeft:8}},children:(0,j.jsx)(h.A,{value:p,placeholder:"Highlight Line",onChange:e=>{b(e)}})}),(0,j.jsx)(a.xA9,{item:!0,xs:12,children:(0,j.jsx)(a.azJ,{sx:{minHeight:400,height:"calc(100vh - 310px)",overflow:"hidden",fontSize:13,padding:"25px 45px 0"},useBackground:!0,withBorders:!0,children:f.length>=1&&(0,j.jsx)(r.t$,{children:e=>{let{width:n,height:t}=e;return(0,j.jsx)(r.B8,{rowHeight:e=>S.rowHeight(e),overscanRowCount:15,rowCount:f.length,rowRenderer:W,width:n,height:t})}})})})]})};var f=t(6483),v=t(6746);const y=e=>{let{tenant:n,namespace:t,podName:o,propLoading:l}=e;const r=(0,m.jL)(),c=(0,i.d4)((e=>e.tenants.loadingTenant)),[d,p]=(0,s.useState)([]),[h,g]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{l&&g(!0)}),[l]),(0,s.useEffect)((()=>{c&&g(!0)}),[c]),(0,s.useEffect)((()=>{h&&x.A.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(o,"/events")).then((e=>{for(let n=0;n<e.length;n++){let t=Date.now()/1e3|0;e[n].seen=(0,f.hr)((t-e[n].last_seen).toString())}p(e),g(!1)})).catch((e=>{r((0,u.C9)(e)),g(!1)}))}),[h,o,t,n,r]),(0,j.jsx)(s.Fragment,{children:(0,j.jsx)(a.xA9,{item:!0,xs:12,children:(0,j.jsx)(v.A,{events:d,loading:h})})})},C={display:"grid",gridTemplateColumns:"2fr 1fr",gridAutoFlow:"row",gap:2,padding:"15px",["@media (max-width: ".concat(a.nmC.sm,"px)")]:{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}},S=e=>{let{title:n}=e;return(0,j.jsx)(a._xt,{separator:!0,sx:{marginBottom:5},children:n})},w=e=>{let{describeInfo:n}=e;return(0,j.jsx)(s.Fragment,{children:(0,j.jsxs)("div",{id:"pod-describe-summary-content",children:[(0,j.jsx)(S,{title:"Summary"}),(0,j.jsxs)(a.azJ,{sx:{...C},children:[(0,j.jsx)(a.mZW,{label:"Name",value:n.name}),(0,j.jsx)(a.mZW,{label:"Namespace",value:n.namespace}),(0,j.jsx)(a.mZW,{label:"Node",value:n.nodeName}),(0,j.jsx)(a.mZW,{label:"Start time",value:n.startTime}),(0,j.jsx)(a.mZW,{label:"Status",value:n.phase}),(0,j.jsx)(a.mZW,{label:"QoS Class",value:n.qosClass}),(0,j.jsx)(a.mZW,{label:"IP",value:n.podIP})]})]})})},W=e=>{let{annotations:n}=e;return(0,j.jsx)(s.Fragment,{children:(0,j.jsxs)("div",{id:"pod-describe-annotations-content",children:[(0,j.jsx)(S,{title:"Annotations"}),(0,j.jsx)(a.azJ,{children:n.map(((e,n)=>(0,j.jsx)(a.vwO,{id:"".concat(e.key,"-").concat(e.value),sx:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)))})]})})},F=e=>{let{labels:n}=e;return(0,j.jsx)(s.Fragment,{children:(0,j.jsxs)("div",{id:"pod-describe-labels-content",children:[(0,j.jsx)(S,{title:"Labels"}),(0,j.jsx)(a.azJ,{children:n.map(((e,n)=>(0,j.jsx)(a.vwO,{id:"".concat(e.key,"-").concat(e.value),sx:{margin:"0.5%"},label:"".concat(e.key,": ").concat(e.value)},n)))})]})})},A=e=>{let{conditions:n}=e;return(0,j.jsx)("div",{id:"pod-describe-conditions-content",children:(0,j.jsx)(_,{title:"Conditions",columns:["type","status"],columnsLabels:["Type","Status"],items:n})})},k=e=>{let{tolerations:n}=e;return(0,j.jsx)("div",{id:"pod-describe-tolerations-content",children:(0,j.jsx)(_,{title:"Tolerations",columns:["effect","key","operator","tolerationSeconds"],columnsLabels:["Effect","Key","Operator","Seconds of toleration"],items:n})})},N=e=>{let{volumes:n}=e;return(0,j.jsx)(s.Fragment,{children:(0,j.jsx)("div",{id:"pod-describe-volumes-content",children:n.map(((e,n)=>(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(S,{title:"Volume ".concat(e.name)}),(0,j.jsxs)(a.azJ,{sx:{...C},children:[e.pvc&&(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(a.mZW,{label:"Type",value:"Persistant Volume Claim"}),(0,j.jsx)(a.mZW,{label:"Claim Name",value:e.pvc.claimName})]}),e.projected&&(0,j.jsx)(a.mZW,{label:"Type",value:"Projected"})]})]},n)))})})},_=e=>{let{title:n,items:t,columns:o,columnsLabels:l}=e;return(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(S,{title:n}),(0,j.jsx)(a.azJ,{children:(0,j.jsxs)(a.XIK,{"aria-label":"collapsible table",children:[(0,j.jsx)(a.ndF,{children:(0,j.jsx)(a.Hjg,{children:l.map(((e,n)=>(0,j.jsx)(a.nA6,{children:e},n)))})}),(0,j.jsx)(a.BFY,{children:t.map(((e,n)=>(0,j.jsx)(a.Hjg,{children:o.map(((n,t)=>(0,j.jsx)(a.nA6,{children:e[n]},t)))},n)))})]})})]})},B=e=>{let{containers:n}=e;return(0,j.jsx)(s.Fragment,{children:(0,j.jsx)("div",{id:"pod-describe-containers-content",children:n.map(((e,n)=>{var t,o;return(0,j.jsxs)(s.Fragment,{children:[(0,j.jsx)(S,{title:"Container ".concat(e.name)}),(0,j.jsxs)(a.azJ,{style:{wordBreak:"break-all"},sx:{...C},children:[(0,j.jsx)(a.mZW,{label:"Image",value:e.image}),(0,j.jsx)(a.mZW,{label:"Ready",value:"".concat(e.ready)}),(0,j.jsx)(a.mZW,{label:"Ports",value:e.ports.join(", ")}),(0,j.jsx)(a.mZW,{label:"Host Ports",value:e.hostPorts.join(", ")}),(0,j.jsx)(a.mZW,{label:"Arguments",value:e.args.join(", ")}),(0,j.jsx)(a.mZW,{label:"Started",value:null===(t=e.state)||void 0===t?void 0:t.started}),(0,j.jsx)(a.mZW,{label:"State",value:null===(o=e.state)||void 0===o?void 0:o.state})]}),(0,j.jsxs)(a.azJ,{style:{wordBreak:"break-all"},sx:{...C},children:[(0,j.jsx)(a.mZW,{label:"Image ID",value:e.imageID}),(0,j.jsx)(a.mZW,{label:"Container ID",value:e.containerID})]}),(0,j.jsx)(_,{title:"Mounts",columns:["name","mountPath"],columnsLabels:["Name","Mount Path"],items:e.mounts}),(0,j.jsx)(_,{title:"Environment Variables",columns:["key","value"],columnsLabels:["Key","Value"],items:e.environmentVariables})]},n)}))})})},P=e=>{let{tenant:n,namespace:t,podName:o,propLoading:l}=e;const r=(0,m.jL)(),c=(0,i.d4)((e=>e.tenants.loadingTenant)),[d,p]=(0,s.useState)(),[h,g]=(0,s.useState)(!0),[b,f]=(0,s.useState)("pod-describe-summary");(0,s.useEffect)((()=>{l&&g(!0)}),[l]),(0,s.useEffect)((()=>{c&&g(!0)}),[c]),(0,s.useEffect)((()=>{h&&x.A.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(n,"/pods/").concat(o,"/describe")).then((e=>{const n=v(e);p(n),g(!1)})).catch((e=>{r((0,u.C9)(e)),g(!1)}))}),[h,o,t,n,r]);const v=e=>(e.containers=e.containers.map((e=>(e.environmentVariables=e.environmentVariables.filter((e=>null!==e)),e))),e);return(0,j.jsx)(s.Fragment,{children:d&&(0,j.jsx)(a.xA9,{item:!0,xs:12,children:(0,j.jsx)(a.tUM,{currentTabOrPath:b,onTabClick:e=>{f(e)},horizontal:!0,options:[{tabConfig:{id:"pod-describe-summary",label:"Summary"},content:(0,j.jsx)(w,{describeInfo:d})},{tabConfig:{id:"pod-describe-annotations",label:"Annotations"},content:(0,j.jsx)(W,{annotations:d.annotations})},{tabConfig:{id:"pod-describe-labels",label:"Labels"},content:(0,j.jsx)(F,{labels:d.labels})},{tabConfig:{id:"pod-describe-conditions",label:"Conditions"},content:(0,j.jsx)(A,{conditions:d.conditions})},{tabConfig:{id:"pod-describe-tolerations",label:"Tolerations"},content:(0,j.jsx)(k,{tolerations:d.tolerations})},{tabConfig:{id:"pod-describe-volumes",label:"Volumes"},content:(0,j.jsx)(N,{volumes:d.volumes})},{tabConfig:{id:"pod-describe-containers",label:"Containers"},content:(0,j.jsx)(B,{containers:d.containers})}]})})})},E=()=>{const{tenantNamespace:e,tenantName:n,podName:t}=(0,o.g)(),[i,r]=(0,s.useState)("simple-tab-0"),[c,d]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{c&&d(!1)}),[c]),(0,j.jsxs)(s.Fragment,{children:[(0,j.jsxs)(a._xt,{separator:!0,sx:{marginBottom:15},children:[(0,j.jsx)(l.N_,{to:"/namespaces/".concat(e||"","/tenants/").concat(n||"","/pods"),children:"Pods"})," ","> ",t]}),(0,j.jsx)(a.tUM,{options:[{tabConfig:{id:"simple-tab-0",label:"Events"},content:(0,j.jsx)(y,{tenant:n||"",namespace:e||"",podName:t||"",propLoading:c})},{tabConfig:{id:"simple-tab-1",label:"Describe"},content:(0,j.jsx)(P,{tenant:n||"",namespace:e||"",podName:t||"",propLoading:c})},{tabConfig:{id:"simple-tab-2",label:"Logs"},content:(0,j.jsx)(b,{tenant:n||"",namespace:e||"",podName:t||"",propLoading:c})}],currentTabOrPath:i,onTabClick:e=>{r(e)},horizontal:!0})]})}},5484:(e,n,t)=>{function s(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(n){var t=this.constructor.getDerivedStateFromProps(e,n);return null!==t&&void 0!==t?t:null}.bind(this))}function o(e,n){try{var t=this.props,s=this.state;this.props=e,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,s)}finally{this.props=t,this.state=s}}function l(e){var n=e.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof n.getSnapshotBeforeUpdate)return e;var t=null,l=null,i=null;if("function"===typeof n.componentWillMount?t="componentWillMount":"function"===typeof n.UNSAFE_componentWillMount&&(t="UNSAFE_componentWillMount"),"function"===typeof n.componentWillReceiveProps?l="componentWillReceiveProps":"function"===typeof n.UNSAFE_componentWillReceiveProps&&(l="UNSAFE_componentWillReceiveProps"),"function"===typeof n.componentWillUpdate?i="componentWillUpdate":"function"===typeof n.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==t||null!==l||null!==i){var r=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+r+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==t?"\n  "+t:"")+(null!==l?"\n  "+l:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(n.componentWillMount=s,n.componentWillReceiveProps=a),"function"===typeof n.getSnapshotBeforeUpdate){if("function"!==typeof n.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=o;var d=n.componentDidUpdate;n.componentDidUpdate=function(e,n,t){var s=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:t;d.call(this,e,n,s)}}return e}t.r(n),t.d(n,{polyfill:()=>l}),s.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0}}]);
//# sourceMappingURL=666.3139236b.chunk.js.map
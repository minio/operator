"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[145],{59145:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var i=t(29439),o=t(1413),a=t(72791),s=t(78687),c=t(11135),l=t(25787),r=t(61889),u=t(23814),d=t(41320),f=t(20890),p=t(45248),m=t(99779),x=t(11087),v=t(35527),h=t(75952),b=t(27454),g=t(80184),Z=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)({paperContainer:{padding:"15px",display:"flex",alignItems:"center",justifyContent:"center"},licenseInfoValue:{textTransform:"none",fontSize:14,fontWeight:"bold"},licenseContainer:{position:"relative",padding:"20px 52px 0px 28px",background:"#032F51",boxShadow:"0px 3px 7px #00000014","& h2":{color:"#FFF",marginBottom:67},"& a":{textDecoration:"none"},"& h3":{color:"#FFFFFF",marginBottom:"30px",fontWeight:"bold"},"& h6":{color:"#FFFFFF !important"}},licenseInfo:{color:"#FFFFFF",position:"relative"},licenseInfoTitle:{textTransform:"none",color:"#BFBFBF",fontSize:11},verifiedIcon:{width:96,position:"absolute",right:0,bottom:29},noUnderLine:{textDecoration:"none"}},u.Bz))}))((function(e){var n,t,i=e.classes,o=e.tenant,s=e.loadingActivateProduct,c=e.loadingLicenseInfo,l=e.licenseInfo,u=e.activateProduct,d=null!==o&&void 0!==o&&o.subnet_license?m.ou.fromISO(null===(n=o.subnet_license)||void 0===n?void 0:n.expires_at):m.ou.now();return(0,g.jsx)(v.Z,{className:o&&o.subnet_license?i.licenseContainer:"",children:o&&o.subnet_license?(0,g.jsx)(a.Fragment,{children:(0,g.jsxs)(r.ZP,{container:!0,className:i.licenseInfo,children:[(0,g.jsxs)(r.ZP,{item:!0,xs:6,children:[(0,g.jsx)(f.Z,{variant:"button",display:"block",gutterBottom:!0,className:i.licenseInfoTitle,children:"License"}),(0,g.jsx)(f.Z,{variant:"overline",display:"block",gutterBottom:!0,className:i.licenseInfoValue,children:"Commercial License"}),(0,g.jsx)(f.Z,{variant:"button",display:"block",gutterBottom:!0,className:i.licenseInfoTitle,children:"Organization"}),(0,g.jsx)(f.Z,{variant:"overline",display:"block",gutterBottom:!0,className:i.licenseInfoValue,children:o.subnet_license.organization}),(0,g.jsx)(f.Z,{variant:"button",display:"block",gutterBottom:!0,className:i.licenseInfoTitle,children:"Registered Capacity"}),(0,g.jsx)(f.Z,{variant:"overline",display:"block",gutterBottom:!0,className:i.licenseInfoValue,children:(0,p.ae)((1099511627776*((null===(t=o.subnet_license)||void 0===t?void 0:t.storage_capacity)||0)).toString(10))}),(0,g.jsx)(f.Z,{variant:"button",display:"block",gutterBottom:!0,className:i.licenseInfoTitle,children:"Expiry Date"}),(0,g.jsx)(f.Z,{variant:"overline",display:"block",gutterBottom:!0,className:i.licenseInfoValue,children:d.toFormat("yyyy-MM-dd")})]}),(0,g.jsxs)(r.ZP,{item:!0,xs:6,children:[(0,g.jsx)(f.Z,{variant:"button",display:"block",gutterBottom:!0,className:i.licenseInfoTitle,children:"Subscription Plan"}),(0,g.jsx)(f.Z,{variant:"overline",display:"block",gutterBottom:!0,className:i.licenseInfoValue,children:o.subnet_license.plan}),(0,g.jsx)(f.Z,{variant:"button",display:"block",gutterBottom:!0,className:i.licenseInfoTitle,children:"Requestor"}),(0,g.jsx)(f.Z,{variant:"overline",display:"block",gutterBottom:!0,className:i.licenseInfoValue,children:o.subnet_license.email})]}),(0,g.jsx)("img",{className:i.verifiedIcon,src:"/verified.svg",alt:"verified"})]})}):!c&&(0,g.jsxs)(r.ZP,{className:i.paperContainer,children:[!l&&(0,g.jsx)(x.rU,{to:"/license",onClick:function(e){e.stopPropagation()},className:i.noUnderLine,children:(0,g.jsx)(b.Z,{tooltip:"Activate Product",children:(0,g.jsx)(h.zxk,{id:"activate-product",label:"Activate Product",onClick:function(){return!1},variant:"callAction"})})}),l&&o&&(0,g.jsx)(b.Z,{tooltip:"Attach License",children:(0,g.jsx)(h.zxk,{id:"attach-license",disabled:s,label:"Attach License",onClick:function(){return u(o.namespace,o.name)},variant:"callAction"})})]})})})),j=t(81207),F=t(87995),I=t(17238),k=(0,l.Z)((function(e){return(0,c.Z)((0,o.Z)((0,o.Z)({},u.oZ),{},{loaderAlign:{textAlign:"center"}},u.Bz))}))((function(e){var n=e.classes,t=(0,d.TL)(),o=(0,s.v9)((function(e){return e.tenants.loadingTenant})),c=(0,s.v9)((function(e){return e.tenants.tenantInfo})),l=(0,a.useState)(),u=(0,i.Z)(l,2),f=u[0],p=u[1],m=(0,a.useState)(!0),x=(0,i.Z)(m,2),v=x[0],b=x[1],k=(0,a.useState)(!1),y=(0,i.Z)(k,2),N=y[0],B=y[1];return(0,a.useEffect)((function(){v&&j.Z.invoke("GET","/api/v1/subscription/info").then((function(e){p(e),b(!1)})).catch((function(e){b(!1)}))}),[v]),(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)("h1",{className:n.sectionTitle,children:"License"}),o?(0,g.jsx)("div",{className:n.loaderAlign,children:(0,g.jsx)(h.aNw,{})}):(0,g.jsx)(a.Fragment,{children:c&&(0,g.jsx)(r.ZP,{container:!0,children:(0,g.jsx)(r.ZP,{item:!0,xs:12,children:(0,g.jsx)(Z,{tenant:c,loadingLicenseInfo:v,loadingActivateProduct:N,licenseInfo:f,activateProduct:function(e,n){N||(B(!0),j.Z.invoke("POST","/api/v1/subscription/namespaces/".concat(e,"/tenants/").concat(n,"/activate"),{}).then((function(){B(!1),t((0,I.V2)(!0)),b(!0)})).catch((function(e){B(!1),t((0,F.Ih)(e))})))}})})})})]})}))}}]);
//# sourceMappingURL=145.bbbee7ec.chunk.js.map
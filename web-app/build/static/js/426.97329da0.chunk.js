"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[426],{426:(e,n,s)=>{s.r(n),s.d(n,{default:()=>u});var t=s(72791),c=s(78687),a=s(57689),l=s(11135),i=s(25787),o=s(23814),r=s(61889),d=s(45248),x=s(81207),h=s(41320),j=s(5450),Z=s(87995),p=s(80184);const g=(0,c.$j)((e=>({loadingTenant:e.tenants.loadingTenant})),null),u=(0,i.Z)((e=>(0,l.Z)({...o.OR,...o.qg,...o.VX,...o.Bz})))(g((e=>{let{classes:n}=e;const s=(0,h.TL)(),l=(0,a.UO)(),i=(0,c.v9)((e=>e.tenants.loadingTenant)),[o,g]=(0,t.useState)([]),[u,m]=(0,t.useState)(!0),v=l.tenantName||"",f=l.tenantNamespace||"";return(0,t.useEffect)((()=>{i&&m(!0)}),[i]),(0,t.useEffect)((()=>{u&&x.Z.invoke("GET","/api/v1/namespaces/".concat(f,"/tenants/").concat(v,"/events")).then((e=>{for(let n=0;n<e.length;n++){let s=Date.now()/1e3|0;e[n].seen=(0,d.v1)((s-e[n].last_seen).toString())}g(e),m(!1)})).catch((e=>{s((0,Z.Ih)(e)),m(!1)}))}),[u,f,v,s]),(0,p.jsxs)(t.Fragment,{children:[(0,p.jsx)("h1",{className:n.sectionTitle,children:"Events"}),(0,p.jsx)(r.ZP,{item:!0,xs:12,children:(0,p.jsx)(j.Z,{events:o,loading:u})})]})})))},5450:(e,n,s)=>{s.d(n,{Z:()=>v});var t=s(72791),c=s(57482),a=s(79836),l=s(53382),i=s(53994),o=s(56890),r=s(35855),d=s(64554),x=s(56125),h=s(20890),j=s(85172),Z=s(95678),p=s(39281),g=s(35527),u=s(80184);const m=e=>{const{event:n}=e,[s,c]=t.useState(!1);return(0,u.jsxs)(t.Fragment,{children:[(0,u.jsxs)(r.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,u.jsx)(i.Z,{component:"th",scope:"row",onClick:()=>c(!s),children:n.event_type}),(0,u.jsx)(i.Z,{onClick:()=>c(!s),children:n.reason}),(0,u.jsx)(i.Z,{onClick:()=>c(!s),children:n.seen}),(0,u.jsx)(i.Z,{onClick:()=>c(!s),children:n.message.length>=30?"".concat(n.message.slice(0,30),"..."):n.message}),(0,u.jsx)(i.Z,{onClick:()=>c(!s),children:s?(0,u.jsx)(Z.Z,{}):(0,u.jsx)(j.Z,{})})]}),(0,u.jsx)(r.Z,{children:(0,u.jsx)(i.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,u.jsx)(x.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,u.jsx)(d.Z,{sx:{margin:1},children:(0,u.jsx)(h.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:n.message})})})})})]})},v=e=>{let{events:n,loading:s}=e;return s?(0,u.jsx)(c.Z,{}):(0,u.jsx)(p.Z,{component:g.Z,children:(0,u.jsxs)(a.Z,{"aria-label":"collapsible table",children:[(0,u.jsx)(o.Z,{children:(0,u.jsxs)(r.Z,{children:[(0,u.jsx)(i.Z,{children:"Type"}),(0,u.jsx)(i.Z,{children:"Reason"}),(0,u.jsx)(i.Z,{children:"Age"}),(0,u.jsx)(i.Z,{children:"Message"}),(0,u.jsx)(i.Z,{})]})}),(0,u.jsx)(l.Z,{children:n.map((e=>(0,u.jsx)(m,{event:e},"".concat(e.event_type,"-").concat(e.seen))))})]})})}}}]);
//# sourceMappingURL=426.97329da0.chunk.js.map
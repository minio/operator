"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[379],{45902:function(e,n,t){var o=t(1413),r=(t(72791),t(53767)),i=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,s=e.value,l=void 0===s?"-":s,a=e.orientation,u=void 0===a?"column":a,c=e.stkProps,d=void 0===c?{}:c,v=e.lblProps,x=void 0===v?{}:v,f=e.valProps,m=void 0===f?{}:f;return(0,i.jsxs)(r.Z,(0,o.Z)((0,o.Z)({direction:{xs:"column",sm:u}},d),{},{children:[(0,i.jsx)("label",(0,o.Z)((0,o.Z)({style:{marginRight:5,fontWeight:600}},x),{},{children:t})),(0,i.jsx)("label",(0,o.Z)((0,o.Z)({style:{marginRight:5,fontWeight:500}},m),{},{children:l}))]}))}},51379:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var o=t(1413),r=t(72791),i=t(78687),s=t(57689),l=t(11135),a=t(25787),u=t(23814),c=t(61889),d=t(41320),v=t(29439),x=t(27391),f=t(63466),m=t(75952),p=t(42695),j=t(17238),h=t(27454),Z=t(72455),g=t(45248),y=t(80184),b=(0,Z.Z)((function(e){return(0,l.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},u.oZ),u.OR),u.VX),u.Bz))})),C=function(e){var n=e.setPoolDetailsView,t=(0,d.TL)(),o=(0,s.s0)(),l=b(),a=(0,i.v9)((function(e){return e.tenants.loadingTenant})),u=(0,i.v9)((function(e){return e.tenants.tenantInfo})),Z=(0,r.useState)([]),C=(0,v.Z)(Z,2),A=C[0],P=C[1],k=(0,r.useState)(""),N=(0,v.Z)(k,2),w=N[0],R=N[1];(0,r.useEffect)((function(){if(u){var e=u.pools?u.pools:[];P(e)}}),[u]);var _=A.filter((function(e){var n;return!(null===(n=e.name)||void 0===n||!n.toLowerCase().includes(w.toLowerCase()))})),F=[{type:"view",onClick:function(e){t((0,j.Lm)(e.name)),n()}}];return(0,y.jsxs)(r.Fragment,{children:[(0,y.jsxs)(c.ZP,{item:!0,xs:12,className:l.actionsTray,children:[(0,y.jsx)(x.Z,{placeholder:"Filter",className:l.searchField,id:"search-resource",label:"",onChange:function(e){R(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,y.jsx)(f.Z,{position:"start",children:(0,y.jsx)(m.W1M,{})})},variant:"standard"}),(0,y.jsx)(h.Z,{tooltip:"Expand Tenant",children:(0,y.jsx)(m.zxk,{id:"expand-tenant",label:"Expand Tenant",onClick:function(){o("/namespaces/".concat((null===u||void 0===u?void 0:u.namespace)||"","/tenants/").concat((null===u||void 0===u?void 0:u.name)||"","/add-pool"))},icon:(0,y.jsx)(m.dtP,{}),variant:"callAction"})})]}),(0,y.jsx)(c.ZP,{item:!0,xs:12,className:l.tableBlock,children:(0,y.jsx)(p.Z,{itemActions:F,columns:[{label:"Name",elementKey:"name"},{label:"Total Capacity",elementKey:"capacity",renderFullObject:!0,renderFunction:function(e){return(0,g.l5)(e.volumes_per_server*e.servers*e.volume_configuration.size)}},{label:"Servers",elementKey:"servers"},{label:"Volumes/Server",elementKey:"volumes_per_server"}],isLoading:a,records:_,entityName:"Servers",idField:"name",customEmptyMessage:"No Pools found"})})]})},A=t(64554),P=t(45902),k=t(45987),N=t(53767),w=["children"],R=function(e){var n=e.children,t=void 0===n?null:n,r=(0,k.Z)(e,w);return(0,y.jsx)(N.Z,(0,o.Z)((0,o.Z)({direction:{xs:"column",sm:"row"},justifyContent:"space-between",margin:"5px 0 5px 0",spacing:{xs:1,sm:2,md:4}},r),{},{children:t}))},_={border:"#EAEAEA 1px solid",borderRadius:"3px",padding:"0px 20px",position:"relative"},F={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},S=function(){var e,n,t,l,a,u,d,v,x,f,p,j=(0,s.s0)(),h=(0,i.v9)((function(e){return e.tenants.tenantInfo})),Z=(0,i.v9)((function(e){return e.tenants.selectedPool}));if(null===h)return(0,y.jsx)(r.Fragment,{});var b=(null===(e=h.pools)||void 0===e?void 0:e.find((function(e){return e.name===Z})))||null;if(null===b)return null;var C="None";b.affinity&&(C=b.affinity.nodeAffinity?"Node Selector":"Default (Pod Anti-Affinity)");var k=function(e){var n=e.title;return(0,y.jsx)(R,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,y.jsx)("h3",{children:n})})};return(0,y.jsx)(r.Fragment,{children:(0,y.jsxs)(c.ZP,{item:!0,xs:12,sx:(0,o.Z)({},_),children:[(0,y.jsx)("div",{style:{position:"absolute",right:20,top:18},children:(0,y.jsx)(m.zxk,{icon:(0,y.jsx)(m.Jpd,{}),onClick:function(){j("/namespaces/".concat((null===h||void 0===h?void 0:h.namespace)||"","/tenants/").concat((null===h||void 0===h?void 0:h.name)||"","/edit-pool"))},label:"Edit Pool",id:"editPool"})}),(0,y.jsx)(k,{title:"Pool Configuration"}),(0,y.jsxs)(A.Z,{sx:(0,o.Z)({},F),children:[(0,y.jsx)(P.Z,{label:"Pool Name",value:b.name}),(0,y.jsx)(P.Z,{label:"Total Volumes",value:b.volumes_per_server}),(0,y.jsx)(P.Z,{label:"Volumes per server",value:b.volumes_per_server}),(0,y.jsx)(P.Z,{label:"Capacity",value:(0,g.l5)(b.volumes_per_server*b.servers*b.volume_configuration.size)}),(0,y.jsx)(P.Z,{label:"Runtime Class Name",value:b.runtimeClassName})]}),(0,y.jsx)(k,{title:"Resources"}),(0,y.jsxs)(A.Z,{sx:(0,o.Z)({},F),children:[b.resources&&(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(P.Z,{label:"CPU",value:null===(n=b.resources)||void 0===n||null===(t=n.requests)||void 0===t?void 0:t.cpu}),(0,y.jsx)(P.Z,{label:"Memory",value:(0,g.l5)(null===(l=b.resources)||void 0===l||null===(a=l.requests)||void 0===a?void 0:a.memory)})]}),(0,y.jsx)(P.Z,{label:"Volume Size",value:(0,g.l5)(b.volume_configuration.size)}),(0,y.jsx)(P.Z,{label:"Storage Class Name",value:b.volume_configuration.storage_class_name})]}),b.securityContext&&(b.securityContext.runAsNonRoot||b.securityContext.runAsUser||b.securityContext.runAsGroup||b.securityContext.fsGroup)&&(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(k,{title:"Security Context"}),(0,y.jsxs)(A.Z,{children:[null!==b.securityContext.runAsNonRoot&&(0,y.jsx)(A.Z,{sx:(0,o.Z)({},F),children:(0,y.jsx)(P.Z,{label:"Run as Non Root",value:b.securityContext.runAsNonRoot?"Yes":"No"})}),(0,y.jsxs)(A.Z,{sx:(0,o.Z)((0,o.Z)({},F),{},{gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr",md:"1fr 1fr 1fr"}}),children:[b.securityContext.runAsUser&&(0,y.jsx)(P.Z,{label:"Run as User",value:b.securityContext.runAsUser}),b.securityContext.runAsGroup&&(0,y.jsx)(P.Z,{label:"Run as Group",value:b.securityContext.runAsGroup}),b.securityContext.fsGroup&&(0,y.jsx)(P.Z,{label:"FsGroup",value:b.securityContext.fsGroup})]})]})]}),(0,y.jsx)(k,{title:"Affinity"}),(0,y.jsxs)(A.Z,{children:[(0,y.jsxs)(A.Z,{sx:(0,o.Z)({},F),children:[(0,y.jsx)(P.Z,{label:"Type",value:C}),null!==(u=b.affinity)&&void 0!==u&&u.nodeAffinity&&null!==(d=b.affinity)&&void 0!==d&&d.podAntiAffinity?(0,y.jsx)(P.Z,{label:"With Pod Anti affinity",value:"Yes"}):(0,y.jsx)("span",{})]}),(null===(v=b.affinity)||void 0===v?void 0:v.nodeAffinity)&&(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(k,{title:"Labels"}),(0,y.jsx)("ul",{children:null===(x=b.affinity)||void 0===x||null===(f=x.nodeAffinity)||void 0===f||null===(p=f.requiredDuringSchedulingIgnoredDuringExecution)||void 0===p?void 0:p.nodeSelectorTerms.map((function(e){var n;return null===(n=e.matchExpressions)||void 0===n?void 0:n.map((function(e){var n;return(0,y.jsxs)("li",{children:[e.key," - ",null===(n=e.values)||void 0===n?void 0:n.join(", ")]})}))}))})]})]}),b.tolerations&&b.tolerations.length>0&&(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(k,{title:"Tolerations"}),(0,y.jsx)(A.Z,{children:(0,y.jsx)("ul",{children:b.tolerations.map((function(e){var n,t;return(0,y.jsx)("li",{children:"Equal"===e.operator?(0,y.jsxs)(r.Fragment,{children:["If ",(0,y.jsx)("strong",{children:e.key})," is equal to"," ",(0,y.jsx)("strong",{children:e.value})," then"," ",(0,y.jsx)("strong",{children:e.effect})," after"," ",(0,y.jsx)("strong",{children:(null===(n=e.tolerationSeconds)||void 0===n?void 0:n.seconds)||0})," ","seconds"]}):(0,y.jsxs)(r.Fragment,{children:["If ",(0,y.jsx)("strong",{children:e.key})," exists then"," ",(0,y.jsx)("strong",{children:e.effect})," after"," ",(0,y.jsx)("strong",{children:(null===(t=e.tolerationSeconds)||void 0===t?void 0:t.seconds)||0})," ","seconds"]})})}))})})]})]})})},T=(0,a.Z)((function(e){return(0,l.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},u.oZ),u.OR),u.VX),u.Bz))}))((function(e){var n=e.classes,t=(0,d.TL)(),o=(0,s.s0)(),l=(0,s.TH)().pathname,a=void 0===l?"":l,u=(0,i.v9)((function(e){return e.tenants.selectedPool})),v=(0,i.v9)((function(e){return e.tenants.poolDetailsOpen}));return(0,y.jsxs)(r.Fragment,{children:[v&&(0,y.jsx)(c.ZP,{item:!0,xs:12,children:(0,y.jsx)(m.hbI,{label:"Pools list",onClick:function(){o(a),t((0,j.AH)(!1))}})}),(0,y.jsx)("h1",{className:n.sectionTitle,children:v?"Pool Details - ".concat(u||""):"Pools"}),(0,y.jsx)(c.ZP,{container:!0,children:v?(0,y.jsx)(S,{}):(0,y.jsx)(C,{setPoolDetailsView:function(){t((0,j.AH)(!0))}})})]})}))},53767:function(e,n,t){var o=t(4942),r=t(63366),i=t(87462),s=t(72791),l=t(51184),a=t(45682),u=t(78519),c=t(82466),d=t(66934),v=t(31402),x=t(80184),f=["component","direction","spacing","divider","children"];function m(e,n){var t=s.Children.toArray(e).filter(Boolean);return t.reduce((function(e,o,r){return e.push(o),r<t.length-1&&e.push(s.cloneElement(n,{key:"separator-".concat(r)})),e}),[])}var p=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,t=e.theme,r=(0,i.Z)({display:"flex",flexDirection:"column"},(0,l.k9)({theme:t},(0,l.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var s=(0,a.hB)(t),u=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),d=(0,l.P$)({values:n.direction,base:u}),v=(0,l.P$)({values:n.spacing,base:u});"object"===typeof d&&Object.keys(d).forEach((function(e,n,t){if(!d[e]){var o=n>0?d[t[n-1]]:"column";d[e]=o}}));r=(0,c.Z)(r,(0,l.k9)({theme:t},v,(function(e,t){return{"& > :not(style) + :not(style)":(0,o.Z)({margin:0},"margin".concat((r=t?d[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,a.NA)(s,e))};var r})))}return r=(0,l.dt)(t.breakpoints,r)})),j=s.forwardRef((function(e,n){var t=(0,v.Z)({props:e,name:"MuiStack"}),o=(0,u.Z)(t),s=o.component,l=void 0===s?"div":s,a=o.direction,c=void 0===a?"column":a,d=o.spacing,j=void 0===d?0:d,h=o.divider,Z=o.children,g=(0,r.Z)(o,f),y={direction:c,spacing:j};return(0,x.jsx)(p,(0,i.Z)({as:l,ownerState:y,ref:n},g,{children:h?m(Z,h):Z}))}));n.Z=j}}]);
//# sourceMappingURL=379.c2368dd4.chunk.js.map